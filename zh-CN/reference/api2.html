<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RESTful API v2 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#error-response-handling" class="sidebar-link">错误响应处理 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#error-list" class="sidebar-link">错误列表 </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#request-type" class="sidebar-link">请求类型 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#authentication-interface" class="sidebar-link">认证接口 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#getuid" class="sidebar-link">getuid </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#login" class="sidebar-link">login </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#server-side-command-interface" class="sidebar-link">服务端命令接口 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#version" class="sidebar-link">version </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#data-request-function-interface" class="sidebar-link">数据请求功能接口 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#balance" class="sidebar-link">balance </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#blocks" class="sidebar-link">blocks </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#detailed-blocks" class="sidebar-link">detailed_blocks </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#data-id-data-hash" class="sidebar-link">/data/{id}/data/{hash} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#data-table-id-column-hash" class="sidebar-link">/data/{table}/id/{column}/{hash} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#keyinfo" class="sidebar-link">keyinfo </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#wallethistory" class="sidebar-link">walletHistory </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#listwhere-name" class="sidebar-link">listWhere/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#nodelistwhere-name" class="sidebar-link">nodelistWhere/{name} </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#get-metrics-interface" class="sidebar-link">获取指标接口 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#metrics-keys" class="sidebar-link">metrics/keys </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#metrics-blocks" class="sidebar-link">metrics/blocks </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#metrics-transactions" class="sidebar-link">metrics/transactions </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#metrics-ecosystems" class="sidebar-link">metrics/ecosystems </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#metrics-honornodes" class="sidebar-link">metrics/honornodes </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#ecosystem-interface" class="sidebar-link">生态系统接口 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#ecosystemname" class="sidebar-link">ecosystemname </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#appparams-appid" class="sidebar-link">appparams/{appid} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#appparam-appid-name" class="sidebar-link">appparam/{appid}/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#ecosystemparams" class="sidebar-link">ecosystemparams </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#ecosystemparam-name" class="sidebar-link">ecosystemparam/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#tables-limit-offset" class="sidebar-link">tables/\[?limit=\... &amp;offset=\... \] </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#table-name" class="sidebar-link">table/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#list-name-limit-offset-columns" class="sidebar-link">list/{name}\[?limit=\... &amp;offset=\... &amp;columns=\... \] </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#sections-limit-offset-lang" class="sidebar-link">sections\[?limit=\... &amp;offset=\... &amp;lang=\] </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#row-name-id-columns" class="sidebar-link">row/{name}/{id}\[?columns=\] </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#row-name-colorn-id" class="sidebar-link">row/{name}/{column}/{id} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#systemparams" class="sidebar-link">systemparams </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#history-name-id" class="sidebar-link">history/{name}/{id} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#interface-page-menu-snippet-name" class="sidebar-link">interface/{page|menu|snippet}/{name} </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#contract-function-interface" class="sidebar-link">Contract Function Interface </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#contracts-limit-offset" class="sidebar-link">contracts\[?limit=\... &amp;offset=\... \] </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#contract-name" class="sidebar-link">contract/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#sendtx" class="sidebar-link">sendTX </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#txstatus" class="sidebar-link">txstatus </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#txinfo-hash" class="sidebar-link">txinfo/{hash} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#txinfomultiple" class="sidebar-link">txinfoMultiple </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#page-validators-count-name" class="sidebar-link">/page/validators_count/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#content-menu-page-name" class="sidebar-link">content/menu\|page/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#content-source-name" class="sidebar-link">content/source/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#content-hash-name" class="sidebar-link">content/hash/{name} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#content" class="sidebar-link">content </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#maxblockid" class="sidebar-link">maxblockid </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#block-id" class="sidebar-link">block/{id} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#avatar-ecosystem-member" class="sidebar-link">avatar/{ecosystem}/{member} </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#config-centrifugo" class="sidebar-link">config/centrifugo </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#updnotificator" class="sidebar-link">updnotificator </a></li><li class="sidebar-sub-header"><a href="/zh-CN/reference/api2.html#special-instructions" class="sidebar-link">特殊说明 </a></li></ul></li></ul></li><li><a href="/zh-CN/reference/platform-parameters.html" class="sidebar-link">平台参数 </a></li><li><a href="/zh-CN/reference/backend-config.html" class="sidebar-link">服务端配置文件 </a></li><li><a href="/zh-CN/reference/desync_monitor.html" class="sidebar-link">同步监控工具 </a></li><li><a href="/zh-CN/reference/json-rpc.html" class="sidebar-link">JSON-RPC 应用程序接口 </a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="restful-api-v2"><a href="#restful-api-v2" class="header-anchor">#</a> RESTful API v2 </h1> <p>Weaver提供的所有功能，包括身份验证，生态系统数据接收，错误处理，数据库表操作，页面和智能合约执行都可通过IBAX区块链平台 的REST API获得。</p> <p>通过使用REST API，开发者可以在不使用 Weaver 的情况下访问平台的任何功能。</p> <p>API命令调用通过寻址执行 <code>/api/v2/command/[param]</code>，其中 <code>command</code>是命令名称，<code>param</code> 是附加参数。请求参数必须使用<code>Content-Type: x-www-form-urlencoded</code>格式发送。服务器响应结果为JSON格式。</p> <ul><li><a href="#restful-api-v2">RESTful API v2</a> <ul><li><a href="#error-response-handling">错误响应处理</a> <ul><li><a href="#error-list">错误列表</a></li></ul></li> <li><a href="#request-type">请求类型</a></li> <li><a href="#authentication-interface">认证接口</a> <ul><li><a href="#getuid">getuid</a></li> <li><a href="#login">login</a></li></ul></li> <li><a href="#server-side-command-interface">服务端命令接口</a> <ul><li><a href="#version">version</a></li></ul></li> <li><a href="#data-request-function-interface">数据请求功能接口</a> <ul><li><a href="#balance">balance</a></li> <li><a href="#blocks">blocks</a></li> <li><a href="#detailed-blocks">detailed_blocks</a></li> <li><a href="#data-id-data-hash">/data/{id}/data/{hash}</a></li> <li><a href="#data-table-id-column-hash">/data/{table}/id/{column}/{hash}</a></li> <li><a href="#keyinfo">keyinfo</a></li> <li><a href="#wallethistory">walletHistory</a></li> <li><a href="#listwhere-name">listWhere/{name}</a></li> <li><a href="#nodelistwhere-name">nodelistWhere/{name}</a></li></ul></li> <li><a href="#get-metrics-interface">获取指标接口</a> <ul><li><a href="#metrics-keys">metrics/keys</a></li> <li><a href="#metrics-blocks">metrics/blocks</a></li> <li><a href="#metrics-transactions">metrics/transactions</a></li> <li><a href="#metrics-ecosystems">metrics/ecosystems</a></li> <li><a href="#metrics-honornodes">metrics/honornodes</a></li></ul></li> <li><a href="#ecosystem-interface">生态系统接口</a> <ul><li><a href="#ecosystemname">ecosystemname</a></li> <li><a href="#appparams-appid">appparams/{appID}</a></li> <li><a href="#appparam-appid-name">appparam/{appid}/{name}</a></li> <li><a href="#ecosystemparams">ecosystemparams</a></li> <li><a href="#ecosystemparam-name">ecosystemparam/{name}</a></li> <li><a href="#tables-limit-offset">tables/[?limit=... &amp;offset=... ]</a></li> <li><a href="#table-name">table/{name}</a></li> <li><a href="#list-name-limit-offset-columns">list/{name}[?limit=... &amp;offset=... &amp;columns=... ]</a></li> <li><a href="#sections-limit-offset-lang">sections[?limit=... &amp;offset=... &amp;lang=]</a></li> <li><a href="#row-name-id-columns">row/{name}/{id}[?columns=]</a></li> <li><a href="#row-name-column-id">row/{name}/{column}/{id}</a></li> <li><a href="#systemparams">systemparams</a></li> <li><a href="#history-name-id">history/{name}/{id}</a></li> <li><a href="#interface-page-menu-snippet-name">interface/{page|menu|snippet}/{name}</a></li></ul></li> <li><a href="#contract-function-interface">智能合约功能接口</a> <ul><li><a href="#contracts-limit-offset">contracts[?limit=... &amp;offset=... ]</a></li> <li><a href="#contract-name">contract/{name}</a></li> <li><a href="#sendtx">sendTX</a></li> <li><a href="#txstatus">txstatus</a></li> <li><a href="#txinfo-hash">txinfo/{hash}</a></li> <li><a href="#txinfomultiple">txinfoMultiple</a></li> <li><a href="#page-validators-count-name">/page/validators_count/{name}</a></li> <li><a href="#content-menu-page-name">content/menu|page/{name}</a></li> <li><a href="#content-source-name">content/source/{name}</a></li> <li><a href="#content-hash-name">content/hash/{name}</a></li> <li><a href="#content">content</a></li> <li><a href="#maxblockid">maxblockid</a></li> <li><a href="#block-id">block/{id}</a></li> <li><a href="#avatar-ecosystem-member">avatar/{ecosystem}/{member}</a></li> <li><a href="#config-centrifugo">config/centrifugo</a></li> <li><a href="#updnotificator">updnotificator</a></li></ul></li></ul></li></ul> <h2 id="error-response-handling"><a href="#error-response-handling" class="header-anchor">#</a> 错误响应处理 </h2> <p>在请求执行成功的情况下返回状态<code>200</code>。如果出现错误，除了错误状态之外，将返回带有以下字段的JSON对象：</p> <ul><li><p><strong>error</strong></p> <blockquote><p>错误标识符。</p></blockquote></li> <li><p><strong>msg</strong></p> <blockquote><p>错误文本信息。</p></blockquote></li> <li><p><strong>params</strong></p> <blockquote><p>错误的附加参数数组，可以将其放入错误信息中。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>400 (Bad 请求)
Content-Type: application/json
{
    &quot;err&quot;: &quot;E_INVALIDWALLET&quot;,
    &quot;msg&quot;: &quot;Wallet 1234-5678-9012-3444-3488 is not valid&quot;,
    &quot;params&quot;: [&quot;1234-5678-9012-3444-3488&quot;]
}
</code></pre></div><h3 id="error-list"><a href="#error-list" class="header-anchor">#</a> 错误列表 </h3> <blockquote><p><code>E_CONTRACT</code></p></blockquote> <div class="language- extra-class"><pre><code>不存在 `%s` 智能合约
</code></pre></div><blockquote><p><code>E_DBNIL</code></p></blockquote> <div class="language- extra-class"><pre><code>数据库为空
</code></pre></div><blockquote><p><code>E_DELETEDKEY</code></p></blockquote> <div class="language- extra-class"><pre><code>账户地址已冻结
</code></pre></div><blockquote><p><code>E_ECOSYSTEM</code></p></blockquote> <div class="language- extra-class"><pre><code>生态系统 `%d` 不存在
</code></pre></div><blockquote><p><code>E_EMPTYPUBLIC</code></p></blockquote> <div class="language- extra-class"><pre><code>账户公钥无效
</code></pre></div><blockquote><p><code>E_KEYNOTFOUND</code></p></blockquote> <div class="language- extra-class"><pre><code>账户地址未找到
</code></pre></div><blockquote><p><code>E_HASHWRONG</code></p></blockquote> <div class="language- extra-class"><pre><code>哈希不正确
</code></pre></div><blockquote><p><code>E_HASHNOTFOUND</code></p></blockquote> <div class="language- extra-class"><pre><code>哈希未找到
</code></pre></div><blockquote><p><code>E_HEAVYPAGE</code></p></blockquote> <div class="language- extra-class"><pre><code>页面加载过多
</code></pre></div><blockquote><p><code>E_INVALIDWALLET</code></p></blockquote> <div class="language- extra-class"><pre><code>钱包地址 `%s` 无效
</code></pre></div><blockquote><p><code>E_LIMITTXSIZE</code></p></blockquote> <div class="language- extra-class"><pre><code>该交易大小已超出限制
</code></pre></div><blockquote><p><code>E_NOTFOUND</code></p></blockquote> <div class="language- extra-class"><pre><code>页面或菜单内容未找到
</code></pre></div><blockquote><p><code>E_PARAMNOTFOUND</code></p></blockquote> <div class="language- extra-class"><pre><code>参数未找到
</code></pre></div><blockquote><p><code>E_PERMISSION</code></p></blockquote> <div class="language- extra-class"><pre><code>没有权限
</code></pre></div><blockquote><p><code>E_QUERY</code></p></blockquote> <div class="language- extra-class"><pre><code>数据库查询错误
</code></pre></div><blockquote><p><code>E_RECOVERED</code></p></blockquote> <div class="language- extra-class"><pre><code>API发生恐慌性错误。

如果出现恐慌性错误，则返回错误。

这个错误意味着您遇到了一个需要查找和修复的bug。
</code></pre></div><blockquote><p><code>E_SERVER</code></p></blockquote> <div class="language- extra-class"><pre><code>服务器错误。

如果在golang库函数中有错误，则返回。\*msg\* 字段包含错误文本信息。

在响应任何命令时都可能出现 **E_SERVER**错误。如果由于输入参数不正确而出现，则可以将其更改为相关错误。
在另一种情况下，这个错误报告无效的操作或不正确的系统配置，这需要更详细的调查报告。
</code></pre></div><blockquote><p><code>E_SIGNATURE</code></p></blockquote> <div class="language- extra-class"><pre><code>签名不正确
</code></pre></div><blockquote><p><code>E_STATELOGIN</code></p></blockquote> <div class="language- extra-class"><pre><code>`%s` 不是生态系统 `%s` 内的成员
</code></pre></div><blockquote><p><code>E_TABLENOTFOUND</code></p></blockquote> <div class="language- extra-class"><pre><code>数据表 `%s` 未找到
</code></pre></div><blockquote><p><code>E_TOKENEXPIRED</code></p></blockquote> <div class="language- extra-class"><pre><code>会话已失效 `%s`
</code></pre></div><blockquote><p><code>E_UNAUTHORIZED</code></p></blockquote> <div class="language- extra-class"><pre><code>未经授权。

在没有执行登录或会话过期的情况下，除 `getuid、login`之外，任何命令都返回 **E_UNAUTHORIZED** 错误。
</code></pre></div><blockquote><p><code>E_UNKNOWNUID</code></p></blockquote> <div class="language- extra-class"><pre><code>未知UID
</code></pre></div><blockquote><p><code>E_UPDATING</code></p></blockquote> <div class="language- extra-class"><pre><code>节点正在更新区块链
</code></pre></div><blockquote><p><code>E_STOPPING</code></p></blockquote> <div class="language- extra-class"><pre><code>节点已停止
</code></pre></div><blockquote><p><code>E_NOTIMPLEMENTED</code></p></blockquote> <div class="language- extra-class"><pre><code>尚未实现
</code></pre></div><blockquote><p><code>E_BANNED</code></p></blockquote> <div class="language- extra-class"><pre><code>该账户地址在 `%s` 禁止使用
</code></pre></div><blockquote><p><code>E_CHECKROLE</code></p></blockquote> <div class="language- extra-class"><pre><code>拒绝访问

CLB 不可用接口
</code></pre></div><hr> <blockquote><p>CLB 节点不可用的接口请求：</p></blockquote> <ul><li>metrics</li> <li>txinfo</li> <li>txinfoMultiple</li> <li>appparam</li> <li>appparams</li> <li>appcontent</li> <li>history</li> <li>balance</li> <li>block</li> <li>maxblockid</li> <li>blocks</li> <li>detailed_blocks</li> <li>ecosystemparams</li> <li>systemparams</li> <li>ecosystems</li> <li>ecosystemparam</li> <li>ecosystemname</li> <li>walletHistory</li> <li>tx_record</li></ul> <h2 id="request-type"><a href="#request-type" class="header-anchor">#</a> 请求类型 </h2> <p><strong>统一使用</strong></p> <ul><li>application/x-www-form-urlencoded</li></ul> <h2 id="authentication-interface"><a href="#authentication-interface" class="header-anchor">#</a> 认证接口 </h2> <p><a href="https://jwt.io" target="_blank" rel="noopener noreferrer">JWT token<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
用于认证。收到JWT令牌后必须将其放在每个请求头中：<code>Authorization: Bearer TOKEN_HERE</code>。</p> <h3 id="getuid"><a href="#getuid" class="header-anchor">#</a> getuid </h3> <p><strong>GET</strong>/ 返回一个唯一值， 使用私钥对其签名，然后使用<a href="#login">login</a> 命令将其发送回服务器。</p> <p>生成临时JWT令牌，在调用 <strong>login</strong> 时需要将令牌传递给 <strong>Authorization</strong>。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/getuid
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>uid</code></p> <blockquote><p>签名数字。</p></blockquote></li> <li><p><code>token</code></p> <blockquote><p>登录时传递的临时令牌。</p> <p>临时令牌的生命周期为5秒。</p></blockquote></li> <li><p><code>network_id</code></p> <blockquote><p>服务器标识符。</p></blockquote></li> <li><p><code>cryptoer</code></p> <blockquote><p>椭圆曲线算法。</p></blockquote></li> <li><p><code>hasher</code></p> <blockquote><p>hash算法。</p></blockquote></li></ul> <p><strong>响应示例1</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;uid&quot;: &quot;4999317241855959593&quot;,
    &quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9........I7LY6XX4IP12En6nr8UPklE9U4qicqg3K9KEzGq_8zE&quot;
    &quot;network_id&quot;: &quot;4717243765193692211&quot;
}
</code></pre></div><p>在不需要授权的情况下(请求包含<strong>Authorization</strong>)，将返回以下信息:</p> <ul><li><p><code>expire</code></p> <blockquote><p>过期时间。</p></blockquote></li> <li><p><code>ecosystem</code></p> <blockquote><p>生态系统ID。</p></blockquote></li> <li><p><code>key_id</code></p> <blockquote><p>账户地址。</p></blockquote></li> <li><p><code>address</code></p> <blockquote><p>钱包地址 <code>XXXX-XXXX-.....-XXXX</code>。</p></blockquote></li> <li><p><code>network_id</code></p> <blockquote><p>服务器标识符。</p></blockquote></li></ul> <p><strong>响应示例2</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;expire&quot;: &quot;2159h59m49.4310543s&quot;,
    &quot;ecosystem_id&quot;: &quot;1&quot;,
    &quot;key_id&quot;: &quot;-654321&quot;,
    &quot;address&quot;: &quot;1196-......-3496&quot;,
    &quot;network_id&quot;: &quot;1&quot;
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER</em></p> <h3 id="login"><a href="#login" class="header-anchor">#</a> login </h3> <p><strong>POST</strong>/ 用户身份验证。</p> <blockquote><p>应首先调用 <strong>getuid</strong> 命令，以便接收唯一值并对其进行签名。getuid的临时JWT令牌需要放在请求头中传递。</p> <p>如果请求成功，则响应中收到的令牌包含在 <strong>Authorization</strong> 中。</p></blockquote> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/login
</code></pre></div><ul><li><p><code>ecosystem</code></p> <blockquote><p>生态系统ID。</p> <p>如果未指定，默认为第一个生态系统ID。</p></blockquote></li> <li><p><code>expire</code></p> <blockquote><p>JWT令牌的生命周期，以秒为单位，默认为28800。</p></blockquote></li> <li><p><code>pubkey</code></p> <blockquote><p>十六进制账户公钥。</p></blockquote></li> <li><p><code>key_id</code></p> <blockquote><p>账户地址 <code>XXXX-...-XXXX</code>。</p> <p>在公钥已经存储在区块链中的情况下使用此参数。不能与 <em>pubkey</em>
参数一起使用。</p></blockquote></li> <li><p><code>signature</code></p> <blockquote><p>使用私钥对getuid收到的uid签名。签名数据内容:</p></blockquote> <div class="language-text extra-class"><pre class="language-text"><code>    LOGIN+{$network_id}+uid
</code></pre></div></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>token</code></p> <blockquote><p>JWT令牌。</p></blockquote></li> <li><p><code>ecosystem_id</code></p> <blockquote><p>生态系统ID。</p></blockquote></li> <li><p><code>key_id</code></p> <blockquote><p>账户地址ID</p></blockquote></li> <li><p><code>account</code></p> <blockquote><p>钱包地址 <code>XXXX-XXXX-.....-XXXX</code>。</p></blockquote></li> <li><p><code>notify_key</code></p> <blockquote><p>通知ID。</p></blockquote></li> <li><p><code>isnode</code></p> <blockquote><p>该账户地址是否是该节点的所有者。值： <code>true,false</code>。</p></blockquote></li> <li><p><code>isowner</code></p> <blockquote><p>该账户地址是否是该生态系统的创建者。值： <code>true,false</code>。</p></blockquote></li> <li><p><code>clb</code></p> <blockquote><p>登录的生态系统是否为 CLB 。值： <code>true,false</code>。</p></blockquote></li> <li><p><code>roles</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>角色列表： <code>[{角色ID,角色名称}]</code>。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
	&quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...30l665h3v7lH85rs5jgk0&quot;,
	&quot;ecosystem_id&quot;: &quot;1&quot;,
	&quot;key_id&quot;: &quot;-54321&quot;,
	&quot;account&quot;: &quot;1285-...-7743-4282&quot;,
	&quot;notify_key&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9....._JTFfheD0K4CfMbvVNpOJVMNDPx25zIDGir9g3ZZM0w&quot;,
	&quot;timestamp&quot;: &quot;1451309883&quot;,
	&quot;roles&quot;: [
		{
			&quot;role_id&quot;: 1,
			&quot;role_name&quot;: &quot;Developer&quot;
		}
	]
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER, E_UNKNOWNUID, E_SIGNATURE, E_STATELOGIN, E_EMPTYPUBLIC</em></p> <h2 id="server-side-command-interface"><a href="#server-side-command-interface" class="header-anchor">#</a> 服务端命令接口 </h2> <h3 id="version"><a href="#version" class="header-anchor">#</a> version </h3> <p><strong>GET</strong>/ 返回当前服务器版本。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/version
</code></pre></div><p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
&quot;1.3.0 branch.main commit.790..757 time.2021-08-23-08:20:19(UTC)&quot;
</code></pre></div><h2 id="data-request-function-interface"><a href="#data-request-function-interface" class="header-anchor">#</a> 数据请求功能接口 </h2> <h3 id="balance"><a href="#balance" class="header-anchor">#</a> balance </h3> <p><strong>GET</strong>/ 请求当前生态系统中帐户地址的余额。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/balance/{wallet}
</code></pre></div><ul><li><p><code>wallet</code></p> <blockquote><p>地址标识符，可以任何格式指定 <code>int64, uint64, XXXX-...-XXXX</code>。 在用户当前登录的生态系统中查询该地址。</p></blockquote></li> <li><p><code>ecosystem</code> <a href="#omitempty">Omitempty</a> Default ecosystem 1</p> <blockquote><p>生态系统id，默认生态1。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>amount</code></p> <blockquote><p>最小单位的智能合约帐户余额。</p></blockquote></li> <li><p><code>money</code></p> <blockquote><p>帐户余额。</p></blockquote></li> <li><p><code>total</code></p> <blockquote><p>帐户余额。</p></blockquote></li> <li><p><code>utxo</code></p> <blockquote><p>UTXO帐户余额。</p></blockquote></li> <li><p><em>digits</em></p> <blockquote><p>精度。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;amount&quot;: &quot;877450000000000&quot;,
    &quot;money&quot;: &quot;877.45&quot;,
    &quot;total&quot;: &quot;877450000000000&quot;,
    &quot;digits&quot;: 6,
    &quot;utxo&quot;: &quot;0&quot;
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER, E_INVALIDWALLET</em></p> <h3 id="blocks"><a href="#blocks" class="header-anchor">#</a> blocks </h3> <p><strong>GET</strong>/ 返回其中包含每个区块中交易的相关附加信息列表。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET 
/api/v2/blocks
</code></pre></div><ul><li><p><code>block_id</code> <a href="#omitempty">Omitempty</a> 默认为0</p> <blockquote><p>要查询的起始区块高度。</p></blockquote></li> <li><p><code>count</code> <a href="#omitempty">Omitempty</a> (默认为25，最大请求1000)</p> <blockquote><p>区块数量。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p>区块高度</p> <blockquote><p>区块中的交易列表以及每个交易的附加信息：</p> <blockquote><ul><li><p><code>hash</code></p> <blockquote><p>交易哈希。</p></blockquote></li> <li><p><code>contract_name</code></p> <blockquote><p>智能合约名称。</p></blockquote></li> <li><p><code>params</code></p> <blockquote><p>合约参数数组。</p></blockquote></li> <li><p><code>key_id</code></p> <blockquote><p>对于第一个区块，是签署该交易的第一个区块的账户地址。</p> <p>对于所有其他区块，是签署该交易的账户地址。</p></blockquote></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{&quot;1&quot;:
    [{&quot;hash&quot;:&quot;O1LhrjKznrYa0z5n5cej6p5Y1j5E9v/oV27VPRJmfgo=&quot;,
    &quot;contract_name&quot;:&quot;&quot;,
    &quot;params&quot;:null,
    &quot;key_id&quot;:-118432674655542910}]
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER, E_NOTFOUND</em></p> <h3 id="detailed-blocks"><a href="#detailed-blocks" class="header-anchor">#</a> detailed_blocks </h3> <p><strong>GET</strong>/ 返回其中包含每个区块中交易的详细附加信息列表。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/detailed_blocks
</code></pre></div><ul><li><p><code>block_id</code> <a href="#omitempty">Omitempty</a> 默认为0</p> <blockquote><p>要查询的起始区块高度。</p></blockquote></li> <li><p><code>count</code> <a href="#omitempty">Omitempty</a> (默认为25，最大请求1000)</p> <blockquote><p>区块数量。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><code>Block height</code> 区块高度</li> <li><code>blockhead</code> 区块头包含以下字段：
<ul><li><code>block_id</code> 区块高度。</li> <li><code>time</code> 区块生成时间戳。</li> <li><code>key_id</code> 签署该区块的账户地址。</li> <li><code>node_position</code> 在荣誉节点列表中生成区块的节点的位置。</li> <li><code>version</code> 区块结构版本。</li></ul></li> <li><code>hash</code> 区块哈希。</li> <li><code>node_position</code> 在荣誉节点列表中生成区块的节点的位置。</li> <li><code>key_id</code> 签署该区块的账户地址。</li> <li><code>time</code> 区块生成时间戳。</li> <li><code>tx_count</code> 该区块内的交易数。</li> <li><code>size</code> 该区块大小。</li> <li><code>rollback_hash</code> 区块回滚哈希值。</li> <li><code>merkle_root</code> 该区块交易的默克尔树。</li> <li><code>bin_data</code> 区块头、区块内所有交易、上一个区块哈希和生成该区块的节点私钥的序列化。</li> <li><code>transactions</code> 区块中的交易列表以及每个交易的附加信息：
<ul><li><code>hash</code> 交易哈希。</li> <li><code>contract_name</code> 合约名称。</li> <li><code>params</code> 合约参数。</li> <li><code>key_id</code> 签署该交易的账户地址。</li> <li><code>time</code> 交易生成时间戳。</li> <li><code>type</code> 交易类型。</li> <li><code>size</code> 交易大小。</li></ul></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{&quot;1&quot;:
    {&quot;header&quot;:
        {&quot;block_id&quot;:1,
        &quot;time&quot;:1551069320,
        &quot;ecosystem_id&quot;:0,
        &quot;key_id&quot;:-118432674655542910,
        &quot;node_position&quot;:0,
        &quot;version&quot;:1},
    &quot;hash&quot;:&quot;3NxhvswmpGvRdw8HdkrniI5Mx/q14Z4d5hwGKMp6KHI=&quot;,
    &quot;ecosystem_id&quot;:0,
    &quot;node_position&quot;:0,
    &quot;key_id&quot;:-118432674655542910,
    &quot;time&quot;:1551069320,
    &quot;tx_count&quot;:1,
    &quot;size&quot;: &quot;1.69KiB&quot;,
    &quot;rollbacks_hash&quot;:&quot;I2JHugpbdMNxBdNW1Uc0XnbiXFtzB74yD9AK5YI5i/k=&quot;,
    &quot;mrkl_root&quot;:&quot;MTZiMjY2NGJjOWY3MDAyODlhYjkyMDVhZDQwNDgxNzkxMjY1MWJjNjczNDkyZjk5MWI2Y2JkMjAxNTIwYjUyYg==&quot;,
    &quot;bin_data&quot;:null,
    &quot;sys_update&quot;:false,
    &quot;gen_block&quot;:false,
    &quot;stop_count&quot;:0,
    &quot;transactions&quot;:[
        {
            &quot;hash&quot;:&quot;O1LhrjKznrYa0z5n5cej6p5Y1j5E9v/oV27VPRJmfgo=&quot;,
            &quot;contract_name&quot;:&quot;&quot;,
            &quot;params&quot;:null,
            &quot;key_id&quot;:0,
            &quot;time&quot;:0,
            &quot;type&quot;:0,
            &quot;size&quot;: &quot;300.00B&quot;
        }
    ]}
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER, E_NOTFOUND</em></p> <h3 id="data-id-data-hash"><a href="#data-id-data-hash" class="header-anchor">#</a> /data/{id}/data/{hash} </h3> <p><strong>GET</strong>/
如果指定哈希与二进制表、字段和记录中的数据匹配，则此请求将返回数据。否则返回错误。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/data/{id}/data/{hash}
</code></pre></div><ul><li><p><code>id</code></p> <blockquote><p>记录ID。</p></blockquote></li> <li><p><code>hash</code></p> <blockquote><p>请求数据的哈希。</p></blockquote></li></ul> <p><strong>响应</strong></p> <blockquote><p>二进制数据</p></blockquote> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: *
{
    &quot;name&quot;: &quot;NFT Miner&quot;,
    &quot;conditions&quot;: &quot;ContractConditions(\&quot;@1DeveloperCondition\&quot;)&quot;,
    &quot;data&quot;: [
        {
            &quot;Type&quot;: &quot;contracts&quot;,
            &quot;Name&quot;: &quot;NewNFTMiner&quot;,
        },
        ...
    ]
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER, E_NOTFOUND, E_HASHWRONG</em></p> <h3 id="data-table-id-column-hash"><a href="#data-table-id-column-hash" class="header-anchor">#</a> /data/{table}/id/{column}/{hash} </h3> <p><strong>GET</strong>/
如果指定哈希与指定表、字段和记录中的数据匹配，则此请求将返回数据。否则返回错误。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/data/{table}/id/{column}/{hash}
</code></pre></div><ul><li><p><code>table</code></p> <blockquote><p>数据表名。</p></blockquote></li> <li><p><code>id</code></p> <blockquote><p>记录ID。</p></blockquote></li> <li><p><code>column</code></p> <blockquote><p>数据表列名,只能是一个</p></blockquote></li> <li><p><code>hash</code></p> <blockquote><p>请求数据的哈希。</p></blockquote></li></ul> <p><strong>响应</strong></p> <blockquote><p>二进制数据</p></blockquote> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/octet-stream
Content-Disposition: attachment

SetVar(this_page, @1voting_list).(this_table, @1votings)
Include(@1pager_header)

SetTitle(&quot;$@1voting_list$&quot;)
Span(Class: text-muted h5 m0 mb ml-lg, Body: Span(Class: ml-sm, Body: &quot;$@1votings_list_desc$&quot;))
AddToolButton(Title: $@1templates_list$, Page: @1voting_templates_list, Icon: icon-pin)
AddToolButton(Title: $@1create$, Page: @1voting_create, Icon: icon-plus).Popup(60, $@1new_voting$)

</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER, E_NOTFOUND, E_HASHWRONG</em></p> <h3 id="keyinfo"><a href="#keyinfo" class="header-anchor">#</a> keyinfo </h3> <p><strong>GET</strong>/ 返回一个生态系统列表，其中包含注册了指定地址的角色。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/keyinfo/{address}
</code></pre></div><ul><li><p><code>address</code></p> <blockquote><p>地址标识符，可以任何格式指定 <code>int64, uint64, XXXX-...-XXXX</code>。</p> <p>该请求在所有生态系统中查询。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>ecosystem</code></p> <blockquote><p>生态系统ID。</p></blockquote></li> <li><p><code>name</code></p> <blockquote><p>生态系统名称。</p></blockquote></li> <li><p><code>roles</code></p> <blockquote><p>具有 <em>id</em> 和 <em>name</em> 字段的角色列表。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
[{
    &quot;ecosystem&quot;:&quot;1&quot;,
    &quot;name&quot;:&quot;platform ecosystem&quot;,
    &quot;roles&quot;:[{&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;Governancer&quot;},{&quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;Developer&quot;}]
}]
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER, E_INVALIDWALLET</em></p> <h3 id="wallethistory"><a href="#wallethistory" class="header-anchor">#</a> walletHistory </h3> <p><strong>GET</strong>/ 返回当前账户交易历史记录,根据id倒序查找</p> <p><a href="#authorization">Authorization</a></p> <p><strong>请求</strong></p> <ul><li><p><code>searchType</code></p> <blockquote><p>查找类型(income:转入 outcome:转出 all:全部,默认)。</p></blockquote></li> <li><p><code>page</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>查找页数,默认第一页,min:1</p></blockquote></li> <li><p><code>limit</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>条目条数，默认20条。min:1，max:500</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/walletHistory?searchType=all&amp;amp;page=1&amp;amp;limit=10
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>total</code></p> <blockquote><p>条目总数。</p></blockquote></li> <li><p><code>page</code></p> <blockquote><p>当前页数。</p></blockquote></li> <li><p><code>limit</code></p> <blockquote><p>当前查找条数。</p></blockquote></li> <li><p><code>list</code> 数组中的每个元素包含以下参数：</p> <ul><li><code>id</code> 条目ID。</li> <li><code>sender_id</code> 发送key_id</li> <li><code>sender_add</code> 发送账户地址</li> <li><code>recipient_id</code> 接受key_id</li> <li><code>recipient_add</code> 接受账户地址</li> <li><code>amount</code> 交易额</li> <li><code>comment</code> 交易备注</li> <li><code>block_id</code> 区块高度</li> <li><code>tx_hash</code> 交易hash</li> <li><code>created_at</code> 交易创建时间，毫秒时间戳</li> <li><code>money</code> 交易额</li></ul></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;page&quot;: 1,
    &quot;limit&quot;: 10,
    &quot;total&quot;: 617,
    &quot;list&quot;: [
        {
            &quot;id&quot;: 650,
            &quot;sender_id&quot;: 666081971617879...,
            &quot;sender_add&quot;: &quot;0666-0819-7161-xxxx-5186&quot;,
            &quot;recipient_id&quot;: 666081971617879...,
            &quot;recipient_add&quot;: &quot;0666-0819-7161-xxxx-5186&quot;,
            &quot;amount&quot;: &quot;242250000&quot;,
            &quot;comment&quot;: &quot;taxes for execution of @1Export contract&quot;,
            &quot;block_id&quot;: 209,
            &quot;tx_hash&quot;: &quot;a213bc767d710a223856d83515d53518075b56fb9e9c063bce8a256c20ff0775&quot;,
            &quot;created_at&quot;: 1666001092090,
            &quot;money&quot;: &quot;0.00024225&quot;
        }
        ...
    ]
}  
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER</em></p> <h3 id="listwhere-name"><a href="#listwhere-name" class="header-anchor">#</a> listWhere/{name} </h3> <p><strong>POST</strong>/ 返回当前生态系统中指定数据表的条目。可以指定要返回的列。</p> <p><a href="#authorization">Authorization</a></p> <p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>数据表名称。</p></blockquote></li> <li><p><code>limit</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>条目条数，默认25条。</p></blockquote></li> <li><p><code>offset</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>偏移量，默认为0。</p></blockquote></li> <li><p><code>order</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>排序方式，默认id ASC。</p></blockquote></li> <li><p><code>columns</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。</p></blockquote></li> <li><p><code>where</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>查询条件</p> <p>Example:如果要查询 id&gt;2 和 name = john</p> <p>你可以使用：where:{&quot;id&quot;:{&quot;$gt&quot;:2},&quot;name&quot;:{&quot;$eq&quot;:&quot;john&quot;}}</p> <p>详情请参考<a href="/zh-CN/topics/script.html#dbfind">DBFind</a> where 语法</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/listWhere/mytable
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>count</code></p> <blockquote><p>条目总数。</p></blockquote></li> <li><p><code>list</code></p> <blockquote><p>数组中的每个元素包含以下参数：</p></blockquote> <ul><li><code>id</code> <blockquote><p>条目ID。</p></blockquote></li> <li><code>...</code> <blockquote><p>数据表其他列</p></blockquote></li></ul></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: 1,
    &quot;list&quot;: [
        {
            &quot;account&quot;: &quot;xxxx-0819-7161-xxxx-xxxx&quot;,
            &quot;ecosystem&quot;: &quot;1&quot;,
            &quot;id&quot;: &quot;12&quot;,
            &quot;key&quot;: &quot;avatar&quot;,
            &quot;value&quot;: &quot;{\&quot;binary_id\&quot;: 4}&quot;
        }
    ]
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER</em>,<em>E_TABLENOTFOUND</em></p> <h3 id="nodelistwhere-name"><a href="#nodelistwhere-name" class="header-anchor">#</a> nodelistWhere/{name} </h3> <p><strong>POST</strong>/ 返回指定数据表的条目。可以指定要返回的列。对数据表中类型为<em>BYTEA</em>做16进制编码处理</p> <p><a href="#authorization">Authorization</a></p> <p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>数据表名称。</p></blockquote></li> <li><p><code>limit</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>条目条数，默认25条。</p></blockquote></li> <li><p><code>offset</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>偏移量，默认为0。</p></blockquote></li> <li><p><code>order</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>排序方式，默认id ASC。</p></blockquote></li> <li><p><code>columns</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。</p></blockquote></li> <li><p><code>where</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>查询条件</p> <p>Example:如果要查询 id&gt;2 和 name = john</p> <p>你可以使用：where:{&quot;id&quot;:{&quot;$gt&quot;:2},&quot;name&quot;:{&quot;$eq&quot;:&quot;john&quot;}}</p> <p>详情请参考<a href="/zh-CN/topics/script.html#dbfind">DBFind</a> where 语法</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/nodelistWhere/mytable
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>count</code></p> <blockquote><p>条目总数。</p></blockquote></li> <li><p><code>list</code></p> <blockquote><p>数组中的每个元素包含以下参数：</p></blockquote> <ul><li><code>id</code> <blockquote><p>条目ID。</p></blockquote></li> <li><code>...</code> <blockquote><p>数据表其他列</p></blockquote></li></ul></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: 1,
    &quot;list&quot;: [
        {
            &quot;account&quot;: &quot;xxxx-0819-7161-xxxx-xxxx&quot;,
            &quot;ecosystem&quot;: &quot;1&quot;,
            &quot;id&quot;: &quot;12&quot;,
            &quot;key&quot;: &quot;avatar&quot;,
            &quot;value&quot;: &quot;{\&quot;binary_id\&quot;: 4}&quot;
        }
    ]
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_SERVER</em>,<em>E_TABLENOTFOUND</em></p> <h2 id="get-metrics-interface"><a href="#get-metrics-interface" class="header-anchor">#</a> 获取指标接口 </h2> <h3 id="metrics-keys"><a href="#metrics-keys" class="header-anchor">#</a> metrics/keys </h3> <p><strong>GET</strong>/ 返回生态1账户地址数量。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/metrics/keys
</code></pre></div><p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: 28
}
</code></pre></div><h3 id="metrics-blocks"><a href="#metrics-blocks" class="header-anchor">#</a> metrics/blocks </h3> <p><strong>GET</strong>/ 返回区块数量。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/metrics/blocks
</code></pre></div><p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: 28
}
</code></pre></div><h3 id="metrics-transactions"><a href="#metrics-transactions" class="header-anchor">#</a> metrics/transactions </h3> <p><strong>GET</strong>/ 返回交易总数量。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/metrics/transactions
</code></pre></div><p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: 28
}
</code></pre></div><h3 id="metrics-ecosystems"><a href="#metrics-ecosystems" class="header-anchor">#</a> metrics/ecosystems </h3> <p><strong>GET</strong>/ 返回生态系统的数量。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/metrics/ecosystems
</code></pre></div><p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: 28
}
</code></pre></div><h3 id="metrics-honornodes"><a href="#metrics-honornodes" class="header-anchor">#</a> metrics/honornodes </h3> <p><strong>GET</strong>/ 返回荣誉节点的数量。</p> <p>该请求不需要登录授权。</p> <div class="language- extra-class"><pre class="language-text"><code>GET
/api/v2/metrics/honornodes
</code></pre></div><p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: 28
}
</code></pre></div><h2 id="ecosystem-interface"><a href="#ecosystem-interface" class="header-anchor">#</a> 生态系统接口 </h2> <h3 id="ecosystemname"><a href="#ecosystemname" class="header-anchor">#</a> ecosystemname </h3> <p><strong>GET</strong>/ 通过其标识符返回生态系统的名称。</p> <p>该请求不需要登录授权。</p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/ecosystemname?id=1
</code></pre></div><ul><li><p><em>id</em></p> <blockquote><p>生态系统ID。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;ecosystem_name&quot;: &quot;platform_ecosystem&quot;
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_PARAMNOTFOUND</em></p> <h3 id="appparams-appid"><a href="#appparams-appid" class="header-anchor">#</a> appparams/{appid} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前或指定生态系统中的应用程序参数列表。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/appparams/{appid}
</code></pre></div><ul><li><p><code>appid</code></p> <blockquote><p>应用程序ID。</p></blockquote></li> <li><p><code>ecosystem</code></p> <blockquote><p>生态系统ID；如果未指定，将返回当前生态系统的参数。</p></blockquote></li> <li><p><code>names</code></p> <blockquote><p>接收的参数列表。</p> <p>可以指定由逗号分隔的参数名称列表，例如:<code>/api/v2/appparams/1?names=name,mypar</code>。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>list</code></p> <blockquote><p>数组中的每个元素包含以下参数：</p> <ul><li><code>name</code>，参数名称；</li> <li><code>value</code>，参数值；</li> <li><code>conditions</code>，更改参数的权限。</li></ul></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;list&quot;: [{ 
        &quot;name&quot;: &quot;name&quot;,
        &quot;value&quot;: &quot;MyState&quot;,
        &quot;conditions&quot;: &quot;true&quot;,
    }, 
    { 
        &quot;name&quot;: &quot;mypar&quot;,
        &quot;value&quot;: &quot;My value&quot;,
        &quot;conditions&quot;: &quot;true&quot;,
    }, 
    ]
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_ECOSYSTEM</em></p> <h3 id="appparam-appid-name"><a href="#appparam-appid-name" class="header-anchor">#</a> appparam/{appid}/{name} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前或指定生态系统中应用程序 <strong>{appid}</strong> 的参数 <strong>{name}</strong> 的相关信息。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/appparam/{appid}/{name}[?ecosystem=1]
</code></pre></div><ul><li><p><code>appid</code></p> <blockquote><p>应用程序ID。</p></blockquote></li> <li><p><code>name</code></p> <blockquote><p>请求的参数的名称。</p></blockquote></li> <li><p><code>ecosystem</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>生态系统ID（可选参数）。</p> <p>默认返回当前的生态系统。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>id</code></p> <blockquote><p>参数ID。</p></blockquote></li> <li><p><code>name</code></p> <blockquote><p>参数名称。</p></blockquote></li> <li><p><code>value</code></p> <blockquote><p>参数值。</p></blockquote></li> <li><p><code>conditions</code></p> <blockquote><p>更改参数的权限。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;id&quot;: &quot;10&quot;,
    &quot;name&quot;: &quot;par&quot;,
    &quot;value&quot;: &quot;My value&quot;,
    &quot;conditions&quot;: &quot;true&quot;
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_ECOSYSTEM, E_PARAMNOTFOUND</em></p> <h3 id="ecosystemparams"><a href="#ecosystemparams" class="header-anchor">#</a> ecosystemparams </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回生态系统参数列表。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/ecosystemparams/[?ecosystem=...&amp;amp;names=...]
</code></pre></div><ul><li><p><code>ecosystem</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>生态系统ID。如果未指定，将返回当前生态系统ID。</p></blockquote></li> <li><p><code>names</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>请求参数列表，以逗号分隔。</p> <p>例如: <code>/api/v2/ecosystemparams/?names=name,currency,logo</code>.</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>list</code></p> <blockquote><p>数组中的每个元素包含以下参数：</p> <ul><li><p><code>name</code></p> <blockquote><p>参数名称。</p></blockquote></li> <li><p><code>value</code></p> <blockquote><p>参数值。</p></blockquote></li> <li><p><code>conditions</code></p> <blockquote><p>更改参数的权限。</p></blockquote></li></ul></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;list&quot;: [{ 
        &quot;name&quot;: &quot;name&quot;,
        &quot;value&quot;: &quot;MyState&quot;,
        &quot;conditions&quot;: &quot;true&quot;,
    }, 
    { 
        &quot;name&quot;: &quot;currency&quot;,
        &quot;value&quot;: &quot;MY&quot;,
        &quot;conditions&quot;: &quot;true&quot;,
    }, 
    ]
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_ECOSYSTEM</em></p> <h3 id="ecosystemparam-name"><a href="#ecosystemparam-name" class="header-anchor">#</a> ecosystemparam/{name} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前或指定生态系统中参数 <strong>{name}</strong> 的相关信息。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/ecosystemparam/{name}[?ecosystem=1]
</code></pre></div><ul><li><p><code>name</code></p> <blockquote><p>请求的参数名称。</p></blockquote></li> <li><p><code>ecosystem</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>可以指定生态系统ID。默认返回当前的生态系统ID。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>参数名称。</p></blockquote></li> <li><p><code>value</code></p> <blockquote><p>参数值。</p></blockquote></li> <li><p><code>conditions</code></p> <blockquote><p>更改参数的权限。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;name&quot;: &quot;currency&quot;,
    &quot;value&quot;: &quot;MYCUR&quot;,
    &quot;conditions&quot;: &quot;true&quot;
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_ECOSYSTEM</em></p> <h3 id="tables-limit-offset"><a href="#tables-limit-offset" class="header-anchor">#</a> tables/[?limit=... &amp;offset=... ] </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前生态系统的数据表列表。可以设置偏移量和条目条数。</p> <p><strong>请求</strong></p> <ul><li><p><code>limit</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>条目条数，默认100条,最多1000条。</p></blockquote></li> <li><p><code>offset</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>偏移量，默认为0。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/tables?limit=...&amp;amp;offset=...
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>count</code></p> <blockquote><p>数据表中的条目总数。</p></blockquote></li> <li><p><code>list</code></p> <blockquote><p>数组中的每个元素包含以下参数：</p> <blockquote><ul><li><p><code>name</code></p> <blockquote><p>无前缀的数据表名称。</p></blockquote></li> <li><p><code>count</code></p> <blockquote><p>数据表中的条目数。</p></blockquote></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: &quot;100&quot;
    &quot;list&quot;: [{ 
        &quot;name&quot;: &quot;accounts&quot;,
        &quot;count&quot;: &quot;10&quot;,
    }, 
    { 
        &quot;name&quot;: &quot;citizens&quot;,
        &quot;count&quot;: &quot;5&quot;,
   }, 
    ]
}    
</code></pre></div><h3 id="table-name"><a href="#table-name" class="header-anchor">#</a> table/{name} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前生态系统请求数据表的相关信息。</p> <p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>数据表名称。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/table/{table_name}
</code></pre></div><p>返回以下字段信息：</p> <ul><li><p><code>name</code></p> <blockquote><p>数据表名称。</p></blockquote></li> <li><p><code>insert</code></p> <blockquote><p>新增条目的权限。</p></blockquote></li> <li><p><code>new_column</code></p> <blockquote><p>新增字段权限。</p></blockquote></li> <li><p><code>update</code></p> <blockquote><p>更改条目权限。</p></blockquote></li> <li><p><code>columns</code></p> <blockquote><p>字段相关信息数组：</p> <blockquote><ul><li><p><code>name</code></p> <blockquote><p>字段名称。</p></blockquote></li> <li><p><code>type</code></p> <blockquote><p>字段数据类型。</p></blockquote></li> <li><p><code>perm</code></p> <blockquote><p>更改该字段值的权限。</p></blockquote></li></ul></blockquote></blockquote></li></ul> <h3 id="list-name-limit-offset-columns"><a href="#list-name-limit-offset-columns" class="header-anchor">#</a> list/{name}[?limit=... &amp;offset=... &amp;columns=... ] </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/
返回当前生态系统中指定数据表条目的列表。可以设置偏移量和条目条数。</p> <p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>数据表名称。</p></blockquote></li> <li><p><code>limit</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>条目条数，默认25条。</p></blockquote></li> <li><p><code>offset</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>偏移量，默认为0。</p></blockquote></li> <li><p><code>columns</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/list/mytable?columns=name
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>count</code></p> <blockquote><p>条目总数。</p></blockquote></li> <li><p><code>list</code></p> <blockquote><p>数组中的每个元素包含以下参数：</p> <blockquote><ul><li><p><code>id</code></p> <blockquote><p>条目ID。</p></blockquote></li> <li><p>请求列的序列。</p></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: &quot;10&quot;
    &quot;list&quot;: [{ 
        &quot;id&quot;: &quot;1&quot;,
        &quot;name&quot;: &quot;John&quot;,
    }, 
    { 
        &quot;id&quot;: &quot;2&quot;,
        &quot;name&quot;: &quot;Mark&quot;,
   }, 
    ]
}   
</code></pre></div><h3 id="sections-limit-offset-lang"><a href="#sections-limit-offset-lang" class="header-anchor">#</a> sections[?limit=... &amp;offset=... &amp;lang=] </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前生态系统的 <em>sections</em>表条目的列表，可以设置偏移量和条目条数。</p> <p>如果 <em>role_access</em>字段包含角色列表，并且不包括当前角色，则不会返回记录。 <em>title</em> 字段内数据将被请求头的 <em>Accept-Language</em> 语言资源替换。</p> <p><strong>请求</strong></p> <ul><li><p><code>limit</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>条目条数，默认25条。</p></blockquote></li> <li><p><code>offset</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>偏移量，默认为0。</p></blockquote></li> <li><p><code>lang</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>该字段指定多语言资源代码或本地化，例如：<em>en，zh</em>。如果未找到指定的多语言资源，例如：<em>en-US</em>，则在多语言资源组 <em>en</em> 中搜索。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/sections
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>count</code></p> <blockquote><p><em>sections</em> 表条目总数。</p></blockquote></li> <li><p><code>list</code></p> <blockquote><p>数组中每个元素都包含sections表中所有列的信息。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: &quot;2&quot;
    &quot;list&quot;: [{
        &quot;id&quot;: &quot;1&quot;,
        &quot;title&quot;: &quot;Development&quot;,
       &quot;urlpage&quot;: &quot;develop&quot;,
       ...
    },
    ]
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_TABLENOTFOUND</em></p> <h3 id="row-name-id-columns"><a href="#row-name-id-columns" class="header-anchor">#</a> row/{name}/{id}[?columns=] </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前生态系统中指定数据表的条目。可以指定要返回的列。</p> <p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>数据表名称。</p></blockquote></li> <li><p><code>id</code></p> <blockquote><p>条目ID。</p></blockquote></li> <li><p><code>columns</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/row/mytable/10?columns=name
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>value</code></p> <blockquote><p>接收列值的数组</p> <blockquote><ul><li><p><code>id</code></p> <blockquote><p>条目ID。</p></blockquote></li> <li><p>请求列的序列。</p></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;values&quot;: {
    &quot;id&quot;: &quot;10&quot;,
    &quot;name&quot;: &quot;John&quot;,
    }
}   
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND</em></p> <h3 id="row-name-colorn-id"><a href="#row-name-colorn-id" class="header-anchor">#</a> row/{name}/{column}/{id} </h3> <p>[Authorization] (#authorization)</p> <p><strong>GET</strong>/ 返回当前生态系统中指定数据表的条目。可以指定要返回的列。</p> <p><strong>请求</strong></p> <ul><li><p><code>Name</code></p> <blockquote><p>数据表名称。</p></blockquote></li> <li><p><code>colorn</code></p> <blockquote><p>数据表列名。</p></blockquote></li> <li><p><code>ID</code></p> <blockquote><p>条目ID。</p></blockquote></li> <li><p><code>columns</code> <a href="#omitempty">omitempty</a></p> <blockquote><p>请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/row/mytable/name/John?columns=name
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>value</code></p> <blockquote><p>接收列值的数组</p> <blockquote><ul><li><p><em>id</em></p> <blockquote><p>条目ID。</p></blockquote></li> <li><p>请求列的序列。</p></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;values&quot;: {
    &quot;id&quot;: &quot;10&quot;,
    &quot;name&quot;: &quot;John&quot;,
    }
}   
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND</em></p> <h3 id="systemparams"><a href="#systemparams" class="header-anchor">#</a> systemparams </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回平台参数列表。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/systemparams/[?names=...]
</code></pre></div><ul><li><code>names</code> <a href="#omitempty">Omitempty</a></li></ul> <p>请求参数列表，用逗号分隔。例如<code>/api/v2/systemparams/?names=max_columns,max_indexes</code>。</p> <p><strong>响应</strong></p> <ul><li><p><code>list</code></p> <blockquote><p>数组中每个元素包含以下参数：</p> <blockquote><ul><li><p><code>name</code></p> <blockquote><p>参数名称。</p></blockquote></li> <li><p><code>value</code></p> <blockquote><p>参数值。</p></blockquote></li> <li><p><code>conditions</code></p> <blockquote><p>更改参数的权限。</p></blockquote></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;list&quot;: [{ 
        &quot;name&quot;: &quot;max_columns&quot;,
        &quot;value&quot;: &quot;100&quot;,
        &quot;conditions&quot;: &quot;ContractAccess(&quot;@1UpdateSysParam&quot;)&quot;,
    }, 
    { 
        &quot;name&quot;: &quot;max_indexes&quot;,
        &quot;value&quot;: &quot;1&quot;,
        &quot;conditions&quot;: &quot;ContractAccess(&quot;@1UpdateSysParam&quot;)&quot;,
    }, 
    ]
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_PARAMNOTFOUND</em></p> <h3 id="history-name-id"><a href="#history-name-id" class="header-anchor">#</a> history/{name}/{id} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前生态系统中指定数据表中条目的更改记录。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/history?name=contracts&amp;amp;id=5
</code></pre></div><blockquote><ul><li><p><code>name</code></p> <blockquote><p>数据表名称。</p></blockquote></li> <li><p><code>id</code></p> <blockquote><p>条目ID。</p></blockquote></li></ul></blockquote> <p><strong>响应</strong></p> <blockquote><ul><li><p><code>list</code></p> <blockquote><p>数组中每个元素包含所请求条目的更改记录。</p></blockquote></li></ul></blockquote> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;list&quot;: [
        {
            &quot;name&quot;: &quot;default_page&quot;,
            &quot;value&quot;: &quot;P(class, Default Ecosystem Page)&quot;
        },
        {
            &quot;menu&quot;: &quot;default_menu&quot;
        }
    ]
}
</code></pre></div><h3 id="interface-page-menu-snippet-name"><a href="#interface-page-menu-snippet-name" class="header-anchor">#</a> interface/{page|menu|snippet}/{name} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前生态系统指定数据表（pages，menu或snippet）中 <em>name</em> 字段的条目。</p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/interface/page/default_page
/api/v2/interface/menu/default_menu
/api/v2/interface/snippet/welcome
</code></pre></div><p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>指定表中条目的名称。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>id</code></p> <blockquote><p>条目ID。</p></blockquote></li> <li><p><code>name</code></p> <blockquote><p>条目名称。</p></blockquote></li> <li><p><code>other</code></p> <blockquote><p>该表的其他列。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;id&quot;: &quot;1&quot;,
    &quot;name&quot;: &quot;default_page&quot;,
    &quot;value&quot;: &quot;P(Page content)&quot;,
    &quot;default_menu&quot;: &quot;default_menu&quot;,
    &quot;validate_count&quot;: 1
}   
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_QUERY</em>, <em>E_NOTFOUND</em></p> <h2 id="contract-function-interface"><a href="#contract-function-interface" class="header-anchor">#</a> Contract Function Interface </h2> <h3 id="contracts-limit-offset"><a href="#contracts-limit-offset" class="header-anchor">#</a> contracts[?limit=... &amp;offset=... ] </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回当前生态系统中的合约列表，可以设置偏移量和条目条数。</p> <p><strong>请求</strong></p> <ul><li><p><code>limit</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>条目条数，默认25条。</p></blockquote></li> <li><p><code>offset</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>偏移量，默认为0。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/contracts
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>count</code></p> <blockquote><p>条目总数。</p></blockquote></li> <li><p><code>list</code></p> <blockquote><p>数组中每个元素包含以下参数：</p> <blockquote><ul><li><p><code>id</code></p> <blockquote><p>合约ID。</p></blockquote></li> <li><p><code>name</code></p> <blockquote><p>合约名称。</p></blockquote></li> <li><p><code>value</code></p> <blockquote><p>合约内容。</p></blockquote></li> <li><p><code>wallet_id</code></p> <blockquote><p>合约绑定的账户地址。</p></blockquote></li> <li><p><code>address</code></p> <blockquote><p>合约绑定的钱包地址 <code>XXXX-...-XXXX</code>。</p></blockquote></li> <li><p><code>ecosystem_id</code></p> <blockquote><p>合约所属的生态系统ID。</p></blockquote></li> <li><p><code>app_id</code></p> <blockquote><p>合约所属的应用程序ID。</p></blockquote></li> <li><p><code>conditions</code></p> <blockquote><p>更改合约的权限。</p></blockquote></li> <li><p><code>token_id</code></p> <blockquote><p>作为支付合约费用的通证所在的生态系统ID。</p></blockquote></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;count&quot;: &quot;10&quot;
    &quot;list&quot;: [{ 
        &quot;id&quot;: &quot;1&quot;,
        &quot;name&quot;: &quot;MainCondition&quot;,
        &quot;token_id&quot;: &quot;1&quot;, 
        &quot;wallet_id&quot;: &quot;0&quot;, 
        &quot;value&quot;: &quot;contract MainCondition {
                conditions {
                if(EcosysParam(`founder_account`)!=$key_id)
                {
                    warning `Sorry, you dont have access to this action.`
                }
                }
            }&quot;,
            &quot;address&quot;:&quot;0000-0000-0000-0000-0000&quot;,
            &quot;conditions&quot;:&quot;ContractConditions(`MainCondition`)&quot;
        },
    ...
    ]
 }
</code></pre></div><h3 id="contract-name"><a href="#contract-name" class="header-anchor">#</a> contract/{name} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>GET</strong>/ 返回指定合约的相关信息。默认在当前生态系统中查询合约。</p> <p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>合约名称。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/contract/mycontract
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>id</code></p> <blockquote><p>VM中合约ID。</p></blockquote></li> <li><p><code>name</code></p> <blockquote><p>带生态系统ID的合约名称 <code>@1MainCondition</code>。</p></blockquote></li> <li><p><code>state</code></p> <blockquote><p>合约所属的生态系统ID。</p></blockquote></li> <li><p><code>walletid</code></p> <blockquote><p>合约绑定的账户地址。</p></blockquote></li> <li><p><code>tokenid</code></p> <blockquote><p>作为支付合约费用的通证所在的生态系统ID。</p></blockquote></li> <li><p><code>address</code></p> <blockquote><p>合约绑定的钱包地址 <code>XXXX-...-XXXX</code>。</p></blockquote></li> <li><p><code>tableid</code></p> <blockquote><p><em>contracts</em> 表中合约所在的条目ID。</p></blockquote></li> <li><p><code>fields</code></p> <blockquote><p>数组中包含合约 <strong>data</strong> 部分每个参数的结构信息：</p> <blockquote><ul><li><p><code>name</code></p> <blockquote><p>参数名称。</p></blockquote></li> <li><p><code>type</code></p> <p>参数类型。</p></li> <li><p><code>optional</code></p> <blockquote><p>参数选项，`true` 表示可选参数，`false` 表示必选参数。</p></blockquote></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;fields&quot; : [
        {&quot;name&quot;:&quot;amount&quot;, &quot;type&quot;:&quot;int&quot;, &quot;optional&quot;: false},
        {&quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;string&quot;, &quot;optional&quot;: true}
    ],
    &quot;id&quot;: 150,
    &quot;name&quot;: &quot;@1mycontract&quot;,
    &quot;tableid&quot; : 10,
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_CONTRACT</em></p> <h3 id="sendtx"><a href="#sendtx" class="header-anchor">#</a> sendTX </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>POST</strong>/
接收参数中的交易并将其添加到交易队列，如果请求执行成功，则返回交易哈希。该哈希可获得区块内对应的交易，在发生错误响应时，该哈希包含在错误文本信息中。</p> <p><strong>请求</strong></p> <ul><li><p><code>tx_key</code></p> <blockquote><p>交易内容，该参数可指定任何名称，支持接收多个交易。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/sendTx

Headers:
Content-Type: multipart/form-data

Parameters:
tx1 - 交易1
txN - 交易N
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>hashes</code></p> <blockquote><p>交易哈希数组：</p> <blockquote><ul><li><p><code>tx1</code></p> <blockquote><p>交易1的哈希。</p></blockquote></li> <li><p><code>txN</code></p> <blockquote><p>交易N的哈希。</p></blockquote></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;hashes&quot;: {
        &quot;tx1&quot;: &quot;67afbc435634.....&quot;,
        &quot;txN&quot;: &quot;89ce4498eaf7.....&quot;,
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_LIMITTXSIZE</em>,<em>E_BANNED</em></p> <h3 id="txstatus"><a href="#txstatus" class="header-anchor">#</a> txstatus </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>POST</strong>/
返回指定交易哈希的区块ID和错误信息，如果区块ID和错误文本信息的返回值为空，则该交易尚未包含在区块中。</p> <p><strong>请求</strong></p> <ul><li><p><code>data</code></p> <blockquote><p>交易哈希的JSON列表。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>{&quot;hashes&quot;:[&quot;contract1hash&quot;, &quot;contract2hash&quot;, &quot;contract3hash&quot;]}
</code></pre></div><div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/txstatus/
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>results</code></p> <blockquote><p>数据字典中交易哈希作为键，交易详细作为值。</p> <p><code>hash</code></p> <blockquote><p>交易哈希。</p> <ul><li><p><code>blockid</code></p> <blockquote><p>如果交易执行成功，则返回区块ID； 如果交易执行失败，则 <em>blockid</em> 为 [0]{.title-ref}。</p></blockquote></li> <li><p><code>result</code></p> <blockquote><p>通过 <strong>$result</strong> 变量返回交易结果。</p></blockquote></li> <li><p><code>errmsg</code></p> <blockquote><p>如果执行交易失败，则返回错误文本信息。</p></blockquote></li></ul></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{&quot;results&quot;:
  {
    &quot;hash1&quot;: {
         &quot;blockid&quot;: &quot;3123&quot;,
         &quot;result&quot;: &quot;&quot;,
     },
     &quot;hash2&quot;: {
          &quot;blockid&quot;: &quot;3124&quot;,
          &quot;result&quot;: &quot;&quot;,
     }
   }
 }
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_HASHWRONG, E_HASHNOTFOUND</em></p> <h3 id="txinfo-hash"><a href="#txinfo-hash" class="header-anchor">#</a> txinfo/{hash} </h3> <p>该请求不需要登录授权。</p> <p><strong>GET</strong>/</p> <p>返回指定哈希的交易相关信息，包括区块ID和确认数。如果指定可选参数，还可返回合约名称及其相关参数。</p> <p><strong>请求</strong></p> <ul><li><p><code>hash</code></p> <blockquote><p>交易哈希。</p></blockquote></li> <li><p><code>contractinfo</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>合约详细参数标识，要获取该交易相关的合约详情，需指定 <code>contractinfo=1</code>。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/txinfo/c7ef367b494c7ce855f09aa3f1f2af7402535ea627fa615ebd63d437db5d0c8a?contractinfo=1
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>blockid</code></p> <blockquote><p>包含该交易的区块ID。如果该值为 <code>0</code>，则找不到该哈希的交易。</p></blockquote></li> <li><p><code>confirm</code></p> <blockquote><p>该区块 <em>blockid</em> 的确认数。</p></blockquote></li> <li><p><code>data</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>如果指定了 <code>contentinfo=1</code>，则合约详情返回给该参数。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;blockid&quot;: &quot;9&quot;,
    &quot;confirm&quot;: 11,
    &quot;data&quot;: {
        &quot;block&quot;: &quot;9&quot;,
        &quot;contract&quot;: &quot;@1NewContract&quot;,
        &quot;params&quot;: {
            &quot;ApplicationId&quot;: 1,
            &quot;Conditions&quot;: &quot;true&quot;,
            &quot;Value&quot;: &quot;contract crashci4b {\n\t\t\tdata {}\n\t\t}&quot;
        }
    }
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_HASHWRONG</em></p> <h3 id="txinfomultiple"><a href="#txinfomultiple" class="header-anchor">#</a> txinfoMultiple </h3> <p>该请求不需要登录授权。</p> <p><strong>GET</strong>/</p> <p>返回指定哈希的交易相关信息。</p> <p><strong>请求</strong></p> <ul><li><p><code>data</code></p> <ul><li><code>hashes</code></li></ul> <blockquote><p>交易哈希列表。</p></blockquote></li> <li><p><code>contractinfo</code> <a href="#omitempty">Omitempty</a></p> <blockquote><p>合约详细参数标识，要获取该交易相关的合约详情，需指定<code>contractinfo=1</code>。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>data: {&quot;hashes&quot;:[&quot;contract1hash&quot;, &quot;contract2hash&quot;, &quot;contract3hash&quot;]}
</code></pre></div><div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/txinfoMultiple
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>results</code></p> <blockquote><p>数据字典中交易哈希作为键，交易详细作为值。</p> <blockquote><p><code>hash</code></p> <blockquote><p>交易哈希。</p> <p><code>blockid</code></p> <blockquote><p>包含该交易的区块ID。如果该值为 <code>0</code>，则找不到该哈希的交易。</p></blockquote> <p><code>confirm</code></p> <blockquote><p>该区块 <em>blockid</em> 的确认数。</p></blockquote> <p><code>data</code></p> <blockquote><p>如果指定了 <code>contentinfo=1</code>，则合约详情返回给该参数。</p></blockquote></blockquote></blockquote></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{&quot;results&quot;:
  { 
    &quot;hash1&quot;: {
         &quot;blockid&quot;: &quot;3123&quot;,
         &quot;confirm&quot;: &quot;5&quot;,
     },
     &quot;hash2&quot;: {
          &quot;blockid&quot;: &quot;3124&quot;,
          &quot;confirm&quot;: &quot;3&quot;,
     }
   }
 }
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_HASHWRONG</em></p> <h3 id="page-validators-count-name"><a href="#page-validators-count-name" class="header-anchor">#</a> /page/validators_count/{name} </h3> <p>该请求不需要登录授权。</p> <p><strong>GET</strong></p> <p>返回指定页面所需验证的节点数。</p> <p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>带生态系统ID的页面名称，格式为 <code>@ecosystem_id%%page_name%</code>，例如 <code>@1main_page</code>。 如果不带生态系统ID，则默认查找第一生态的页面。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/page/validators_count/@2page_name
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>validate_count</code></p> <blockquote><p>指定页面所需验证的节点数。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{&quot;validate_count&quot;:1}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND, E_SERVER</em></p> <h3 id="content-menu-page-name"><a href="#content-menu-page-name" class="header-anchor">#</a> content/menu|page/{name} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>POST</strong></p> <p>返回指定页面或菜单名称的代码JSON对象树，这是模版引擎处理的结果。</p> <p><strong>请求</strong></p> <ul><li><code>name</code> <blockquote><p>带生态系统ID的页面名称或菜单名称，格式为 <code>@ecosystem_id%%page_name%</code>，例如 <code>@1main_page</code>。 如果不带生态系统ID，则默认查找当前生态的页面或菜单。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/content/page/default
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>menu</code> || <code>title</code></p> <blockquote><p>请求 <em>content/page/...</em> 时，页面所属的菜单名称。</p></blockquote></li> <li><p><code>menutree</code></p> <blockquote><p>请求 <em>content/page/...</em> 时，页面的菜单JSON对象树。</p></blockquote></li> <li><p><code>title</code> --head for the menu <em>content/menu/...</em></p> <blockquote><p>请求 <em>content/menu/...</em> 时，菜单标题。</p></blockquote></li> <li><p><code>tree</code></p> <blockquote><p>页面或菜单JSON对象树。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;tree&quot;: {&quot;type&quot;:&quot;......&quot;, 
          &quot;children&quot;: [
               {...},
               {...}
          ]
    },
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><code>E_NOTFOUND</code></p> <h3 id="content-source-name"><a href="#content-source-name" class="header-anchor">#</a> content/source/{name} </h3> <p><a href="#authorization">Authorization</a></p> <p><strong>POST</strong></p> <p>返回指定页面名称的代码JSON对象树。不执行任何函数或接收任何数据。返回的JSON对象树对应于页面模版，可以在可视化页面设计器中使用。如果找不到页面，则返回404错误。</p> <p><strong>请求</strong></p> <ul><li><p><code>name</code></p> <blockquote><p>带生态系统ID的页面名称，格式为 <code>@ecosystem_id%%page_name%</code>，例如 <code>@1main_page</code>。
如果不带生态系统ID，则默认查找当前生态的页面。</p></blockquote></li></ul> <p><strong>响应</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/content/source/default
</code></pre></div><ul><li><p><code>tree</code></p> <blockquote><p>页面的JSON对象树。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;tree&quot;: {&quot;type&quot;:&quot;......&quot;, 
          &quot;children&quot;: [
               {...},
               {...}
          ]
    },
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND, E_SERVER</em></p> <h3 id="content-hash-name"><a href="#content-hash-name" class="header-anchor">#</a> content/hash/{name} </h3> <p><strong>POST</strong></p> <p>返回指定页面名称的SHA256哈希，如果找不到页面，则返回404错误。</p> <p>该请求不需要登录授权。要向其他节点发出请求时接收正确的哈希，还必须传递 <em>ecosystem,keyID,roleID</em> 参数。要从其他生态系统接收页面，生态系统ID必须在页面名称中添加前缀。例如：<code>@2mypage</code>。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/content/hash/default
</code></pre></div><ul><li><p><code>name</code></p> <blockquote><p>带生态系统ID的页面名称。</p></blockquote></li> <li><p><code>ecosystem</code></p> <blockquote><p>生态系统ID。</p></blockquote></li> <li><p><code>keyID</code></p> <blockquote><p>账户地址。</p></blockquote></li> <li><p><code>roleID</code></p> <blockquote><p>角色ID。</p></blockquote></li></ul> <p><strong>响应</strong></p> <ul><li><p><code>hash</code></p> <blockquote><p>十六进制哈希值。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;hash&quot;: &quot;b631b8c28761b5bf03c2cfbc2b49e4b6ade5a1c7e2f5b72a6323e50eae2a33c6&quot;
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND, E_SERVER, E_HEAVYPAGE</em></p> <h3 id="content"><a href="#content" class="header-anchor">#</a> content </h3> <p><strong>POST</strong></p> <p>从 <strong>template</strong> 参数返回页面代码的JSON对象数，如果将可选参数 <strong>source</strong> 指定为<code>true或1</code>，则该JSON对象树不执行任何函数和接收数据。该JSON对象树可以在可视化页面设计器中使用。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <ul><li><p><code>template</code></p> <blockquote><p>页面代码。</p></blockquote></li> <li><p><code>source</code></p> <blockquote><p>如果指定为 <code>true或1</code>，则JSON对象树不执行任何函数和接收数据。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/content
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>tree</code></p> <blockquote><p>JSON对象树。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;tree&quot;: {&quot;type&quot;:&quot;......&quot;, 
          &quot;children&quot;: [
               {...},
               {...}
          ]
    },
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND, E_SERVER</em></p> <h3 id="maxblockid"><a href="#maxblockid" class="header-anchor">#</a> maxblockid </h3> <p><strong>GET</strong>/ 返回当前节点上的最高区块ID。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/maxblockid
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>max_block_id</code></p> <blockquote><p>当前节点上的最高区块ID。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;max_block_id&quot; : 341,
}
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND</em></p> <h3 id="block-id"><a href="#block-id" class="header-anchor">#</a> block/{id} </h3> <p><strong>GET</strong>/ 返回指定区块ID的相关信息。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <ul><li><p><code>id</code></p> <blockquote><p>区块ID。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/block/32
</code></pre></div><p><strong>响应</strong></p> <ul><li><p><code>hash</code></p> <blockquote><p>区块哈希值。</p></blockquote></li> <li><p><code>key_id</code></p> <blockquote><p>签署该区块的账户地址。</p></blockquote></li> <li><p><code>time</code></p> <blockquote><p>区块生成时间戳。</p></blockquote></li> <li><p><code>tx_count</code></p> <blockquote><p>该区块内的交易总数。</p></blockquote></li> <li><p><code>rollbacks_hash</code></p> <blockquote><p>区块回滚哈希值。</p></blockquote></li> <li><p><code>node_position</code></p> <blockquote><p>该区块在荣誉节点列表的位置。</p></blockquote></li></ul> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;hash&quot;: &quot;1x4S5s/zNUTopP2YK43SppEyvT2O4DW5OHSpQfp5Tek=&quot;,
    &quot;key_id&quot;: -118432674655542910,
    &quot;time&quot;: 1551145365,
    &quot;tx_count&quot;: 3,
    &quot;rollbacks_hash&quot;: &quot;47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=&quot;,
    &quot;node_position&quot;: 0,
}      
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND</em></p> <h3 id="avatar-ecosystem-member"><a href="#avatar-ecosystem-member" class="header-anchor">#</a> avatar/{ecosystem}/{member} </h3> <p><strong>GET</strong>/ 返回 <em>member</em> 表中用户的头像（无需登录即可使用）。</p> <p><strong>请求</strong></p> <ul><li><p><code>ecosystem</code></p> <blockquote><p>生态系统ID。</p></blockquote></li> <li><p><code>member</code></p> <blockquote><p>用户的账户地址。(xxxx-...-xxxx)</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/avatar/1/1234-2134-...-4321
</code></pre></div><p><strong>响应</strong></p> <p>请求头 <em>Content-Type</em> 为图像类型，图像数据在响应体中返回。</p> <p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: image/png  
</code></pre></div><p><strong>错误响应</strong></p> <p><em>E_NOTFOUND</em> <em>E_SERVER</em></p> <h3 id="config-centrifugo"><a href="#config-centrifugo" class="header-anchor">#</a> config/centrifugo </h3> <p><strong>GET</strong>/ 返回centrifugo的主机地址和端口。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GET
/api/v2/config/centrifugo
</code></pre></div><p><strong>响应</strong></p> <p>响应结果格式 <code>http://address:port</code>，例如: <code>http://127.0.0.1:8100</code>。</p> <p><strong>错误响应</strong></p> <p><em>E_SERVER</em></p> <h3 id="updnotificator"><a href="#updnotificator" class="header-anchor">#</a> updnotificator </h3> <p><strong>POST</strong>/</p> <p>(已弃用)</p> <p>发送尚未发送到centrifugo通知服务的所有消息。仅发送指定生态系统和成员的消息。</p> <p>该请求不需要登录授权。</p> <p><strong>请求</strong></p> <ul><li><p><code>id</code></p> <blockquote><p>成员的账户地址。</p></blockquote></li> <li><p><code>ecosystem</code></p> <blockquote><p>生态系统ID。</p></blockquote></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>POST
/api/v2/updnotificator
</code></pre></div><p><strong>响应示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>200 (OK)
Content-Type: application/json
{
    &quot;result&quot;: true
}      
</code></pre></div><h3 id="special-instructions"><a href="#special-instructions" class="header-anchor">#</a> 特殊说明 </h3> <h4 id="omitempty"><a href="#omitempty" class="header-anchor">#</a> Omitempty </h4> <p>如字段带有omitempty属性，表示此字段为可选参数</p> <h4 id="authorization"><a href="#authorization" class="header-anchor">#</a> Authorization </h4> <p>如接口带有Authorization标签，表示此接口需要login授权，请求头添加Authorization，示例：</p> <p>key = Authorization
value = &quot;Bearer +<a href="#login">login token</a>&quot;</p> <div class="language-text extra-class"><pre class="language-text"><code>    Authorization   Bearer eyJhbGciOiJI.....kBZgGIlPhfXNZJ73RiZtM
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/IBAX-io/documentation/edit/master/docs/zh-CN/reference/api2.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/6/25 15:46:02</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/zh-CN/reference/platform-parameters.html">
        平台参数 
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8ffd1d30.js" defer></script><script src="/assets/js/2.8d94a0db.js" defer></script><script src="/assets/js/158.929f7c5e.js" defer></script>
  </body>
</html>
