<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IBAX区块链平台 区块链网络部署 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#an-deployment-example" class="sidebar-link">部署示例 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#deploy-phase" class="sidebar-link">部署阶段 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#server-deployment" class="sidebar-link">服务端部署 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#deploy-the-first-node" class="sidebar-link">部署第一个节点 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#dependencies-and-environment-settings" class="sidebar-link">依赖关系和环境设置{#dependencies-and-environment-settings}</a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#golang" class="sidebar-link">Go 语言 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#postgresql" class="sidebar-link">PostgreSQL </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#centrifugo" class="sidebar-link">Centrifugo </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#directory-structure" class="sidebar-link">目录结构 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#create-a-database" class="sidebar-link">创建数据库 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#configure-centrifugo" class="sidebar-link">配置Centrifugo </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#install-go-ibax" class="sidebar-link">安装 go-ibax </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#configure-the-first-node" class="sidebar-link">配置第一个节点 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#initiate-the-first-node-server" class="sidebar-link">启动第一个节点服务端 </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#deploy-other-nodes" class="sidebar-link">部署其他节点 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#node-2" class="sidebar-link">节点2 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#node-3" class="sidebar-link">节点3 </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#front-end-deployment" class="sidebar-link">前端部署 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#software-prerequisites" class="sidebar-link">软件先决条件 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#build-a-weaver-application" class="sidebar-link">构建 Weaver 应用程序 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#add-the-configuration-file-for-the-blockchain-network" class="sidebar-link">添加区块链网络配置 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#build-weaver-web-application" class="sidebar-link">构建 Weaver Web应用程序 </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#configure-the-blockchain-network" class="sidebar-link">区块链网络配置 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#create-the-creator-account" class="sidebar-link">创建创始人的帐户 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#import-applications-roles-and-templates" class="sidebar-link">导入应用、角色和模版 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#add-the-first-node-to-the-node-list" class="sidebar-link">将第一个节点添加到节点列表中 </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#add-other-honor-nodes" class="sidebar-link">添加其他荣誉节点 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#add-members-into-the-consensus-role-group" class="sidebar-link">将成员添加到共识角色 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#create-the-owner-account-for-other-nodes" class="sidebar-link">创建其他节点所有者帐户 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/howtos/deployment.html#assign-the-node-owner-with-the-validators-role" class="sidebar-link">添加节点所有者为Validators角色 </a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deployment-of-a-ibax-network"><a href="#deployment-of-a-ibax-network" class="header-anchor">#</a> IBAX区块链平台 区块链网络部署 </h1> <p>本章节演示如何部署自己的区块链网络。</p> <h2 id="an-deployment-example"><a href="#an-deployment-example" class="header-anchor">#</a> 部署示例 </h2> <p>以三个节点为示例部署区块链网络。</p> <p>三个网络节点:</p> <blockquote><ul><li>节点1是区块链网络中的第一个节点，它可以生成新区块并从连接到它的客户端发送交易；</li> <li>节点2是另一个荣誉节点，它可以生成新区块并从连接到它的客户端发送交易；</li> <li>节点3是一个守护节点，它不能生成新区块，但可以从连接到它的客户端发送交易。</li></ul></blockquote> <p>三个节点部署以下配置：</p> <blockquote><ul><li>每个节点都使用自己的PostgreSQL数据库系统实例；</li> <li>每个节点都使用自己的Centrifugo服务实例；</li> <li><a href="https://github.com/ibax-io/go-ibax" target="_blank" rel="noopener noreferrer">服务端<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 与其他后端组件部署在同一主机上。</li></ul></blockquote> <p>节点使用的示例地址和端口如下表所述：</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td>节点</td> <td>组件</td> <td>IP和端口</td></tr> <tr><td>1</td> <td>PostgreSQL</td> <td>127.0.0.1:5432</td></tr> <tr><td>1</td> <td>Centrifugo</td> <td>192.168.1.1:8000</td></tr> <tr><td>1</td> <td>go-ibax (TCP服务)</td> <td>192.168.1.1:7078</td></tr> <tr><td>1</td> <td>go-ibax (API服务)</td> <td>192.168.1.1:7079</td></tr> <tr><td>2</td> <td>PostgreSQL</td> <td>127.0.0.1:5432</td></tr> <tr><td>2</td> <td>Centrifugo</td> <td>192.168.1.2:8000</td></tr> <tr><td>2</td> <td>go-ibax (TCP服务)</td> <td>192.168.1.2:7078</td></tr> <tr><td>2</td> <td>go-ibax (API服务)</td> <td>192.168.1.2:7079</td></tr> <tr><td>3</td> <td>PostgreSQL</td> <td>127.0.0.1:5432</td></tr> <tr><td>3</td> <td>Centrifugo</td> <td>192.168.1.3:8000</td></tr> <tr><td>3</td> <td>go-ibax (TCP服务)</td> <td>192.168.1.3:7078</td></tr> <tr><td>3</td> <td>go-ibax (API服务)</td> <td>192.168.1.3:7079</td></tr></tbody></table> <h2 id="deploy-phase"><a href="#deploy-phase" class="header-anchor">#</a> 部署阶段 </h2> <p>您自己的区块链网络必须分几个阶段部署：</p> <ol><li><p><a href="#server-deployment">服务端部署</a></p> <blockquote><ol><li><a href="#deploy-the-first-node">部署第一个节点</a></li> <li><a href="#deploy-other-nodes">部署其他节点</a></li></ol></blockquote></li> <li><p><a href="#front-end-deployment">前端部署</a></p></li> <li><p><a href="#configure-the-blockchain-network">区块链网络配置</a></p> <blockquote><ol><li><a href="#create-the-creator-account">创建创始人的帐户</a></li> <li><a href="#import-applications-roles-and-templates">导入应用、角色和模版</a></li> <li><a href="#add-the-first-node-to-the-node-list">将第一个节点添加到节点列表中</a></li></ol></blockquote></li> <li><p><a href="#add-other-honor-nodes">添加其他验证节点</a></p> <blockquote><ol><li><a href="#add-members-into-the-consensus-role-group">将成员添加到共识角色</a></li> <li><a href="#create-the-owner-account-for-other-nodes">创建节点所有者帐户</a></li> <li><a href="#assign-the-node-owner-with-the-validators-role">添加节点所有者为Validators角色并通过投票添加新验证节点</a></li></ol></blockquote></li></ol> <h2 id="server-deployment"><a href="#server-deployment" class="header-anchor">#</a> 服务端部署 </h2> <h3 id="deploy-the-first-node"><a href="#deploy-the-first-node" class="header-anchor">#</a> 部署第一个节点 </h3> <p>第一个节点是一个特殊节点，因为它必须用于启动区块链网络。区块链的第一个区块由第一个节点生成，所有其他节点从中下载区块链。第一个节点的所有者为平台创始人。</p> <h3 id="dependencies-and-environment-settings"><a href="#dependencies-and-environment-settings" class="header-anchor">#</a> 依赖关系和环境设置{#dependencies-and-environment-settings}</h3> <h4 id="sudo"><a href="#sudo" class="header-anchor">#</a> sudo </h4> <p>Debian 9的所有命令必须以非root用户身份运行。但是某些系统命令需要执行超级用户权限。默认情况下，Debian 9上没有安装sudo，您必须先安装它。</p> <ol><li>成为超级用户。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">su</span> -
</code></pre></div><ol start="2"><li>升级您的系统。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt</span> update <span class="token parameter variable">-y</span> <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> upgrade <span class="token parameter variable">-y</span> <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> dist-upgrade <span class="token parameter variable">-y</span>
</code></pre></div><ol start="3"><li>安装sudo。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt</span> <span class="token function">install</span> <span class="token function">sudo</span> <span class="token parameter variable">-y</span>
</code></pre></div><ol start="4"><li>将您的用户添加到sudo组。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">usermod</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-G</span> <span class="token function">sudo</span> user
</code></pre></div><ol start="5"><li>重启后，更改生效。</li></ol> <h3 id="golang"><a href="#golang" class="header-anchor">#</a> Go 语言 </h3> <p>按照 <a href="https://golang.org/doc/install#tarball" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的说明按照Go。</p> <ol><li>从 <a href="https://golang.org/dl/" target="_blank" rel="noopener noreferrer">Golang官方网站<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或通过命令行下载最新的稳定版Go（&gt; 1.10.x）：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> https://dl.google.com/go/go1.11.2.linux-amd64.tar.gz
</code></pre></div><ol start="2"><li>将安装包解压缩到 <code>/usr/local</code>.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-C</span> /usr/local <span class="token parameter variable">-xzf</span> go1.11.2.linux-amd64.tar.gz
</code></pre></div><ol start="3"><li>添加 <code>/usr/local/go/bin</code> 到PATH环境变量 (位于 <code>/etc/profile</code> 或<code>$HOME/.profile</code>)。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/usr/local/go/bin
</code></pre></div><ol start="4"><li>要使更改生效，请执行 <code>source</code> 该文件，例如：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">source</span> <span class="token environment constant">$HOME</span>/.profile
</code></pre></div><ol start="5"><li>删除临时文件：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> go1.11.2.linux-amd64.tar.gz
</code></pre></div><h3 id="postgresql"><a href="#postgresql" class="header-anchor">#</a> PostgreSQL </h3> <ol><li>安装PostgreSQL（&gt; v.10）和psql：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> postgresql
</code></pre></div><h3 id="centrifugo"><a href="#centrifugo" class="header-anchor">#</a> Centrifugo </h3> <ol><li>从 <a href="https://github.com/centrifugal/centrifugo/releases/" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或通过命令行下载Centrifugo 1.8.0版本：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> https://github.com/centrifugal/centrifugo/releases/download/v1.8.0/centrifugo-1.8.0-linux-amd64.zip <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">unzip</span> centrifugo-1.8.0-linux-amd64.zip <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> centrifugo <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">mv</span> centrifugo-1.8.0-linux-amd64/* centrifugo/
</code></pre></div><ol start="2"><li>删除临时文件：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-R</span> centrifugo-1.8.0-linux-amd64 <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> centrifugo-1.8.0-linux-amd64.zip
</code></pre></div><h3 id="directory-structure"><a href="#directory-structure" class="header-anchor">#</a> 目录结构 </h3> <p>对于Debian 9 系统，建议将区块链平台使用的所有软件存储在单独的目录中。</p> <p>在这里使用 <code>/opt/backenddir</code>目录，但您可以使用任何目录。在这种情况下，请相应地更改所有命令和配置文件。</p> <ol><li>为区块链平台创建一个目录：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> /opt/backenddir
</code></pre></div><ol start="2"><li>使您的用户成为该目录的所有者：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chown</span> user /opt/backenddir/
</code></pre></div><ol start="3"><li>为Centrifugo、go-ibax 和节点数据创建子目录。所有节点数据都存储在名为<code>nodeX</code> 的目录中，
其中 <code>X</code> 为节点号。根据要部署的节点，<code>node1</code>为节点1，<code>node2</code> 为节点2，以此类推。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> /opt/backenddir/go-ibax <span class="token punctuation">\</span>
<span class="token function">mkdir</span> /opt/backenddir/go-ibax/node1 <span class="token punctuation">\</span>
<span class="token function">mkdir</span> /opt/backenddir/centrifugo <span class="token punctuation">\</span>
</code></pre></div><h3 id="create-a-database"><a href="#create-a-database" class="header-anchor">#</a> 创建数据库 </h3> <ol><li>将用户密码postgres更改为默认密码<em>123456</em>。您可以设置自己的密码，
但必须在节点配置文件 <em>config.toml</em>中进行更改。</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql <span class="token parameter variable">-c</span> <span class="token string">&quot;ALTER USER postgres WITH PASSWORD '123456'&quot;</span>
</code></pre></div><ol start="2"><li>创建节点当前状态数据库，例如 <strong>chaindb</strong>:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql <span class="token parameter variable">-c</span> <span class="token string">&quot;CREATE DATABASE chaindb&quot;</span>
</code></pre></div><h3 id="configure-centrifugo"><a href="#configure-centrifugo" class="header-anchor">#</a> 配置Centrifugo </h3> <ol><li>创建Centrifugo配置文件：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'{&quot;secret&quot;:&quot;CENT_SECRET&quot;}'</span> <span class="token operator">&gt;</span> /opt/backenddir/centrifugo/config.json
</code></pre></div><p>您可以设置自己的 <em>secret</em>，但是您还必须在节点配置文件 <em>config.toml</em>
中更改它。</p> <h3 id="install-go-ibax"><a href="#install-go-ibax" class="header-anchor">#</a> 安装 go-ibax </h3> <ol><li>从GitHub下载 <a href="https://github.com/ibax-io/go-ibax" target="_blank" rel="noopener noreferrer">https://github.com/ibax-io/go-ibax<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</li> <li>将 go-ibax 二进制文件复制到 <code>/opt/backenddir/go-ibax</code>目录。
如果您使用的是<a href="https://golang.org/doc/code.html#Workspaces" target="_blank" rel="noopener noreferrer">默认的Go工作区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 则二进制文件位于 <code>$HOME/go/bin</code> 目录：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token environment constant">$HOME</span>/go/bin/go-ibax /opt/backenddir/go-ibax
</code></pre></div><h3 id="configure-the-first-node"><a href="#configure-the-first-node" class="header-anchor">#</a> 配置第一个节点 </h3> <ol><li>创建节点1配置文件：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax config <span class="token punctuation">\</span>
    <span class="token parameter variable">--dataDir</span><span class="token operator">=</span>/opt/backenddir/node1 <span class="token punctuation">\</span>
    <span class="token parameter variable">--dbName</span><span class="token operator">=</span>chaindb <span class="token punctuation">\</span>
    <span class="token parameter variable">--centSecret</span><span class="token operator">=</span><span class="token string">&quot;CENT_SECRET&quot;</span> <span class="token parameter variable">--centUrl</span><span class="token operator">=</span>http://192.168.1.1:8000 <span class="token punctuation">\</span>
    <span class="token parameter variable">--httpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1 <span class="token punctuation">\</span>
    <span class="token parameter variable">--httpPort</span><span class="token operator">=</span><span class="token number">7079</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--tcpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1 <span class="token punctuation">\</span>
    <span class="token parameter variable">--tcpPort</span><span class="token operator">=</span><span class="token number">7078</span>
</code></pre></div><ol start="4"><li>生成节点1的密钥，包括节点公私钥和账户公私钥：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax generateKeys <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node1/config.toml
</code></pre></div><ol start="5"><li>生成第一个区块：</li></ol> <div class="language-text extra-class"><pre class="language-text"><code>如果您要创建自己的区块链网络。你必须使用该 `--test=true`
选项。否则您将无法创建新帐户。
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax generateFirstBlock <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node1/config.toml <span class="token punctuation">\</span>
    <span class="token parameter variable">--test</span><span class="token operator">=</span>true
</code></pre></div><ol start="6"><li>初始化数据库：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax initDatabase <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node1/config.toml
</code></pre></div><h3 id="initiate-the-first-node-server"><a href="#initiate-the-first-node-server" class="header-anchor">#</a> 启动第一个节点服务端 </h3> <p>要启动第一个节点服务端，您必须启动两个服务：</p> <ul><li>centrifugo</li> <li>go-ibax</li></ul> <p>如果您没有将这些文件创建<a href="https://wiki.debian.org/systemd/Services" target="_blank" rel="noopener noreferrer">services<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，那么您可以从不同控制台的目录中执行二进制文件。</p> <ol><li>运行centrifugo:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/centrifugo/centrifugo <span class="token punctuation">\</span>
    <span class="token parameter variable">-a</span> <span class="token number">192.168</span>.1.1 <span class="token parameter variable">-p</span> <span class="token number">8000</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span> /opt/backenddir/centrifugo/config.json
</code></pre></div><ol start="2"><li>运行 go-ibax:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax start <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node1/config.toml
</code></pre></div><h2 id="deploy-other-nodes"><a href="#deploy-other-nodes" class="header-anchor">#</a> 部署其他节点 </h2> <p>所有其他节点（节点2和节点3）的部署与第一个节点类似，但有三个不同之处：</p> <ul><li>您不需要生成第一个区块。但是它必须从节点1复制到当前节点数据目录；</li> <li>该节点必须通过配置 <code>--nodesAddr</code> 选项从节点1下载区块；</li> <li>该节点必须使用自己的地址和端口。</li></ul> <h3 id="node-2"><a href="#node-2" class="header-anchor">#</a> 节点2 </h3> <p>按照以下一系列操作：</p> <blockquote><ol><li><p><a href="#dependencies-and-environment-settings">依赖关系和环境设置</a></p></li> <li><p><a href="#create-a-database">创建数据库</a></p></li> <li><p><a href="#Centrifugo">Centrifugo</a></p></li> <li><p><a href="#install-go-ibax">安装 go-ibax</a></p></li> <li><p>创建节点2配置文件：</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax config <span class="token punctuation">\</span>
    <span class="token parameter variable">--dataDir</span><span class="token operator">=</span>/opt/backenddir/node2 <span class="token punctuation">\</span>
    <span class="token parameter variable">--dbName</span><span class="token operator">=</span>chaindb <span class="token punctuation">\</span>
    <span class="token parameter variable">--centSecret</span><span class="token operator">=</span><span class="token string">&quot;CENT_SECRET&quot;</span> <span class="token parameter variable">--centUrl</span><span class="token operator">=</span>http://192.168.1.2:8000 <span class="token punctuation">\</span>
    <span class="token parameter variable">--httpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.2 <span class="token punctuation">\</span>
    <span class="token parameter variable">--httpPort</span><span class="token operator">=</span><span class="token number">7079</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--tcpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.2 <span class="token punctuation">\</span>
    <span class="token parameter variable">--tcpPort</span><span class="token operator">=</span><span class="token number">7078</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--nodesAddr</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1
</code></pre></div></blockquote></li> <li><p>复制第一个区块文件到节点2，例如，您可以通过 <code>scp</code> 在节点2执行该操作：</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">scp</span> user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node2/
</code></pre></div></blockquote></li> <li><p>生成节点2的密钥，包括节点公私钥和账户公私钥：</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax generateKeys <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node2/config.toml
</code></pre></div></blockquote></li> <li><p>初始化数据库：</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code>./go-ibax initDatabase <span class="token parameter variable">--config</span><span class="token operator">=</span>node2/config.toml
</code></pre></div></blockquote></li> <li><p>运行centrifugo:</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/centrifugo/centrifugo <span class="token punctuation">\</span>
     <span class="token parameter variable">-a</span> <span class="token number">192.168</span>.1.2 <span class="token parameter variable">-p</span> <span class="token number">8000</span> <span class="token punctuation">\</span>
     --config/opt/backenddir/centrifugo/config.json
</code></pre></div></blockquote></li> <li><p>运行 go-ibax:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax start <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node2/config.toml
</code></pre></div></li></ol></blockquote> <p>结果，节点从第一个节点下载区块。该节点不是验证节点，因此无法生成新区块。节点2将后面添加到验证节点列表中。</p> <h3 id="node-3"><a href="#node-3" class="header-anchor">#</a> 节点3 </h3> <p>按照以下一系列操作：</p> <ol><li><p><a href="#dependencies-and-environment-settings">依赖关系和环境设置</a></p></li> <li><p><a href="#create-a-database">创建数据库</a></p></li> <li><p><a href="#centrifugo">Centrifugo</a></p></li> <li><p><a href="#install-go-ibax">安装 go-ibax</a></p></li> <li><p>创建节点3配置文件：</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax config <span class="token punctuation">\</span>
    <span class="token parameter variable">--dataDir</span><span class="token operator">=</span>/opt/backenddir/node3 <span class="token punctuation">\</span>
    <span class="token parameter variable">--dbName</span><span class="token operator">=</span>chaindb <span class="token punctuation">\</span>
    <span class="token parameter variable">--centSecret</span><span class="token operator">=</span><span class="token string">&quot;CENT_SECRET&quot;</span> <span class="token parameter variable">--centUrl</span><span class="token operator">=</span>http://192.168.1.3:8000 <span class="token punctuation">\</span>
    <span class="token parameter variable">--httpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.3 <span class="token punctuation">\</span>
    <span class="token parameter variable">--httpPort</span><span class="token operator">=</span><span class="token number">7079</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--tcpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.3 <span class="token punctuation">\</span>
    <span class="token parameter variable">--tcpPort</span><span class="token operator">=</span><span class="token number">7078</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--nodesAddr</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1
</code></pre></div></blockquote></li> <li><p>复制第一个区块文件到节点3，例如，您可以通过 <code>scp</code> 在节点3执行该操作：</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">scp</span> user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node3/
</code></pre></div></blockquote></li> <li><p>生成节点3的密钥，包括节点公私钥和账户公私钥：</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax generateKeys <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node3/config.toml
</code></pre></div></blockquote></li> <li><p>初始化数据库：</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code>./go-ibax initDatabase <span class="token parameter variable">--config</span><span class="token operator">=</span>node3/config.toml
</code></pre></div></blockquote></li> <li><p>运行centrifugo:</p> <blockquote><div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/centrifugo/centrifugo <span class="token punctuation">\</span>
    <span class="token parameter variable">-a</span> <span class="token number">192.168</span>.1.3 <span class="token parameter variable">-p</span> <span class="token number">8000</span> <span class="token punctuation">\</span>
    --config/opt/backenddir/centrifugo/config.json
</code></pre></div></blockquote></li> <li><p>运行 go-ibax:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>/opt/backenddir/go-ibax start <span class="token punctuation">\</span>
    <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node3/config.toml
</code></pre></div></li></ol> <p>结果，节点从第一个节点下载区块。该节点不是验证节点，因此无法生成新区块。客户端可以连接到该节点，它可以将交易发送到网络。</p> <h2 id="front-end-deployment"><a href="#front-end-deployment" class="header-anchor">#</a> 前端部署 </h2> <p>只有在Debian 9(Stretch)64位
<a href="https://www.debian.org/CD/http-ftp/#stable" target="_blank" rel="noopener noreferrer">官方发行版<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 上安装 <strong>GNOMEGUI</strong>，Govis客户端才能由 <code>yarn</code> 包管理器构建。</p> <h3 id="software-prerequisites"><a href="#software-prerequisites" class="header-anchor">#</a> 软件先决条件 </h3> <blockquote><p>Node.js</p></blockquote> <ol><li>从 <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">Node.js官方网站<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或通过命令行下载Node.js LTS版本8.11 ：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sL</span> https://deb.nodesource.com/setup_8.x <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token parameter variable">-E</span> <span class="token function">bash</span>
</code></pre></div><ol start="2"><li>安装Node.js:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> nodejs
</code></pre></div><blockquote><p>Yarn</p></blockquote> <ol><li>从 <a href="https://github.com/yarnpkg/yarn/releases" target="_blank" rel="noopener noreferrer">yarn的Github仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或通过命令行下载Yarn版本1.7.0 ：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>cd/opt/backenddir <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">wget</span> https://github.com/yarnpkg/yarn/releases/download/v1.7.0/yarn_1.7.0_all.deb
</code></pre></div><ol start="2"><li>安装Yarn:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> yarn_1.7.0_all.deb <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> yarn_1.7.0_all.deb
</code></pre></div><h3 id="build-a-weaver-application"><a href="#build-a-weaver-application" class="header-anchor">#</a> 构建 Weaver 应用程序 </h3> <ol><li>通过git从 <a href="https://github.com/ibax-io/ibax-front" target="_blank" rel="noopener noreferrer">https://github.com/ibax-io/ibax-front<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 下载 Weaver 的最新版本：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>cd/opt/backenddir <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">git</span> clone https://github.com/ibax-io/ibax-front.git
</code></pre></div><ol start="2"><li>通过Yarn安装 Weaver 依赖项：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>cd/opt/backenddir/ibax-front/ <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> <span class="token function">install</span>
</code></pre></div><h3 id="add-the-configuration-file-for-the-blockchain-network"><a href="#add-the-configuration-file-for-the-blockchain-network" class="header-anchor">#</a> 添加区块链网络配置 </h3> <ol><li>创建包含有关节点连接信息的 <em>settings.json</em> 文件：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>cp/opt/backenddir/ibax-front/public/settings.json.dist <span class="token punctuation">\</span>
   /opt/backenddir/ibax-front/public/public/settings.json
</code></pre></div><ol start="2"><li>在任何文本编辑器中编辑 <em>settings.json</em> 文件，并以此格式添加所需的设置：</li></ol> <div class="language-text extra-class"><pre class="language-text"><code>http://Node_IP-address:Node_HTTP-Port
</code></pre></div><p>三个节点的 <em>settings.json</em> 文件示例：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;fullNodes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;http://192.168.1.1:7079&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;http://192.168.1.2:7079&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;http://192.168.1.3:7079&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>构建 Weaver 桌面版应用程序</p> <ol><li>使用yarn构建桌面版：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>cd/opt/backenddir/ibax-front <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> build-desktop
</code></pre></div><ol start="2"><li>桌面版将打包成AppImage后缀格式:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> release <span class="token parameter variable">--publish</span> never <span class="token parameter variable">-l</span>
</code></pre></div><p>构建之后，您的应用程序就可以使用了，但是其<a href="#add-the-configuration-file-for-the-blockchain-network">连接配置</a> 将无法更改。
如果这些设置需要更改，则必须构建新版本的应用程序。</p> <h3 id="build-weaver-web-application"><a href="#build-weaver-web-application" class="header-anchor">#</a> 构建 Weaver Web应用程序 </h3> <ol><li>构建Web应用程序：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>cd/opt/backenddir/ibax-front/ <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> build
</code></pre></div><p>构建之后，可再发行文件将放置到 <em>build</em>目录中。您可以使用您选择的任何Web服务器进行部署，
<em>settings.json</em>文件也必须放在该目录。请注意，如果连接设置发生更改，则无需再次构建应用程序。
而是编辑<em>settings.json</em> 文件并重新启动Web服务器。</p> <ol start="2"><li>出于开发或测试目的，您可以构建Yarn的Web服务器：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">yarn</span> global <span class="token function">add</span> serve <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> serve <span class="token parameter variable">-s</span> build
</code></pre></div><p>之后，您的 Weaver Web应用程序将在以下位置可用: <code>http://localhost:5000</code>。</p> <h2 id="configure-the-blockchain-network"><a href="#configure-the-blockchain-network" class="header-anchor">#</a> 区块链网络配置 </h2> <h3 id="create-the-creator-account"><a href="#create-the-creator-account" class="header-anchor">#</a> 创建创始人的帐户 </h3> <p>为第一个节点所有者创建一个帐户。该帐户是新区块链平台的创始人，并具有管理员访问权限。</p> <ol><li><p>运行 Weaver；</p></li> <li><p>使用以下数据导入现有帐户：</p> <ul><li>节点所有者私钥的备份加载位于<code>/opt/backenddir/node1/PrivateKey</code> 文件中。</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>该目录中有两个私钥文件。`PrivateKey`
文件用于节点所有者的帐户，可创建节点所有者的帐户。`NodePrivateKey`
文件是节点本身的私钥，必须保密。
</code></pre></div></li> <li><p>登录该账户后，由于此时尚未创建角色，因此请选择 <em>Without role</em> 选项。</p></li></ol> <h3 id="import-applications-roles-and-templates"><a href="#import-applications-roles-and-templates" class="header-anchor">#</a> 导入应用、角色和模版 </h3> <p>此时，区块链平台处于空白状态。您可以通过添加支持基本生态系统功能的角色、模版和应用程序框架来配置它。</p> <ol><li>克隆应用程序存储库；</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>cd/opt/backenddir <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">git</span> clone https://github.com/ibax-io/dapps.git
</code></pre></div><ol start="2"><li><p>在 Weaver 中导航到 <em>Developer</em> &gt; <em>导入</em>；</p></li> <li><p>按此顺序导入应用：</p> <blockquote><p>A./opt/backenddir/dapps/system.json
B./opt/backenddir/dapps/conditions.json
C./opt/backenddir/dapps/basic.json
D./opt/backenddir/dapps/lang_res.json</p></blockquote></li> <li><p>导航到 <em>Developer</em> &gt; <em>角色</em>，然后单击 <em>安装默认角色</em>；</p></li> <li><p>通过右上角的配置文件菜单退出系统；</p></li> <li><p>以 <em>Developer</em> 角色登录系统；</p></li> <li><p>导航到 <em>Home</em> &gt; <em>投票</em> &gt; <em>模版列表</em>，然后单击 <em>安装默认模版</em>。</p></li></ol> <h3 id="add-the-first-node-to-the-node-list"><a href="#add-the-first-node-to-the-node-list" class="header-anchor">#</a> 将第一个节点添加到节点列表中 </h3> <ol><li><p>导航到 <em>Developer</em> &gt; <em>平台参数</em>，然后单击 <em>first_nodes</em> 参数；</p></li> <li><p>指定第一个区块链网络节点的参数。</p> <blockquote><ul><li><strong>public_key</strong> - 节点公钥位于<code>/opt/backenddir/node1/NodePublicKey</code> 文件；</li></ul></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;api_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://192.168.1.1:7079&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;public_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;%node_public_key%&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;tcp_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;192.168.1.1:7078&quot;</span><span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="add-other-honor-nodes"><a href="#add-other-honor-nodes" class="header-anchor">#</a> 添加其他荣誉节点 </h2> <h3 id="add-members-into-the-consensus-role-group"><a href="#add-members-into-the-consensus-role-group" class="header-anchor">#</a> 将成员添加到共识角色 </h3> <p>默认情况下，只有共识角色（Consensus）的成员才能参与添加其他 荣誉节点所需的投票。
这意味着在添加新的 荣誉节点之前，必须为该角色指定生态系统的成员。</p> <p>在本章节中，创始人的帐户被指定为共识角色的唯一成员。在生产环境中，必须将该角色分配给平台执行治理的成员。</p> <ol><li>导航到 <em>Home</em> &gt; <em>角色</em> ，然后单击共识角色（Consensus）；</li> <li>单击 <em>分配</em> 将创始人的帐户分配给该角色。</li></ol> <h3 id="create-the-owner-account-for-other-nodes"><a href="#create-the-owner-account-for-other-nodes" class="header-anchor">#</a> 创建其他节点所有者帐户 </h3> <ol><li><p>运行 Weaver；</p></li> <li><p>使用以下数据导入现有帐户：</p> <blockquote><ul><li>节点所有者私钥的备份加载位于<code>/opt/backenddir/node2/PrivateKey</code> 文件中。</li></ul></blockquote></li> <li><p>登录该账户后，由于此时尚未创建角色，因此请选择 <em>Without role</em> 选项；</p></li> <li><p>导航到 <em>Home</em> &gt; <em>个人信息</em>，然后单击个人信息名称；</p></li> <li><p>添加帐户详细信息（个人信息名称，说明等）。</p></li></ol> <h3 id="assign-the-node-owner-with-the-validators-role"><a href="#assign-the-node-owner-with-the-validators-role" class="header-anchor">#</a> 添加节点所有者为Validators角色 </h3> <ol><li><p>新节点所有者操作：</p> <blockquote><p>A.  导航到 <em>Home</em> &gt; <em>验证者</em>；
B.  单击 <em>创建请求</em> 并填写验证者候选人的申请表；
C.  单击 <em>发送请求</em>。</p></blockquote></li> <li><p>创始人操作:</p> <blockquote><p>A.  以共识角色（Consensus）登录；
B.  导航到 <em>Home</em> &gt; <em>验证者</em>；
C.  根据候选人的请求点击&quot;播放&quot;图标开始投票；
D.  导航到 <em>Home</em> &gt; <em>投票</em>，然后单击 <em>更新投票状态</em>；
E.  单击投票名称并为节点所有者投票。</p></blockquote></li></ol> <p>结果，新节点所有者的帐户被分配给 <em>Validator</em> 角色，并且新节点也被添加到荣誉节点列表中。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/IBAX-io/documentation/edit/master/docs/zh-CN/howtos/deployment.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/11/4 10:39:00</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1e099771.js" defer></script><script src="/assets/js/2.8d94a0db.js" defer></script><script src="/assets/js/139.7662bbd5.js" defer></script>
  </body>
</html>
