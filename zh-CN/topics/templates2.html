<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>模版语言 </a></li><li><a href="/zh-CN/topics/templates2.html" aria-current="page" class="active sidebar-link">模版语言 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#page-construction" class="sidebar-link">页面构建 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#template-engine" class="sidebar-link">模版引擎 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#create-pages" class="sidebar-link">创建页面 </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#logicor-template-language" class="sidebar-link">Logicor 模版语言 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#logicor-overview" class="sidebar-link">Logicor 概述 </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#logicor-function-classification" class="sidebar-link">Logicor 函数功能分类 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#operations-on-variables" class="sidebar-link">变量操作 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#navigational-operations" class="sidebar-link">导航操作 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#data-manipulation" class="sidebar-link">数据操作 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#data-presentation" class="sidebar-link">显示数据 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#accepting-of-data" class="sidebar-link">接收数据 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#data-formatting-elements" class="sidebar-link">数据格式化元素 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#form-elements" class="sidebar-link">表单元素 </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#operations-on-code-blocks" class="sidebar-link">代码片段操作 </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#logicor-function-references" class="sidebar-link">Logicor 函数参考 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#address" class="sidebar-link">Address </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#addresstoid" class="sidebar-link">AddressToId </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#addtoolbutton" class="sidebar-link">AddToolButton </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#and" class="sidebar-link">And </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#appparam" class="sidebar-link">AppParam </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#arraytosource" class="sidebar-link">ArrayToSource </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#binary" class="sidebar-link">Binary </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#button" class="sidebar-link">Button </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#calculate" class="sidebar-link">Calculate </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#chart" class="sidebar-link">Chart </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#cmptime" class="sidebar-link">CmpTime </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#code" class="sidebar-link">Code </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#codeasis" class="sidebar-link">CodeAsIs </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#data" class="sidebar-link">Data </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#custom" class="sidebar-link">Custom </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#datetime" class="sidebar-link">DateTime </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#dbfind" class="sidebar-link">DBFind </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#div" class="sidebar-link">Div </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#ecosysparam" class="sidebar-link">EcosysParam </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#em" class="sidebar-link">Em </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#forlist" class="sidebar-link">ForList </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#form" class="sidebar-link">Form </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#getcolumntype" class="sidebar-link">GetColumnType </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#gethistory" class="sidebar-link">GetHistory </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#getvar" class="sidebar-link">GetVar </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#hint" class="sidebar-link">Hint </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#if" class="sidebar-link">If </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#image" class="sidebar-link">Image </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#imageinput" class="sidebar-link">ImageInput </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#include" class="sidebar-link">Include </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#input" class="sidebar-link">Input </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#inputerr" class="sidebar-link">InputErr </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#inputmap" class="sidebar-link">InputMap </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#jsontosource" class="sidebar-link">JsonToSource </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#label" class="sidebar-link">Label </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#langres" class="sidebar-link">LangRes </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#linkpage" class="sidebar-link">LinkPage </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#map" class="sidebar-link">Map </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#menugroup" class="sidebar-link">MenuGroup </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#menuitem" class="sidebar-link">MenuItem </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#money" class="sidebar-link">Money </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#or" class="sidebar-link">Or </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#p" class="sidebar-link">P </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#qrcode" class="sidebar-link">QRcode </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#radiogroup" class="sidebar-link">RadioGroup </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#range" class="sidebar-link">Range </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#select" class="sidebar-link">Select </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#settitle" class="sidebar-link">SetTitle </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#setvar" class="sidebar-link">SetVar </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#span" class="sidebar-link">Span </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#strong" class="sidebar-link">Strong </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#sysparam" class="sidebar-link">SysParam </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#table" class="sidebar-link">Table </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#transactioninfo" class="sidebar-link">TransactionInfo </a></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#varasis" class="sidebar-link">VarAsIs </a></li></ul></li><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#app-styles-for-mobile-devices" class="sidebar-link">适配移动设备的应用程序样式 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/topics/templates2.html#layout" class="sidebar-link">排版 </a></li></ul></li></ul></li><li><a href="/zh-CN/topics/vm.html" class="sidebar-link">编译器和虚拟机 </a></li><li><a href="/zh-CN/topics/daemons.html" class="sidebar-link">守护进程 </a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="template-language"><a href="#template-language" class="header-anchor">#</a> 模版语言 </h1> <ul><li><a href="#page-construction">页面构建</a> <ul><li><a href="#template-engine">模版引擎</a></li> <li><a href="#create-pages">创建页面</a> <ul><li><a href="#visual-page-designer">可视化页面设计器</a></li> <li><a href="#applicable-styles">样式使用</a></li> <li><a href="#page-module">页面模块</a></li> <li><a href="#language-resource-editor">多语言资源编辑器</a></li></ul></li></ul></li> <li><a href="#logicor-template-language">Logicor 模版语言</a> <ul><li><a href="#Logicor-overview">Logicor 概述</a></li></ul></li> <li><a href="#logicor-function-classification">Logicor 函数功能分类</a> <ul><li><a href="#operations-on-variables">变量操作</a></li> <li><a href="#navigational-operations">导航操作</a></li> <li><a href="#data-manipulation">数据操作</a></li> <li><a href="#data-presentation">显示数据</a></li> <li><a href="#accepting-of-data">接收数据</a></li> <li><a href="#data-formatting-elements">数据格式化元素</a></li> <li><a href="#form-elements">表单元素</a></li> <li><a href="#operations-on-code-blocks">代码片段操作</a></li></ul></li> <li><a href="#logicor-function-references">Logicor 函数参考</a> <ul><li><a href="#address">Address</a></li> <li><a href="#addresstoid">AddressToId</a></li> <li><a href="#addtoolbutton">AddToolButton</a></li> <li><a href="#and">And</a></li> <li><a href="#appparam">AppParam</a></li> <li><a href="#arraytosource">ArrayToSource</a></li> <li><a href="#binary">Binary</a></li> <li><a href="#button">Button</a></li> <li><a href="#calculate">Calculate</a></li> <li><a href="#chart">Chart</a></li> <li><a href="#cmptime">CmpTime</a></li> <li><a href="#code">Code</a></li> <li><a href="#codeasis">CodeAsIs</a></li> <li><a href="#data">Data</a></li> <li><a href="#custom">Custom</a></li> <li><a href="#datetime">DateTime</a></li> <li><a href="#dbfind">DBFind</a></li> <li><a href="#div">Div</a></li> <li><a href="#ecosysparam">EcosysParam</a></li> <li><a href="#em">Em</a></li> <li><a href="#forlist">ForList</a></li> <li><a href="#form">Form</a></li> <li><a href="#getcolumntype">GetColumnType</a></li> <li><a href="#gethistory">GetHistory</a></li> <li><a href="#getvar">GetVar</a></li> <li><a href="#hint">Hint</a></li> <li><a href="#if">If</a></li> <li><a href="#image">Image</a></li> <li><a href="#imageinput">ImageInput</a></li> <li><a href="#include">Include</a></li> <li><a href="#input">Input</a></li> <li><a href="#inputerr">InputErr</a></li> <li><a href="#inputmap">InputMap</a></li> <li><a href="#jsontosource">JsonToSource</a></li> <li><a href="#label">Label</a></li> <li><a href="#langres">LangRes</a></li> <li><a href="#linkpage">LinkPage</a></li> <li><a href="#map">Map</a></li> <li><a href="#menugroup">MenuGroup</a></li> <li><a href="#menuitem">MenuItem</a></li> <li><a href="#money">Money</a></li> <li><a href="#or">Or</a></li> <li><a href="#p">P</a></li> <li><a href="#qrcode">QRcode</a></li> <li><a href="#radiogroup">RadioGroup</a></li> <li><a href="#range">Range</a></li> <li><a href="#select">Select</a></li> <li><a href="#settitle">SetTitle</a></li> <li><a href="#setvar">SetVar</a></li> <li><a href="#span">Span</a></li> <li><a href="#strong">Strong</a></li> <li><a href="#sysparam">SysParam</a></li> <li><a href="#table">Table</a></li> <li><a href="#transactioninfo">TransactionInfo</a></li> <li><a href="#varasis">VarAsIs</a></li></ul></li> <li><a href="#app-styles-for-mobile-devices">适配移动设备的应用程序样式</a> <ul><li><a href="#layout">排版</a> <ul><li><a href="#title">标题</a></li> <li><a href="#strong-class-names">强调类类名</a></li> <li><a href="#color">颜色</a></li></ul></li> <li><a href="#grid">网格</a></li> <li><a href="#panel">面板</a></li> <li><a href="#form-app">表单</a></li> <li><a href="#button-app">按钮</a></li> <li><a href="#icon">图标</a></li></ul></li></ul> <h2 id="page-construction"><a href="#page-construction" class="header-anchor">#</a> 页面构建 </h2> <p>Weaver 的集成开发环境使用 <em>JavaScript React库</em>创建，包括页面编辑器和可视化页面设计器。页面是应用程序的基本组成部分，它提供从数据库表中检索和显示数据，创建用于接收用户输入数据的表单，将数据传递给合约以及在应用程序页面之间导航。页面和合约一样，都存储在区块链中，这可以确保在软件客户端中加载它们时防止篡改。</p> <h3 id="template-engine"><a href="#template-engine" class="header-anchor">#</a> 模版引擎 </h3> <p>页面元素（页面和菜单）是由开发者在 Weaver 的页面编辑器中使用模版语言在验证节点的 <em>模版引擎</em>中形成的。所有页面均使用由 IBAX区块链平台 开发团队开发的 Logicor 语言构建。使用 <em>content/...</em> API命令从网络上的节点请求页面。模版引擎作为对此类请求的回复发送的内容不是HTML页面，而是由HTML标记组成的JSON代码，这些标记根据模版结构形成树模版引擎对此类请求的响应发送的不是HTML页面，而是由HTML标记组成的JSON代码，这些标记根据模版结构形成树。如果想要测试模版引擎可参考<a href="/zh-CN/reference/api2.html#content">content</a> API接口。</p> <h3 id="create-pages"><a href="#create-pages" class="header-anchor">#</a> 创建页面 </h3> <p>可以使用页面编辑器创建和编辑页面，该编辑器可在 Weaver 的管理工具的<strong>页面Pages</strong> 部分中找到。该编辑器提供：</p> <ul><li>编写页面代码，突出显示 Logicor 模版语言的关键字；</li> <li>选择菜单，这些菜单将显示在页面上；</li> <li>编辑菜单页面；</li> <li>配置更改页面的权限，通过在 <em>ContractConditions</em> 函数中指定具有权限的合约名称，或通过在 <em>更改条件Change conditions</em> 中直接指定访问权限；</li> <li>启动可视化页面设计器；</li> <li>页面预览。</li></ul> <h4 id="visual-page-designer"><a href="#visual-page-designer" class="header-anchor">#</a> 可视化页面设计器 </h4> <p>可视化页面设计器可以创建页面设计而无需借助 Logicor语言中的界面代码。视图化Designer可以使用拖放操作在页面上设置表单元素和文本的位置，以及配置页面块大小。视图化提供了一组用于显示标准数据模型的即用型块：带有标题，表单和信息面板。在视图化中创建页面后，可在页面编辑器中编写接收数据和条件结构的程序逻辑。未来我们计划创建一个更加完整的可视化页面设计器。</p> <h4 id="applicable-styles"><a href="#applicable-styles" class="header-anchor">#</a> 样式使用 </h4> <p>默认使用Angular的Bootstrap Angle类样式风格显示页面。如果需要，用户可以创建自己的样式。样式存储在生态系统参数表的样式参数 <em>stylesheet</em> 中。</p> <h4 id="page-module"><a href="#page-module" class="header-anchor">#</a> 页面模块 </h4> <p>要在多个页面中使用代码片段，可以创建页面模块并将其嵌入到页面代码。在 Weaver 的 <strong>模块Blocks</strong>中可创建和编辑这些页面模块。 和页面一样，可定义编辑权限。</p> <h4 id="language-resource-editor"><a href="#language-resource-editor" class="header-anchor">#</a> 多语言资源编辑器 </h4> <p>Weaver 包括一个使用 Logicor 模版语言的函数 <strong>LangRes</strong>进行页面本地化的机制。它将页面上的语言资源标签替换为用户在软件客户端或浏览器中选择的语言对应的文本行。可以使用简短的语法 <strong>$lable$</strong> 代替 <strong>LangRes</strong>函数。由合约发起的弹出窗口中的消息翻译是由 needle 语言的 <strong>LangRes</strong>函数执行的。</p> <p>可以在 Weaver 的 <strong>多语言资源Language resources</strong>部分中创建和编辑语言资源。语言资源由一个标签名称和该名称在不同语言中的翻译组成，并标记相应的双字符语言标识符(EN、ZH、JP等)。</p> <p>可以使用与其他数据表相同的方式定义添加和更改语言资源的权限。</p> <h2 id="logicor-template-language"><a href="#logicor-template-language" class="header-anchor">#</a> Logicor 模版语言 </h2> <p>Logicor 函数提供以下操作：</p> <ul><li>从数据库中检索值：<code>DBFind</code>，将从数据库检索的数据表示为表格和图表；</li> <li>分配和显示变量值的数据操作：<code>SetVar, GetVar, Data</code>；</li> <li>显示和比较日期/时间值：<code>DateTime, Now, CmpTime</code>；</li> <li>使用各种用户数据输入字段构建表单：<code>Form, ImageInput, Input, RadioGroup, Select</code>；</li> <li>通过显示错误消息验证表单字段中的数据：<code>Validate, InputErr</code>；</li> <li>导航元素的显示：<code>AddToolButton, LinkPage, Button</code>；</li> <li>调用合约：<code>Button</code>；</li> <li>创建HTML页面布局元素，包括各种标签，可选择指定css类：
<code>Div, P, Span, 等</code>；</li> <li>将图像嵌入页面并上传图像：<code>Image, ImageInput</code>；</li> <li>页面布局片段的条件显示： <code>If, ElseIf, Else</code>；</li> <li>创建多级菜单；</li> <li>页面本地化。</li></ul> <h3 id="logicor-overview"><a href="#logicor-overview" class="header-anchor">#</a> Logicor 概述 </h3> <p>Logicor 页面模版语言是一种函数式语言，允许使用函数调用函数<code>FuncName(parameters)</code>，并将函数嵌套到彼此中。 可以指定参数而不带引号,可以删除不必要的参数。</p> <div class="language-text extra-class"><pre class="language-text"><code>Text FuncName(parameter number 1, parameter number 2) another text.
FuncName(parameter 1,,,parameter 4)
</code></pre></div><p>如果参数包含逗号，应将其括在引号（后引号或双引号）中。如果一个函数只能有一个参数，可以在其中使用逗号而不带引号。此外，如果参数具有不成对的右括号，应使用引号。</p> <div class="language-text extra-class"><pre class="language-text"><code>FuncName(&quot;parameter number 1, the second part of first paremeter&quot;)
FuncName(`parameter number 1, the second part of first paremeter`)
</code></pre></div><p>如果将参数放在引号中，但参数本身包含引号，可以在文本中使用不同类型的引号或多个引号。</p> <div class="language-text extra-class"><pre class="language-text"><code>FuncName(&quot;parameter number 1, &quot;&quot;the second part of first&quot;&quot; paremeter&quot;)
FuncName(`parameter number 1, &quot;the second part of first&quot; paremeter`)
</code></pre></div><p>在函数定义中，每个参数都有一个特定的名称。您可以按声明的顺序调用函数和指定参数，或者按名称的任意顺序指定任何参数集：<code>Parameter_name: Parameter_value</code>。该方法允许安全地添加新的函数参数，而不会破坏与当前模版的兼容性：</p> <div class="language-text extra-class"><pre class="language-text"><code>FuncName(myclass, This is value, Div(divclass, This is paragraph.))
FuncName(Body: Div(divclass, This is paragraph.))
FuncName(myclass, Body: Div(divclass, This is paragraph.))
FuncName(Value: This is value, Body: 
     Div(divclass, This is paragraph.)
)
FuncName(myclass, Value without Body)
</code></pre></div><p>函数可以返回文本，生成HTML元素（例如，<code>Input</code>），或者创建具有嵌套HTML元素的HTML元素（<code>Div，P，Span</code>）。在后一种情况下，使用具有预定义名称 <strong>Body</strong> 的参数来定义嵌套元素。例如，在另一个div中嵌套两个div如下所示：</p> <div class="language-text extra-class"><pre class="language-text"><code>Div(Body:
   Div(class1, This is the first div.)
   Div(class2, This is the second div.)
)
</code></pre></div><p>要定义 <strong>Body</strong> 参数中描述的嵌套元素，可以使用以下表示：<code>FuncName(...){...}</code>。嵌套元素用花括号指定:</p> <div class="language-text extra-class"><pre class="language-text"><code>Div(){
   Div(class1){
      P(This is the first div.)
      Div(class2){
          Span(This is the second div.)
      }
   }
}
</code></pre></div><p>如果需要连续多次指定相同的函数，则可以使用点号 <code>.</code>,而不是每次都写入函数名。例如，以下是相同的：</p> <div class="language-text extra-class"><pre class="language-text"><code>Span(Item 1)Span(Item 2)Span(Item 3)
Span(Item 1).(Item 2).(Item 3)
</code></pre></div><p>该语言可以使用 <strong>SetVar</strong> 函数分配变量，引用变量值使用 <code>#name#</code>。</p> <div class="language-text extra-class"><pre class="language-text"><code>SetVar(name, My Name)
Span(Your name: #name#)
</code></pre></div><p>要引用生态系统的语言资源，可以使用 <code>$langres$</code>，其中 <em>langres</em> 是语言源的名称。</p> <div class="language-text extra-class"><pre class="language-text"><code>Span($yourname$: #name#)
</code></pre></div><p>预定义了以下变量：</p> <ul><li><code>#key_id#</code> - 当前用户的帐户地址；</li> <li><code>#ecosystem_id#</code> - 当前生态系统ID；</li> <li><code>#guest_key#</code> - 访客账户地址；</li> <li><code>#isMobile#</code> - 如果 Weaver 在移动设备上运行，则为1。</li></ul> <h4 id="use-pageparams-to-pass-parameters-to-pages"><a href="#use-pageparams-to-pass-parameters-to-pages" class="header-anchor">#</a> PageParams </h4> <p>使用PageParams将参数传递给页面。有很多函数都支持 <strong>PageParams</strong>参数，该参数用于在重定向到新页面时传递参数。例如：<code>PageParams: &quot;param1=value1,param2=value2&quot;</code>。参数值既可以是简单的字符串，也可以是具有引用值的变量。将参数传递给页面时，会创建带参数名称的变量。例如，<code>#param1#</code>和 <code>#param2#</code>。</p> <ul><li><code>PageParams: &quot;hello=world&quot;</code> - 新页面以world为值接收hello参数；</li> <li><code>PageParams: &quot;hello=#world#&quot;</code> - 新页面接收带有world变量值的hello参数。</li></ul> <h4 id=""><a href="#" class="header-anchor">#</a> Val (#val)</h4> <div class="language- extra-class"><pre><code>此外，**Val** 函数允许从表单中获取数据，这些数据是在重定向中指定的。
</code></pre></div><ul><li><code>PageParams: &quot;hello=Val(world)&quot;</code> - 新页面接收带有world表单元素值的hello参数。</li></ul> <h4 id="calling-contracts"><a href="#calling-contracts" class="header-anchor">#</a> 调用合约 </h4> <p>Logicor 通过单击表单中的按钮 <strong>Button</strong>函数来实现合约调用。一旦启动该事件，用户在页面表单字段中输入的数据将传递给合约，如果表单字段的名称对应于被调用合约的数据部分中的变量名称，则会自动传输数据。<strong>Button</strong>函数允许打开一个模式窗口，用于用户验证合约执行，并在成功执行合约后启动重定向到指定页面的操作，并将某些参数传递到该页面。</p> <h2 id="logicor-function-classification"><a href="#logicor-function-classification" class="header-anchor">#</a> Logicor 函数功能分类 </h2> <h3 id="operations-on-variables"><a href="#operations-on-variables" class="header-anchor">#</a> 变量操作 </h3> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#getvar">GetVar</a></td> <td><a href="#setvar">SetVar</a></td> <td><a href="#varasis">VarAsIs</a></td></tr></tbody></table> <h3 id="navigational-operations"><a href="#navigational-operations" class="header-anchor">#</a> 导航操作 </h3> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#addtoolbutton">AddToolButton</a></td> <td><a href="#button">Button</a></td> <td><a href="#linkpage">LinkPage</a></td></tr></tbody></table> <h3 id="data-manipulation"><a href="#data-manipulation" class="header-anchor">#</a> 数据操作 </h3> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#calculate">Calculate</a></td> <td><a href="#datetime">DateTime</a></td> <td><a href="#money">Money</a></td></tr> <tr><td><a href="#cmptime">CmpTime</a></td> <td></td> <td></td></tr></tbody></table> <h3 id="data-presentation"><a href="#data-presentation" class="header-anchor">#</a> 显示数据 </h3> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#code">Code</a></td> <td><a href="#hint">Hint</a></td> <td><a href="#menuitem">MenuItem</a></td></tr> <tr><td><a href="#codeasis">CodeAsIs</a></td> <td><a href="#image">Image</a></td> <td><a href="#qrcode">QRcode</a></td></tr> <tr><td><a href="#chart">Chart</a></td> <td><a href="#menugroup">MenuGroup</a></td> <td><a href="#table">Table</a></td></tr> <tr><td><a href="#forlist">ForList</a></td> <td></td> <td></td></tr></tbody></table> <h3 id="accepting-of-data"><a href="#accepting-of-data" class="header-anchor">#</a> 接收数据 </h3> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#address">Address</a></td> <td><a href="#ecosysparam">EcosysParam</a></td> <td><a href="#langres">LangRes</a></td></tr> <tr><td><a href="#addresstoid">AddressToId</a></td> <td><a href="#gethistory">GetHistory</a></td> <td><a href="#range">Range</a></td></tr> <tr><td><a href="#appparam">AppParam</a></td> <td><a href="#getcolumntype">GetColumnType</a></td> <td><a href="#sysparam">SysParam</a></td></tr> <tr><td><a href="#data">Data</a></td> <td><a href="#jsontosource">JsonToSource</a></td> <td><a href="#binary">Binary</a></td></tr> <tr><td><a href="#dbfind">DBFind</a></td> <td><a href="#arraytosource">ArrayToSource</a></td> <td><a href="#transactioninfo">TransactionInfo</a></td></tr></tbody></table> <h3 id="data-formatting-elements"><a href="#data-formatting-elements" class="header-anchor">#</a> 数据格式化元素 </h3> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#div">Div</a></td> <td><a href="#settitle">SetTitle</a></td> <td><a href="#span">Span</a></td></tr> <tr><td><a href="#em">Em</a></td> <td><a href="#label">Label</a></td> <td><a href="#strong">Strong</a></td></tr> <tr><td><a href="#p">P</a></td> <td></td> <td></td></tr></tbody></table> <h3 id="form-elements"><a href="#form-elements" class="header-anchor">#</a> 表单元素 </h3> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#form">Form</a></td> <td><a href="#inputerr">InputErr</a></td> <td><a href="#inputmap">InputMap</a></td></tr> <tr><td><a href="#imageinput">ImageInput</a></td> <td><a href="#radiogroup">RadioGroup</a></td> <td><a href="#map">Map</a></td></tr> <tr><td><a href="#input">Input</a></td> <td><a href="#select">Select</a></td> <td></td></tr></tbody></table> <h3 id="operations-on-code-blocks"><a href="#operations-on-code-blocks" class="header-anchor">#</a> 代码片段操作 </h3> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#if">If</a></td> <td><a href="#or">Or</a></td> <td><a href="#include">Include</a></td></tr> <tr><td><a href="#and">And</a></td> <td></td> <td></td></tr></tbody></table> <h2 id="logicor-function-references"><a href="#logicor-function-references" class="header-anchor">#</a> Logicor 函数参考 </h2> <h3 id="address"><a href="#address" class="header-anchor">#</a> Address </h3> <p>该函数返回指定账户地址的钱包地址<code>xxxx-xxxx-...-xxxx</code>；如果没有指定地址，以当前用户的账户地址作为参数。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Address(account)
</code></pre></div><ul><li><p>Address</p> <ul><li><p>account</p> <p>账户地址。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Span(Your wallet: Address(#account#))
</code></pre></div><h3 id="addresstoid"><a href="#addresstoid" class="header-anchor">#</a> AddressToId </h3> <p>该函数返回指定钱包地址 <code>xxxx-xxxx-...-xxxx</code> 的账户地址。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>AddressToId(Wallet)
</code></pre></div><ul><li><p>AddressToId</p> <ul><li><p>Wallet</p> <p>钱包地址 <code>XXXX-...-XXXX</code> 格式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>AddressToId(#wallet#)
</code></pre></div><h3 id="addtoolbutton"><a href="#addtoolbutton" class="header-anchor">#</a> AddToolButton </h3> <p>创建一个 <strong>addtoolbutton</strong> 元素的按钮面板。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>AddToolButton(Title, Icon, Page, PageParams) 
    [.Popup(Width, Header)]
</code></pre></div><ul><li><p>AddToolButton</p> <ul><li><p>Title</p> <p>按钮标题。</p></li> <li><p>Icon</p> <p>按钮图标样式。</p></li> <li><p>Page</p> <p>跳转的页面名称。</p></li> <li><p>PageParams</p> <p>传递给页面的参数。</p></li> <li><p>Popup</p> <p>弹出模态窗口。</p></li> <li><p>Header</p> <p>窗口标题。</p></li> <li><p>Width</p> <p>窗口宽度百分比。</p> <p>该参数的值范围是1到100。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>AddToolButton(Title: $@1broadcast$, Page: @1notifications_broadcast, Icon: icon-plus).Popup(Header: $@1notifications_broadcast$, Width: &quot;50&quot;)
</code></pre></div><h3 id="and"><a href="#and" class="header-anchor">#</a> And </h3> <p>该函数返回执行 <strong>and</strong> 逻辑运算的结果，括号中列出的所有参数以逗号分隔。如果有一个参数为空字符串、零或<code>false</code>，参数值为 <code>false</code>，其他情况参数值为 <code>true</code>。如果参数值为<code>true</code>，则该函数返回 <code>1</code>，其他情况返回 <code>0</code>。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>And(parameters)
</code></pre></div><p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>If(And(#myval1#,#myval2#), Span(OK))
</code></pre></div><h3 id="appparam"><a href="#appparam" class="header-anchor">#</a> AppParam </h3> <p>输出应用程序参数值，该值取自当前生态系统的 <em>app_params</em>表。如果存在具有指定定名称的语言资源，其值将自动替换。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>AppParam(App, Name, Index, Source) 
</code></pre></div><ul><li><p>AppParam</p> <ul><li><p>App</p> <p>应用程序ID。</p></li> <li><p>Name</p> <p>参数名称。</p></li> <li><p>Index</p> <p>当参数值是以逗号分隔的列表时，可以使用该参数。</p> <p>参数元素的索引，从1开始。例如，如果 <code>type = full,light</code>，那么 <code>AppParam(1, type, 2)</code> 返回 <code>light</code>。</p> <p>该参数不能与 <em>Source</em> 参数一起使用。</p></li> <li><p>Source</p> <p>当参数值是以逗号分隔的列表时，可以使用该参数。</p> <p>创建 <em>data</em> 对象，该对象的元素是指定参数的值。该对象可用作<a href="#table">Table</a> 和 <a href="#select">Select</a> 函数的数据源。</p> <p>该参数不能与 <em>Index</em> 参数一起使用。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>AppParam(1, type, Source: mytype)
</code></pre></div><h3 id="arraytosource"><a href="#arraytosource" class="header-anchor">#</a> ArrayToSource </h3> <p>创建一个 <strong>arraytosource</strong>元素，并用JSON数组的键值对填充它。得到的数据被放入 <em>Source</em>元素，该元素稍后可以在源输入的函数中使用(例如<a href="#Table">Table</a>)。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>ArrayToSource(Source, Data)
</code></pre></div><ul><li><p>ArrayToSource</p> <ul><li><p>Source</p> <p>数据源名称。</p></li></ul></li> <li><p>Data</p> <p>JSON数组或包含JSON数组的变量名称（<code>#name#</code>）。</p></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>ArrayToSource(src, #myjsonarr#)
ArrayToSource(dat, [1, 2, 3])
</code></pre></div><h3 id="binary"><a href="#binary" class="header-anchor">#</a> Binary </h3> <p>返回存储在二进制表 <em>binaries</em> 中的静态文件的链接。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Binary(Name, AppID, MemberID)[.ById(ID)][.Ecosystem(ecosystem)]
</code></pre></div><ul><li><p>Binary</p> <ul><li><p>Name</p> <p>文件名称。</p></li> <li><p>AppID</p> <p>应用程序ID。</p></li> <li><p>MemberID</p> <p>账户地址，默认0。</p></li> <li><p>ID</p> <p>静态文件ID。</p></li> <li><p>ecosystem</p> <p>生态系统ID。如果未指定该参数，从当前生态系统请求二进制文件。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Image(Src: Binary(&quot;my_image&quot;, 1))
Image(Src: Binary().ById(2))
Image(Src: Binary().ById(#id#).Ecosystem(#eco#))
</code></pre></div><h3 id="button"><a href="#button" class="header-anchor">#</a> Button </h3> <p>创建一个 <strong>button</strong> HTML元素。该元素创建一个按钮，用于调用合约或打开页面。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Button(Body, Page, Class, Contract, Params, PageParams)
    [.CompositeContract(Contract, Data)]
    [.Alert(Text, ConfirmButton, CancelButton, Icon)]
    [.Popup(Width, Header)]
    [.Style(Style)]
    [.ErrorRedirect((ErrorID,PageName,PageParams)]
</code></pre></div><ul><li><p>Button</p> <ul><li><p>Body</p> <p>子文本或元素。</p></li> <li><p>Page</p> <p>重定向的页面名称。</p></li> <li><p>Class</p> <p>按钮类。</p></li> <li><p>Contract</p> <p>调用的合约名称。</p></li> <li><p>Params</p> <p>传递给合约的值列表。通常情况下，合约参数的值（<code>data</code>部分）是从具有相似名称的 <code>id</code> 的HTML元素(例如输入字段)中获得。如果元素<code>id</code> 与合约参数的名称不同，那么应该使用<code>contractField1=idname1, contractField2=idname2</code>格式赋值。该参数作为对象<code>{contractField1: idname1, contractField2: idname2}</code> 返回给 <em>attr</em>。</p></li> <li><p>PageParams</p> <p>传递给重定向页面的参数的格式<code>pageField1=idname1, pageField2=idname2</code>。目标页面参数名称为<code>#pageField1</code> 和 <code>#pageField2</code>的变量在目标页面上创建，并分配指定的值。更多参数传递规范<a href="#pageparams">使用PageParams将参数传递给页面</a>。</p></li></ul></li> <li><p>CompositeContract</p> <p>用于为按钮添加额外合约。CompositeContract可以多次使用。</p> <ul><li><p>Name</p> <p>合约名称。</p></li> <li><p>Data</p> <p>合约参数为JSON数组。</p></li></ul></li> <li><p>Alert</p> <p>显示消息。</p> <ul><li><p>Text</p> <p>消息文本。</p></li> <li><p>ConfirmButton</p> <p>确认按钮标题。</p></li> <li><p>CancelButton</p> <p>取消按钮标题。</p></li> <li><p>Icon</p> <p>按钮图标。</p></li></ul></li> <li><p>Popup</p> <p>输出模态窗口。</p> <ul><li><p>Header</p> <p>窗口标题。</p></li> <li><p>Width</p> <p>窗口宽度百分比。</p> <p>该参数的值范围是1到100。</p></li></ul></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li> <li><p>ErrorRedirect</p> <p>指定一个重定向页面，当<code>contractfundef-Throw</code>{.interpreted-text role=&quot;ref&quot;} 函数在合约执行期间生成错误时，将使用该重定向页面。可以有几个<em>ErrorRedirect</em> 调用。因此返回*errredirect*属性时，其属性的键为<em>ErrorID</em> ，值为参数列表。</p> <ul><li><p>ErrorID</p> <p>错误ID。</p></li> <li><p>PageName</p> <p>重定向页面的名称。</p></li> <li><p>PageParams</p> <p>传递给该页面的参数。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Button(Submit, default_page, mybtn_class).Alert(Alert message)
Button(Contract: MyContract, Body:My Contract, Class: myclass, Params:&quot;Name=myid,Id=i10,Value&quot;)
</code></pre></div><h3 id="calculate"><a href="#calculate" class="header-anchor">#</a> Calculate </h3> <p>该函数返回 <strong>Exp</strong> 参数中传递的算术表达式的结果。可以使用以下操作：<code>+, -, *, /</code> 和括号<code>()</code>。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Calculate(Exp, Type, Prec)
</code></pre></div><ul><li><p>Calculate</p> <ul><li><p>Exp</p> <p>算术表达式。可以包含数字和 <em># name</em>＃ 变量。</p></li> <li><p>Type</p> <p>结果数据类型：int, float,money。如果未指定，如果有带小数点的数字，则结果类型为float，其他情况则为int。</p></li> <li><p>Prec</p> <p><strong>float</strong> 和 <strong>money</strong> 类型指定小数点后的有效位数。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Calculate( Exp: (342278783438+5000)\*(#val#-932780000), Type: money, Prec:18 )
Calculate(10000-(34+5)\*#val#)
Calculate(&quot;((10+#val#-45)\*3.0-10)/4.5 + #val#&quot;, Prec: 4)      
</code></pre></div><h3 id="chart"><a href="#chart" class="header-anchor">#</a> Chart </h3> <p>创建HTML图表。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Chart(Type, Source, FieldLabel, FieldValue, Colors)
</code></pre></div><ul><li><p>Chart</p> <ul><li><p>Type</p> <p>图表类型。</p></li> <li><p>Source</p> <p>数据源的名称，例如，从<a href="#DBFind">DBFind</a> 函数获取。</p></li> <li><p>FieldLabel</p> <p>标头的字段的名称。</p></li> <li><p>FieldValue</p> <p>值的字段的名称。</p></li> <li><p>Colors</p> <p>颜色列表。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Data(mysrc,&quot;name,count&quot;){
    John Silver,10
    &quot;Mark, Smith&quot;,20
    &quot;Unknown &quot;&quot;Person&quot;&quot;&quot;,30
}
Chart(Type: &quot;bar&quot;, Source: mysrc, FieldLabel: &quot;name&quot;, FieldValue: &quot;count&quot;, Colors: &quot;red, green&quot;)
</code></pre></div><h3 id="cmptime"><a href="#cmptime" class="header-anchor">#</a> CmpTime </h3> <p>该函数比较相同格式的两个时间值。</p> <p>格式支持 unixtime，<code>YYYY-MM-DD HH:MM:SS</code> 和任意时间格式，例如从年到秒 <code>YYYYMMDD</code>。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>CmpTime(Time1, Time2)
</code></pre></div><p><strong>返回值</strong></p> <ul><li><code>-1</code> - Time1 &lt; Time2；</li> <li><code>0</code> - Time1 = Time2；</li> <li><code>1</code> - Time1 &gt; Time2。</li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>If(CmpTime(#time1#, #time2#)&amp;lt;0){...}
</code></pre></div><h3 id="code"><a href="#code" class="header-anchor">#</a> Code </h3> <p>创建用于显示指定代码的 <strong>code</strong> 元素。</p> <p>该函数用变量的值替换变量(例如 <code>#name#</code>)。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Code(Text)
</code></pre></div><ul><li><p>Code</p> <ul><li><p>Text</p> <p>源代码。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Code( P(This is the first line.
    Span(This is the second line.))
)  
</code></pre></div><h3 id="codeasis"><a href="#codeasis" class="header-anchor">#</a> CodeAsIs </h3> <p>创建用于显示指定代码的 <strong>code</strong> 元素。</p> <p>此函数不会将变量替换为其值。例如，<code>#name#</code> 将按原样显示。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>CodeAsIs(Text)
</code></pre></div><ul><li><p>CodeAsIs</p> <ul><li><p>Text</p> <p>源代码。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>CodeAsIs( P(This is the #test1#.
    Span(This is the #test2#.))
)
</code></pre></div><h3 id="data"><a href="#data" class="header-anchor">#</a> Data </h3> <p>创建一个 <strong>data</strong> 元素并用指定的数据填充它并放入 <em>Source</em> 中，然后可以在<a href="#Table">Table</a> 和其他函数中接收<em>Source</em> 作为数据输入。列名序列对应于 <em>data</em> 条目值的序列。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Data(Source,Columns,Data) 
    [.Custom(Column){Body}]
</code></pre></div><ul><li><p>Data</p> <ul><li><p>Source</p> <p>数据源名称。您可以指定任何名称，稍后可以将其作为数据源传递到其他函数中。</p></li> <li><p>Columns</p> <p>列名的列表，以逗号分隔。</p></li> <li><p>Data</p> <p>数据集。</p> <p>每行一条记录。列值必须用逗号分隔。<em>Data</em> 和 <em>Columns</em>应设置相同的顺序。</p> <p>对于带有逗号的值，将该值放在双引号中 (<code>&quot;example1, example2&quot;, 1, 2</code>)。对于带引号的值，将该值放在两个双引号中(<code>&quot;&quot;&quot;example&quot;, &quot;example2&quot;&quot;&quot;, 1, 2</code>)。</p></li></ul></li></ul> <h3 id="custom"><a href="#custom" class="header-anchor">#</a> Custom </h3> <div class="language- extra-class"><pre><code>可以为 *Data*分配计算列。例如，您可以为按钮和其他页面布局元素指定字段模版。这些字段模版通常分配给[Table](#Table)和其他函数来接收数据。

如果想要分配多个计算列，请使用多个 *Custom* 函数。
</code></pre></div><ul><li><p>Column</p> <p>列名。必须指定唯一名称。</p></li> <li><p>Body</p> <p>代码片段。您可以使用 <code>#columnname#</code>从该条目中的其他列获取值，然后在代码片段中使用这些值。</p></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Data(mysrc,&quot;id,name&quot;){
    &quot;1&quot;,John Silver
    2,&quot;Mark, Smith&quot;
    3,&quot;Unknown &quot;&quot;Person&quot;&quot;&quot;
 }.Custom(link){Button(Body: View, Class: btn btn-link, Page: user, PageParams: &quot;id=#id#&quot;}
</code></pre></div><h3 id="datetime"><a href="#datetime" class="header-anchor">#</a> DateTime </h3> <p>以指定格式显示时间和日期。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>DateTime(DateTime, Format)
</code></pre></div><ul><li><p>DateTime</p> <ul><li><p>DateTime</p> <p>以unixtime或标准格式表示时间和日期 <code>2006-01-02T15:04:05</code>。</p></li> <li><p>Format</p> <p>格式模版: 2位数年份格式 <code>YY</code>，4位数年份格式 <code>YYYY</code>，月份 <code>MM</code>，天数<code>DD</code>，小时 <code>HH</code>，分钟 <code>MM</code>，秒数 <code>SS</code>，例如：<code>YY/MM/DD HH:MM</code>。</p> <p>如果没有指定或缺少该参数，将使用 <code>YYYY-MM-DD HH:MI:SS</code> 格式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>DateTime(2017-11-07T17:51:08)
DateTime(#mytime#,HH:MI DD.MM.YYYY)
</code></pre></div><h3 id="dbfind"><a href="#dbfind" class="header-anchor">#</a> DBFind </h3> <p>创建 <strong>dbfind</strong> 元素，用 <em>table</em> 表的数据填充它并将其放到 <em>Source</em>结构中。该 <em>Source</em> 结构可以在随后用于<a href="#Table">Table</a> 和其他函数 <em>Source</em>的输入数据。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>DBFind(table, Source)
    [.Columns(columns)]
    [.Where(conditions)]
    [.WhereId(id)]
    [.Order(name)]
    [.Limit(limit)]
    [.Offset(offset)]
    [.Count(countvar)]
    [.Ecosystem(id)]
    [.Cutoff(columns)]
    [.Custom(Column){Body}]
    [.Vars(Prefix)]
</code></pre></div><ul><li><p>DBFind</p> <ul><li><p>table</p> <p>数据表名称。</p></li> <li><p>Source</p> <p>数据源名称。</p></li></ul></li> <li><p>Columns</p> <ul><li><p>columns</p> <p>返回的字段列表，如果未指定，将返回所有字段。如果存在JSON类型的字段，可以使用以下语法来处理记录字段：<code>columnname-&gt;fieldname</code>。在这种情况下，生成的字段名称为<code>columnname.fieldname</code>。</p></li></ul></li> <li><p>Where</p> <ul><li><p>conditions</p> <p>数据查询条件。请参阅 <code>contractfundef-DBFind</code>{.interpreted-text role=&quot;ref&quot;}。</p> <p>如果存在JSON类型的字段，可以使用以下语法来处理记录字段：<code>columnname-&gt;fieldname</code>。</p></li></ul></li> <li><p>WhereId</p> <p>根据ID查询，例如，<code>.WhereId(1)</code>。</p> <ul><li><p>id</p> <p>条目ID。</p></li> <li><p>Order</p> <p>按字段排序。</p> <p>有关排序语法的详细信息，请参阅<a href="#DBFind">DBFind</a>。</p></li> <li><p>name</p> <p>字段名称</p></li></ul></li> <li><p>Limit</p> <ul><li><p>limit</p> <p>返回的条目数。默认为25条，最大数为10000条。</p></li></ul></li> <li><p>Offset</p> <ul><li><p>offset</p> <p>偏移量。</p></li></ul></li> <li><p>Count</p> <p>指定 <em>Where</em> 条件的总行数。</p> <p>除了存储在变量中之外，还会在 <em>dbfind</em> 元素的 <em>count</em> 参数中返回总计数。</p> <p>如果未指定 <em>Where</em> 和 <em>WhereID</em>，将返回数据表的总行数。</p> <ul><li><p>countvar</p> <p>保存行计数的变量名称。</p></li></ul></li> <li><p>Ecosystem</p> <ul><li><p>id</p> <p>生态系统ID。默认情况下，数据来自当前生态系统中的指定表。</p></li></ul></li> <li><p>Cutoff</p> <p>用于剪切和显示大量文本数据。</p> <ul><li><p>columns</p> <p>由逗号分隔的字段列表，这些字段必须由 <em>Cutoff</em> 函数处理。</p> <p>字段值被一个JSON对象替换，该对象有两个字段: 链接 <em>link</em> 和标题 <em>title</em>。如果字段值大于32个字符，则返回指向全文前32个字符的<em>link</em>。如果值为32个字符且更短，则 <em>link</em> 为空，*title* 包含完整的字段值。</p></li></ul></li> <li><p>Custom</p> <p>可以为 <em>Data</em>分配计算列。例如，您可以为按钮和其他页面布局元素指定字段模版。这些字段模版通常分配给<code>templatefundef-Table</code>{.interpreted-text role=&quot;ref&quot;} 和其他函数来接收数据。</p> <p>如果想要分配多个计算列，请使用多个 <em>Custom</em> 函数。</p> <ul><li><p>Column</p> <p>列名。必须指定唯一名称。</p></li> <li><p>Body</p> <p>代码片段。您可以使用 <code>#columnname#</code>从该条目中的其他列获取值，然后在代码片段中使用这些值。</p></li></ul></li> <li><p>Vars</p> <p>通过查询获得的第一行生成一组具有值的变量。当指定这个函数时，<em>Limit</em>参数自动变为1，并且只返回一条记录。</p> <ul><li><p>Prefix</p> <p>添加到变量名称的前缀。格式为<code>#prefix_columnname#</code>，其中列名紧跟下划线符号。如果有包含JSON字段的列，那么生成的变量将采用以下格式：<code>#prefix_columnname_field#</code>。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>DBFind(parameters,myparam)
DBFind(parameters,myparam).Columns(name,value).Where({name:&quot;money&quot;})
DBFind(parameters,myparam).Custom(myid){Strong(#id#)}.Custom(myname){
   Strong(Em(#name#))Div(myclass, #company#)
}
</code></pre></div><h3 id="div"><a href="#div" class="header-anchor">#</a> Div </h3> <p>创建 <strong>div</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Div(Class, Body)
    [.Style(Style)]
    [.Show(Condition)]
    [.Hide(Condition)]
</code></pre></div><ul><li><p>Div</p> <ul><li><p>Class</p> <p>该 <em>div</em> 的类名。</p></li> <li><p>Body</p> <p>子元素。</p></li></ul></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li> <li><p>Show</p> <p>定义显示Div的条件。</p> <ul><li><p>Condition</p> <p>见下面 <em>Hide</em>。</p></li></ul></li> <li><p>Hide</p> <p>定义隐藏Div的条件。</p> <ul><li><p>Condition</p> <p>表达式格式 <code>InputName=Value</code>，当所有表达式都为真时，<em>Condition</em> 为真，当 <code>InputName</code> 的值等于 <code>Value</code>，<em>Condition</em>为真。如果调用了多个 <em>Show</em> 或 <em>Hide</em>，则至少有一个 <em>Condition</em> 参数必须为真。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Form(){
    Div(text-left){
        Input(Name: &quot;broadcast&quot;, Type: &quot;checkbox&quot;, Value: &quot;false&quot;)
    }
    Div(text-left){
        hello
    }.Show(&quot;broadcast=false&quot;)
    Div(text-left){
        world
    }.Hide(&quot;broadcast=false&quot;)
}
</code></pre></div><h3 id="ecosysparam"><a href="#ecosysparam" class="header-anchor">#</a> EcosysParam </h3> <p>该函数从当前生态系统的生态系统参数表中获取参数值。如果返回结果名称有语言资源，则会相应地进行翻译。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>EcosysParam(Name, Index, Source)
</code></pre></div><ul><li><p>EcosysParam</p> <ul><li><p>Name</p> <p>参数名称。</p></li> <li><p>Index</p> <p>如果请求的参数是以逗号分隔的元素列表，可以指定从1开始的索引。例如，如果<code>gender = male,female</code>，那么 <code>gender = male,female</code> 返回 <code>female</code>。</p> <p>该参数不能与 <em>Source</em> 参数一起使用。</p></li> <li><p>Source</p> <p>当参数值是以逗号分隔的列表时，可以使用该参数。</p> <p>创建 <em>data</em> 对象，该对象的元素是指定参数的值。该对象可用作<a href="#Table">Table</a> 和 <a href="#Select">Select</a> 函数的数据源。</p> <p>该参数不能与 <em>Index</em> 参数一起使用。</p></li></ul></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>Address(EcosysParam(founder_account))
EcosysParam(gender, Source: mygender)

EcosysParam(Name: gender_list, Source: src_gender)
Select(Name: gender, Source: src_gender, NameColumn: name, ValueColumn: id)
</code></pre></div><h3 id="em"><a href="#em" class="header-anchor">#</a> Em </h3> <p>创建 <strong>em</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Em(Body, Class)
</code></pre></div><ul><li><p>Em</p> <ul><li><p>Body</p> <p>子文本或元素。</p></li> <li><p>Class</p> <p>该 <em>em</em> 的类名。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>This is an Em(important news).
</code></pre></div><h3 id="forlist"><a href="#forlist" class="header-anchor">#</a> ForList </h3> <p>以 <em>Body</em> 中设置的模版格式显示 <em>Source</em> 数据源中的元素列表，并创建 <strong>forlist</strong> 元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>ForList(Source, Index){Body}
</code></pre></div><ul><li><p>ForList</p> <ul><li><p>Source</p> <p>从 <a href="#dbfind">DBFind</a> 或 <a href="#data">Data</a> 函数获取的数据源。</p></li> <li><p>Index</p> <p>迭代计数器的变量。计数从1开始。</p> <p>可选参数。如果未指定，则将迭代计数值写入 <em>[Source] _index</em> 变量。</p></li> <li><p>Body</p> <p>用于插入元素的模版。</p></li></ul></li></ul> <div class="language-text extra-class"><pre class="language-text"><code>ForList(mysrc){Span(#mysrc_index#. #name#)}
</code></pre></div><h3 id="form"><a href="#form" class="header-anchor">#</a> Form </h3> <p>创建 <strong>form</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Form(Class, Body) [.Style(Style)]
</code></pre></div><ul><li><p>Form</p> <ul><li><p>Body</p> <p>子文本或元素。</p></li> <li><p>Class</p> <p>该 <em>form</em> 的类名。</p></li></ul></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Form(class1 class2, Input(myid))
</code></pre></div><h3 id="getcolumntype"><a href="#getcolumntype" class="header-anchor">#</a> GetColumnType </h3> <p>返回指定数据表的字段数据类型。</p> <p>返回以下类型：<code>text, varchar, number, money, double, bytes, json, datetime, double</code>。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GetColumnType(Table, Column)
</code></pre></div><ul><li><p>GetColumnType</p> <ul><li><p>Table</p> <p>数据表名称。</p></li> <li><p>Column</p> <p>字段名称。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>SetVar(coltype,GetColumnType(members, member_name))Div(){#coltype#}
</code></pre></div><h3 id="gethistory"><a href="#gethistory" class="header-anchor">#</a> GetHistory </h3> <p>创建 <strong>gethistory</strong> 元素，使用指定数据表的条目的历史更改记录来填充它。生成的数据将放入 <em>Source</em> 元素中。该元素稍后可以在源输入的函数中使用，例如 <a href="#Table">Table</a> 。</p> <p>数组按从最近更改顺序排序。</p> <p>数组中 <em>id</em> 字段指向 <em>rollback_tx</em> 表的 <em>id</em>。<em>block_id</em> 代表区块ID，<em>block_time</em> 代表区块生成时间戳。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GetHistory(Source, Name, Id, RollbackId)  
</code></pre></div><ul><li><p>GetHistory</p> <ul><li><p>Source</p> <p>数据源名称。</p></li> <li><p>Name</p> <p>数据表名称。</p></li> <li><p>Id</p> <p>条目ID。</p></li> <li><p>RollbackId</p> <p>可选参数。如果指定，只从 <em>rollback_tx</em> 表返回一个具有指定ID的记录。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GetHistory(blocks, BlockHistory, 1)
</code></pre></div><h3 id="getvar"><a href="#getvar" class="header-anchor">#</a> GetVar </h3> <p>该函数返回已存在的指定变量值，如果不存在则返回空字符串。</p> <p>只有在请求编辑树时，才会创建 <strong>getvar</strong> 元素。<code>GetVar(varname)</code> 和 <code>#varname</code> 间的区别是，如果 <em>varname</em> 不存在，<em>GetVar</em>将返回一个空字符串，而 <em>#varname#</em> 将被解释为一个字符串值。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>GetVar(Name)
</code></pre></div><ul><li><p>GetVar</p> <ul><li><p>Name</p> <p>变量名称。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>If(GetVar(name)){#name#}.Else{Name is unknown}
</code></pre></div><h3 id="hint"><a href="#hint" class="header-anchor">#</a> Hint </h3> <p>创建 <strong>hint</strong> 元素，用于提示。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Hint(Icon,Title,Text)
</code></pre></div><ul><li><p>Hint</p> <ul><li><p>Icon</p> <p>图标名称。</p></li> <li><p>Title</p> <p>提示标题。</p></li> <li><p>Text</p> <p>提示文本。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Hint(Icon: &quot;icon-wrench&quot;,Title:$@1pa_settings$,Text: This is a hint text)
</code></pre></div><h3 id="if"><a href="#if" class="header-anchor">#</a> If </h3> <p>条件声明。</p> <p>返回满足 <em>Condition</em> 的第一个 <em>If</em> 或 <em>ElseIf</em> 的子元素。否则返回 <em>Else</em> 的子元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>If(Condition){ Body } 
    [.ElseIf(Condition){ Body }]
    [.Else{ Body }]
</code></pre></div><ul><li><p>If</p> <ul><li><p>Condition</p> <p>如果条件等于 <em>空字符串</em>，<em>0</em> 或 <em>false</em>，则认为该条件未满足。在所有其他情况下，该条件被认为是满足的。</p></li> <li><p>Body</p> <p>子元素。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>If(#value#){
   Span(Value)
}.ElseIf(#value2#){Span(Value 2)
}.ElseIf(#value3#){Span(Value 3)}.Else{
   Span(Nothing)
}
</code></pre></div><h3 id="image"><a href="#image" class="header-anchor">#</a> Image </h3> <p>创建 <strong>image</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Image(Src, Alt, Class)
    [.Style(Style)]
</code></pre></div><ul><li><p>Image</p> <ul><li><p>Src</p> <p>图像源，文件或 <code>data:...</code>。</p></li> <li><p>Alt</p> <p>无法显示图像时的替代文本。</p></li> <li><p>Сlass</p> <p>图像类名。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Image(Src: Binary().ById(#id#), Class: preview).Style(height: 40px; widht 40px;)
</code></pre></div><h3 id="imageinput"><a href="#imageinput" class="header-anchor">#</a> ImageInput </h3> <p>为图像上传创建 <strong>imageinput</strong> 元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>ImageInput(Name, Width, Ratio, Format) 
</code></pre></div><ul><li><p>ImageInput</p> <ul><li><p>Name</p> <p>元素名称。</p></li> <li><p>Width</p> <p>裁剪图像的宽度。</p></li> <li><p>Ratio</p> <p>宽高比或图像高度。</p></li> <li><p>Format</p> <p>上传图像的格式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>ImageInput(avatar, 100, 2/1)
</code></pre></div><h3 id="include"><a href="#include" class="header-anchor">#</a> Include </h3> <p>将具有指定名称的模版插入到页面代码中。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Include(Name)
</code></pre></div><ul><li><p>Include</p> <ul><li><p>Name</p> <p>模版名称。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Div(myclass, Include(mywidget))
</code></pre></div><h3 id="input"><a href="#input" class="header-anchor">#</a> Input </h3> <p>创建 <strong>input</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Input(Name, Class, Placeholder, Type, Value, Disabled)
    [.Validate(validation parameters)]
    [.Style(Style)]
</code></pre></div><ul><li><p>Input</p> <ul><li><p>Name</p> <p>元素名称。</p></li> <li><p>Class</p> <p>类名。</p></li> <li><p>Placeholder</p> <p>输入字段预期值的提示信息。</p></li> <li><p>Type</p> <p><em>input</em> 类型。</p></li> <li><p>Value</p> <p>元素值。</p></li> <li><p>Disabled</p> <p>禁用 <em>input</em> 元素。</p></li></ul></li> <li><p>Validate</p> <p>验证参数。</p></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Input(Name: name, Type: text, Placeholder: Enter your name)
Input(Name: num, Type: text).Validate(minLength: 6, maxLength: 20)
</code></pre></div><h3 id="inputerr"><a href="#inputerr" class="header-anchor">#</a> InputErr </h3> <p>创建 <strong>inputerr</strong> 元素，用于验证错误文本。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>InputErr(Name,validation errors)]
</code></pre></div><ul><li><p>InputErr</p> <ul><li><p>Name</p> <p>对应于<a href="#Input">Input</a> 元素的名称。</p></li> <li><p>validation errors</p> <p>一个或多个参数的验证错误消息。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>InputErr(Name: name, 
    minLength: Value is too short, 
    maxLength: The length of the value must be less than 20 characters)
</code></pre></div><h3 id="inputmap"><a href="#inputmap" class="header-anchor">#</a> InputMap </h3> <p>创建地址文本输入字段。提供在地图上选择坐标的功能。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>InputMap(Name, Type, MapType, Value)
</code></pre></div><ul><li><p>InputMap</p> <ul><li><p>Name</p> <p>元素名称。</p></li> <li><p>Value</p> <p>默认值。</p> <p>该值是字符串格式的对象。例如，<code>{&quot;coords&quot;:[{&quot;lat&quot;:number,&quot;lng&quot;:number},]}</code>或 <code>{&quot;zoom&quot;:int, &quot;center&quot;:{&quot;lat&quot;:number,&quot;lng&quot;:number}}</code>。当使用预定义的 <em>Value</em> 创建InputMap时，地址字段可用于保存地址值，因此地址字段不为空。</p></li> <li><p>Type</p> <p>地图标点测绘类型：</p> <ul><li><em>polygon</em> - 表示多点闭环的面积；</li> <li><em>Line</em> - 表示多点无闭环的折线；</li> <li><em>Point</em> - 表示单点坐标。</li></ul></li> <li><p>MapType</p> <p>地图类型。</p> <p>该参数有以下值: <code>hybrid</code>, <code>roadmap</code>, <code>satellite</code>, <code>terrain</code>。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>InputMap(Name: Coords,Type: polygon, MapType: hybrid, Value: `{&quot;zoom&quot;:8, &quot;center&quot;:{&quot;lat&quot;:55.749942860682545,&quot;lng&quot;:37.6207172870636}}`)
</code></pre></div><h3 id="jsontosource"><a href="#jsontosource" class="header-anchor">#</a> JsonToSource </h3> <p>创建一个 <strong>jsontosource</strong>元素，并用JSON数组的键值对填充它。得到的数据被放入 <em>Source</em> 元素，该元素稍后可以在源输入的函数中使用例如：<a href="#Table">Table</a>。</p> <p>结果数据中的记录按JSON键的字母顺序排序。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>JsonToSource(Source, Data)
</code></pre></div><ul><li><p>JsonToSource</p> <ul><li><p>Source</p> <p>数据源名称。</p></li> <li><p>Data</p> <p>JSON对象或包含JSON对象的变量名称（<code>#name#</code>）。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>JsonToSource(src, #myjson#)
JsonToSource(dat, {&quot;param&quot;:&quot;value&quot;, &quot;param2&quot;: &quot;value 2&quot;})
</code></pre></div><h3 id="label"><a href="#label" class="header-anchor">#</a> Label </h3> <p>创建 <strong>label</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Label(Body, Class, For)
    [.Style(Style)]
</code></pre></div><ul><li><p>Label</p> <ul><li><p>Body</p> <p>子文本或元素。</p></li> <li><p>Class</p> <p>类名。</p></li> <li><p>For</p> <p>绑定到某个表单元素。</p></li></ul></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Label(The first item).
</code></pre></div><h3 id="langres"><a href="#langres" class="header-anchor">#</a> LangRes </h3> <p>返回指定的语言资源。如果请求对树进行编辑，则返回 <strong>langres</strong> 元素，可以使用简短格式符号 <strong>$langres$</strong>。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>LangRes(Name)
</code></pre></div><ul><li><p>LangRes</p> <ul><li><p>Name</p> <p>语言资源的名称。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>LangRes(name)
LangRes(myres)
</code></pre></div><h3 id="linkpage"><a href="#linkpage" class="header-anchor">#</a> LinkPage </h3> <p>创建 <strong>linkpage</strong> 元素，指向页面的链接。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>LinkPage(Body, Page, Class, PageParams)
    [.Style(Style)]
</code></pre></div><ul><li><p>LinkPage</p> <ul><li><p>Body</p> <p>子文本或元素。</p></li> <li><p>Page</p> <p>重定向的页面名称。</p></li> <li><p>Class</p> <p>按钮类名。</p></li> <li><p>PageParams</p> <p>重定向的页面参数。</p></li></ul></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS styles</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>LinkPage(Class: #style_link# h5 text-bold, Page: @1roles_view, PageParams: &quot;v_role_id=#recipient.role_id#&quot;)
</code></pre></div><h3 id="map"><a href="#map" class="header-anchor">#</a> Map </h3> <p>创建可视化地图，并以任意格式显示坐标。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Map(Hmap, MapType, Value)
</code></pre></div><ul><li><p>Map</p> <ul><li><p>Hmap</p> <p>页面上的HTML元素高度。</p> <p>默认值为100。</p></li> <li><p>Value</p> <p>地图值，字符串格式的对象。</p> <p>例如， <code>{&quot;coords&quot;:[{&quot;lat&quot;:number,&quot;lng&quot;:number},]}</code> 或者<code>{&quot;zoom&quot;:int, &quot;center&quot;:{&quot;lat&quot;:number,&quot;lng&quot;:number}}</code>。如果没有指定<code>center</code> ，则地图窗口将根据指定的坐标自动调整。</p></li> <li><p>MapType</p> <p>地图类型。</p> <p>该参数有以下值: <code>hybrid</code>, <code>roadmap</code>, <code>satellite</code>, <code>terrain</code>。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Map(MapType:hybrid, Hmap:400, Value:{&quot;coords&quot;:[{&quot;lat&quot;:55.58774531752405,&quot;lng&quot;:36.97260184619233},{&quot;lat&quot;:55.58396161622043,&quot;lng&quot;:36.973803475831005},{&quot;lat&quot;:55.585222890513975,&quot;lng&quot;:36.979811624024364},{&quot;lat&quot;:55.58803635636347,&quot;lng&quot;:36.978781655762646}],&quot;area&quot;:146846.65783403456,&quot;address&quot;:&quot;Unnamed Road, Moscow, Russia, 143041&quot;})
</code></pre></div><h3 id="menugroup"><a href="#menugroup" class="header-anchor">#</a> MenuGroup </h3> <p>在菜单中创建一个嵌套的子菜单，并返回 <strong>menugroup</strong>元素，在使用语言资源替换之前，<strong>name</strong> 参数返回 <strong>Title</strong> 的值。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>MenuGroup(Title, Body, Icon)
</code></pre></div><ul><li><p>MenuGroup</p> <ul><li><p>Title</p> <p>菜单项名称。</p></li> <li><p>Body</p> <p>子菜单中的子元素。</p></li> <li><p>Icon</p> <p>图标。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>MenuGroup(My Menu){
    MenuItem(Interface, sys-interface)
    MenuItem(Dahsboard, dashboard_default)
}
</code></pre></div><h3 id="menuitem"><a href="#menuitem" class="header-anchor">#</a> MenuItem </h3> <p>创建一个菜单项并返回 <strong>menuitem</strong> 元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>MenuItem(Title, Page, Params, Icon)
</code></pre></div><ul><li><p>MenuItem</p> <ul><li><p>Title</p> <p>菜单项名称。</p></li> <li><p>Page</p> <p>重定向的页面名称。</p></li> <li><p>Params</p> <p>重定向的页面参数。</p></li> <li><p>Icon</p> <p>图标。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>MenuItem(Title:$@1roles$, Page:@1roles_list, Icon:&quot;icon-pie-chart&quot;)
</code></pre></div><h3 id="money"><a href="#money" class="header-anchor">#</a> Money </h3> <p>返回 <em>exp / 10 ^ digit</em> 的字符串值。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Money(Exp, Digit)
</code></pre></div><ul><li><p>Money</p> <ul><li><p>Exp</p> <p>数字的字符串格式。</p></li> <li><p>Digit</p> <p><code>exp/10^digit</code>表达式中10的指数，该值可以是正数或负数。正值决定了小数点后的位数。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Money(Exp, Digit)
</code></pre></div><h3 id="or"><a href="#or" class="header-anchor">#</a> Or </h3> <p>该函数返回执行 <strong>if</strong> 逻辑运算的结果，括号中列出的所有参数以逗号分隔。如果有一个参数不为空字符串、零或 <code>false</code>，参数值为 <code>true</code>，其他情况参数值为 <code>false</code>。如果参数值为<code>true</code>，则该函数返回 <code>1</code>，其他情况返回 <code>0</code>。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Or(parameters)
</code></pre></div><p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>If(Or(#myval1#,#myval2#), Span(OK))
</code></pre></div><h3 id="p"><a href="#p" class="header-anchor">#</a> P </h3> <p>创建 <strong>p</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>P(Body, Class) 
    [.Style(Style)]
</code></pre></div><ul><li><p>P</p> <ul><li><p>Body</p> <p>子文本或元素。</p></li> <li><p>Class</p> <p>类名。</p></li></ul></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>P(This is the first line.
  This is the second line.)
</code></pre></div><h3 id="qrcode"><a href="#qrcode" class="header-anchor">#</a> QRcode </h3> <p>返回带有指定文本的二维码，并创建 <strong>qrcode</strong> 元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>QRcode(Text)
</code></pre></div><ul><li><p>QRcode</p> <ul><li><p>Text</p> <p>二维码文字。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>QRcode(#name#)
</code></pre></div><h3 id="radiogroup"><a href="#radiogroup" class="header-anchor">#</a> RadioGroup </h3> <p>创建 <strong>radiogroup</strong> 元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>RadioGroup(Name, Source, NameColumn, ValueColumn, Value, Class) 
    [.Validate(validation parameters)] 
    [.Style(Style)]
</code></pre></div><ul><li><p>RadioGroup</p> <ul><li><p>Name</p> <p>元素名称。</p></li> <li><p>Source</p> <p>从 <a href="#DBFind">DBFind</a> 或 <a href="#Data">Data</a> 函数获取的数据源。</p></li> <li><p>NameColumn</p> <p>数据源的字段名称。</p></li> <li><p>ValueColumn</p> <p>数据源的值名称。</p> <p>使用 <a href="#data">Custom</a> 创建的字段不得在该参数中使用。</p></li> <li><p>Value</p> <p>默认值。</p></li> <li><p>Class</p> <p>类名。</p></li></ul></li> <li><p>Validate</p> <p>验证参数。</p></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>RadioGroup(Name: type_decision, Source: numbers_type_decisions, NameColumn: name, ValueColumn: value)
</code></pre></div><h3 id="range"><a href="#range" class="header-anchor">#</a> Range </h3> <p>创建 <strong>range</strong> 元素，使用步长 <em>Step</em> 从 <em>From</em> 到 <em>To</em> （不包括 <em>To</em>）填充整数元素。生成的数据将放入 <em>Source</em>中，稍后可以在源输入的函数中使用(例如 <a href="#Table">Table</a>)。如果指定无效参数，则返回空的 <em>Source</em>。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Range(Source,From,To,Step)
</code></pre></div><ul><li><p>Range</p> <ul><li><p>Source</p> <p>数据源名称。</p></li> <li><p>From</p> <p>起始值(i = From)。</p></li> <li><p>To</p> <p>结束值(i &lt; To)。</p></li> <li><p>Step</p> <p>数值变化步长，如果未指定该参数，默认为1。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Range(my,0,5)
SetVar(from, 5).(to, -4).(step,-2)
Range(Source: neg, From: #from#, To: #to#, Step: #step#)
</code></pre></div><h3 id="select"><a href="#select" class="header-anchor">#</a> Select </h3> <p>创建 <strong>select</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Select(Name, Source, NameColumn, ValueColumn, Value, Class) 
    [.Validate(validation parameters)]
    [.Style(Style)]
</code></pre></div><ul><li><p>Select</p> <ul><li><p>Name</p> <p>元素的名称。</p></li> <li><p>Source</p> <p>从 <a href="#dbfind">DBFind</a> 或<a href="#data">Data</a> 函数获取的数据源。</p></li> <li><p>NameColumn</p> <p>数据源的字段名称。</p></li> <li><p>ValueColumn</p> <p>数据源的值名称。</p> <p>使用 <a href="#Custom">Custom</a> 创建的字段不得在该参数中使用。</p></li> <li><p>Value</p> <p>默认值。</p></li> <li><p>Class</p> <p>类名。</p></li></ul></li> <li><p>Validate</p> <p>验证参数。</p> <ul><li><p>Style</p> <p>指定CSS样式。</p></li> <li><p>Style</p> <p>CSS样式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>DBFind(mytable, mysrc)
Select(mysrc, name) 
</code></pre></div><h3 id="settitle"><a href="#settitle" class="header-anchor">#</a> SetTitle </h3> <p>设置页面标题，创建 <strong>settitle</strong> 元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>SetTitle(Title)
</code></pre></div><ul><li><p>SetTitle</p> <ul><li><p>Title</p> <p>页面标题。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>SetTitle(My page)
</code></pre></div><h3 id="setvar"><a href="#setvar" class="header-anchor">#</a> SetVar </h3> <p>分配值 <em>Value</em> 给指定变量 <em>Name</em>。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>SetVar(Name, Value)
</code></pre></div><ul><li><p>SetVar</p> <ul><li><p>Name</p> <p>变量名称。</p></li> <li><p>Value</p> <p>变量值，可以包含对另一个变量的引用。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>SetVar(name, John Smith).(out, I am #name#)
Span(#out#)      
</code></pre></div><h3 id="span"><a href="#span" class="header-anchor">#</a> Span </h3> <p>创建 <strong>span</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Span(Body, Class)
    [.Style(Style)]
</code></pre></div><ul><li><p>Span</p> <ul><li><p>Body</p> <p>子文本或元素。</p></li> <li><p>Class</p> <p>类名。</p></li></ul></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>This is Span(the first item, myclass1).
</code></pre></div><h3 id="strong"><a href="#strong" class="header-anchor">#</a> Strong </h3> <p>创建 <strong>strong</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Strong(Body, Class)
</code></pre></div><ul><li><p>Strong</p> <ul><li><p>Body</p> <p>子文本或元素。</p></li> <li><p>Class</p> <p>类名。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>This is Strong(the first item, myclass1).
</code></pre></div><h3 id="sysparam"><a href="#sysparam" class="header-anchor">#</a> SysParam </h3> <p>获取平台参数表 <em>platform ecosystem</em> 中指定参数的值。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>SysParam(Name) 
</code></pre></div><ul><li><p>SysParam</p> <ul><li><p>Name</p> <p>平台参数名称。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>SysParam(max_columns)
</code></pre></div><h3 id="table"><a href="#table" class="header-anchor">#</a> Table </h3> <p>创建 <strong>table</strong> HTML元素。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>Table(Source, Columns)
    [.Style(Style)]
</code></pre></div><ul><li><p>Table</p> <ul><li><p>Source</p> <p>指定的数据源名称。</p></li> <li><p>Columns</p> <p>标题和相应的列名，例如： <code>Title1=column1,Title2=column2</code>。</p></li></ul></li> <li><p>Style</p> <p>指定CSS样式。</p> <ul><li><p>Style</p> <p>CSS样式。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>DBFind(mytable, mysrc)
Table(mysrc,&quot;ID=id,Name=name&quot;)
</code></pre></div><h3 id="transactioninfo"><a href="#transactioninfo" class="header-anchor">#</a> TransactionInfo </h3> <p>该函数按指定哈希值查询交易并返回有关已执行的合约及其参数的信息。</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>TransactionInfo(Hash)
</code></pre></div><ul><li><p>TransactionInfo</p> <ul><li><p>Hash</p> <p>十六进制字符串格式的交易哈希。</p></li></ul></li></ul> <p><strong>返回值</strong></p> <p>该函数返回json格式的字符串：</p> <p><code>{&quot;contract&quot;:&quot;ContractName&quot;, &quot;params&quot;:{&quot;key&quot;: &quot;val&quot;}, &quot;block&quot;: &quot;N&quot;}</code></p> <p>其中：</p> <ul><li><em>contract</em> - 合约名称；</li> <li><em>params</em> - 传递给合约参数的数据；</li> <li><em>block</em> - 处理该交易的区块ID。</li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>P(TransactionInfo(#hash#))
</code></pre></div><h3 id="varasis"><a href="#varasis" class="header-anchor">#</a> VarAsIs </h3> <p>分配值 <em>Value</em> 给指定变量 <em>Name</em>。指定的变量值为指定的变量名而不是它们的值。</p> <p>对于具有变量替换的版本，请参阅 <a href="#setvar">SetVar</a>.</p> <p><strong>语法</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>VarAsIs(Name, Value)
</code></pre></div><ul><li><p>VarAsIs</p> <ul><li><p>Name</p> <p>变量名称。</p></li> <li><p>Value</p> <p>变量值，值中的变量名称不会被替换。 例如，如果 <em>Value</em> 是<code>example #varname#</code>，那么变量的值也是 <code>example #varname#</code>。</p></li></ul></li></ul> <p><strong>示例</strong></p> <div class="language-text extra-class"><pre class="language-text"><code>SetVar(Name,&quot;John&quot;)
VarAsIs(name, I am #Name#)
Span(#name#) // I am #Name#
</code></pre></div><h2 id="app-styles-for-mobile-devices"><a href="#app-styles-for-mobile-devices" class="header-anchor">#</a> 适配移动设备的应用程序样式 </h2> <h3 id="layout"><a href="#layout" class="header-anchor">#</a> 排版 </h3> <h4 id="title"><a href="#title" class="header-anchor">#</a> 标题 </h4> <ul><li><code>h1</code> ... <code>h6</code></li></ul> <h4 id="strong-class-names"><a href="#strong-class-names" class="header-anchor">#</a> 强调类类名 </h4> <ul><li><code>.text-muted</code></li> <li><code>.text-primary</code></li> <li><code>.text-success</code></li> <li><code>.text-info</code></li> <li><code>.text-warning</code></li> <li><code>.text-danger</code></li></ul> <h4 id="color"><a href="#color" class="header-anchor">#</a> 颜色 </h4> <ul><li><code>.bg-danger-dark</code></li> <li><code>.bg-danger</code></li> <li><code>.bg-danger-light</code></li> <li><code>.bg-info-dark</code></li> <li><code>.bg-info</code></li> <li><code>.bg-info-light</code></li> <li><code>.bg-primary-dark</code></li> <li><code>.bg-primary</code></li> <li><code>.bg-primary-light</code></li> <li><code>.bg-success-dark</code></li> <li><code>.bg-success</code></li> <li><code>.bg-success-light</code></li> <li><code>.bg-warning-dark</code></li> <li><code>.bg-warning</code></li> <li><code>.bg-warning-light</code></li> <li><code>.bg-gray-darker</code></li> <li><code>.bg-gray-dark</code></li> <li><code>.bg-gray</code></li> <li><code>.bg-gray-light</code></li> <li><code>.bg-gray-lighter</code></li></ul> <h4 id="grid"><a href="#grid" class="header-anchor">#</a> 网格 </h4> <ul><li><code>.row</code></li> <li><code>.row.row-table</code></li> <li><code>.col-xs-1</code> ... <code>.col-xs-12</code> 仅限于使用在 <code>.row.row-table</code> 中。</li></ul> <h4 id="panel"><a href="#panel" class="header-anchor">#</a> 面板 </h4> <ul><li><code>.panel</code></li> <li><code>.panel.panel-heading</code></li> <li><code>.panel.panel-body</code></li> <li><code>.panel.panel-footer</code></li></ul> <h4 id="form-app"><a href="#form-app" class="header-anchor">#</a> 表单 </h4> <ul><li><code>.form-control</code></li></ul> <h4 id="button-app"><a href="#button-app" class="header-anchor">#</a> 按钮 </h4> <ul><li><code>.btn.btn-default</code></li> <li><code>.btn.btn-link</code></li> <li><code>.btn.btn-primary</code></li> <li><code>.btn.btn-success</code></li> <li><code>.btn.btn-info</code></li> <li><code>.btn.btn-warning</code></li> <li><code>.btn.btn-danger</code></li></ul> <h4 id="icon"><a href="#icon" class="header-anchor">#</a> 图标 </h4> <ul><li>所有fa类图标来自FontAwesome: <code>fa fa-&lt;icon-name&gt;&lt;/icon-name&gt;</code>。</li> <li>所有icon类图标来自SimpleLineIcons: <code>icon-&lt;icon-name&gt;</code>。</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/IBAX-io/documentation/edit/master/docs/zh-CN/topics/templates2.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/6/25 15:46:02</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh-CN/topics/script.html" class="prev">
        智能合约 {#smart-contracts}
      </a></span> <span class="next"><a href="/zh-CN/topics/vm.html">
        编译器和虚拟机 
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8ffd1d30.js" defer></script><script src="/assets/js/2.8d94a0db.js" defer></script><script src="/assets/js/165.b3a7bbd4.js" defer></script>
  </body>
</html>
