(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{447:function(t,e,a){"use strict";a.r(e);var s=a(51),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"deployment-of-a-ibax-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deployment-of-a-ibax-network"}},[t._v("#")]),t._v(" Deployment of A IBAX Network")]),t._v(" "),a("p",[t._v("In this section, we will show you how to deploy your own blockchain network.")]),t._v(" "),a("h2",{attrs:{id:"an-deployment-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#an-deployment-example"}},[t._v("#")]),t._v(" An deployment example")]),t._v(" "),a("p",[t._v("A blockchain network will be deployed with the following three nodes as an example.")]),t._v(" "),a("p",[t._v("Three network nodes:")]),t._v(" "),a("ul",[a("li",[t._v("Node 1 is the first node in the blockchain network, which can generate new blocks and send transactions from clients connected to it;")]),t._v(" "),a("li",[t._v("Node 2 is another honor node, which can generate new blocks and send transactions from clients connected to it;")]),t._v(" "),a("li",[t._v("Node 3 is a guardian node, which cannot generate new blocks, but can send transactions from clients connected to it.")])]),t._v(" "),a("p",[t._v("Configurations of the three nodes to be deployed:")]),t._v(" "),a("ul",[a("li",[t._v("Each node uses its own PostgreSQL database system instance;")]),t._v(" "),a("li",[t._v("Each node uses its own Centrifugo service instance;")]),t._v(" "),a("li",[t._v("The server side github-backend is deployed on the same host as other backend components.")])]),t._v(" "),a("p",[t._v("The sample addresses and ports used by the nodes are described in the following table:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Node")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Component")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("IP & port")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("PostgreSQL")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("127.0.0.1:5432")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Centrifugo")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.1:8000")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("go-ibax (TCP service)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.1:7078")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("go-ibax (API service)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.1:7079")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("PostgreSQL")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("127.0.0.1:5432")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Centrifugo")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.2:8000")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("go-ibax (TCP service)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.2:7078")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("go-ibax (API service)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.2:7079")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("PostgreSQL")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("127.0.0.1:5432")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Centrifugo")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.3:8000")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("go-ibax (TCP service)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.3:7078")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("go-ibax (API service)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("192.168.1.3:7079")])])])]),t._v(" "),a("h2",{attrs:{id:"deploy-phase"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-phase"}},[t._v("#")]),t._v(" Deploy phase")]),t._v(" "),a("p",[t._v("Your own blockchain network must be deployed in several stages:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#deployment-of-a-ibax-network"}},[t._v("Deployment of A IBAX Network")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#an-deployment-example"}},[t._v("An deployment example")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#deploy-phase"}},[t._v("Deploy phase")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#server-deployment"}},[t._v("Server deployment")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#deploy-the-first-node"}},[t._v("Deploy the first node")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#dependencies-and-environment-settings"}},[t._v("Dependencies and environment settings")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#sudo"}},[t._v("sudo")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#golang"}},[t._v("Golang")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#postgresql"}},[t._v("PostgreSQL")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#centrifugo"}},[t._v("Centrifugo")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#directory-structure"}},[t._v("Directory structure")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#create-a-database"}},[t._v("Create a database")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#configure-centrifugo"}},[t._v("Configure Centrifugo")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#install-go-ibax"}},[t._v("Install go-ibax")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#configure-the-first-node"}},[t._v("Configure the first node")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#initiate-the-first-node-server"}},[t._v("Initiate the first node server")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#deploy-other-nodes"}},[t._v("Deploy other nodes")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#node-2"}},[t._v("Node 2")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#node-3"}},[t._v("Node 3")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#front-end-deployment"}},[t._v("Front-end deployment")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#software-prerequisites"}},[t._v("Software prerequisites")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#build-a-weaver-application"}},[t._v("Build a Weaver application")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#add-the-configuration-file-for-the-blockchain-network"}},[t._v("Add the configuration file for the blockchain network")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#build-weaver-web-application"}},[t._v("Build Weaver Web Application")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#configure-the-blockchain-network"}},[t._v("Configure the blockchain network")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#create-the-creator-account"}},[t._v("Create the creator account")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#import-applications-roles-and-templates"}},[t._v("Import applications, roles and templates")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#add-the-first-node-to-the-node-list"}},[t._v("Add the first node to the node list")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#add-other-honor-nodes"}},[t._v("Add other honor nodes")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#add-members-into-the-consensus-role-group"}},[t._v("Add members into the consensus role group")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#create-the-owner-account-for-other-nodes"}},[t._v("Create the owner account for other nodes")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#assign-the-node-owner-with-the-validators-role"}},[t._v("Assign the node owner with the Validators role")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"server-deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server-deployment"}},[t._v("#")]),t._v(" Server deployment")]),t._v(" "),a("h3",{attrs:{id:"deploy-the-first-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-the-first-node"}},[t._v("#")]),t._v(" Deploy the first node")]),t._v(" "),a("p",[t._v("The first node is a special one because it is essential to launch the blockchain network. The first block of the blockchain is generated by the first node, and all other nodes would download the blockchain from it. The owner of the first node is the platform creator.")]),t._v(" "),a("h3",{attrs:{id:"dependencies-and-environment-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dependencies-and-environment-settings"}},[t._v("#")]),t._v(" Dependencies and environment settings")]),t._v(" "),a("h4",{attrs:{id:"sudo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sudo"}},[t._v("#")]),t._v(" sudo")]),t._v(" "),a("p",[t._v("All commands of Debian 9 must be run as a non-root user. However, some system commands require super user permissions to execute. By default, sudo is not installed on Debian 9, you must install it first.")]),t._v(" "),a("ol",[a("li",[t._v("Become a super user.")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v(" -\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Upgrade your system.")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" update -y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" upgrade -y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" dist-upgrade -y\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Install sudo。")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" -y\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("Add your user to the sudo group.")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -a -G "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" user\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("After restarting, the changes take effect.")])]),t._v(" "),a("h3",{attrs:{id:"golang"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#golang"}},[t._v("#")]),t._v(" Golang")]),t._v(" "),a("p",[t._v("Install Go according to the "),a("a",{attrs:{href:"https://golang.org/doc/install#tarball",target:"_blank",rel:"noopener noreferrer"}},[t._v("Official Documents"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("ol",[a("li",[t._v("Download the latest stable version of Go (> 1.10.x) from "),a("a",{attrs:{href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Golang official website"),a("OutboundLink")],1),t._v(" or through the command line:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://dl.google.com/go/go1.11.2.linux-amd64.tar.gz\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Use tar to extract the tarball to the "),a("code",[t._v("/usr/local")]),t._v(" directory.")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -C /usr/local -xzf go1.11.2.linux-amd64.tar.gz\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Add "),a("code",[t._v("/usr/local/go/bin")]),t._v(" to PATH environment variables (located at "),a("code",[t._v("/etc/profile")]),t._v(" or "),a("code",[t._v("$HOME/.profile")]),t._v(").")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v(":/usr/local/go/bin\n")])])]),a("ol",[a("li",[t._v("Execute the "),a("code",[t._v("source")]),t._v(" file to make the changes take effect, for example:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/.profile\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Delete temporary files:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" go1.11.2.linux-amd64.tar.gz\n")])])]),a("h3",{attrs:{id:"postgresql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postgresql"}},[t._v("#")]),t._v(" PostgreSQL")]),t._v(" "),a("ol",[a("li",[t._v("Install PostgreSQL (> v.10) and psql:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y postgresql\n")])])]),a("h3",{attrs:{id:"centrifugo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centrifugo"}},[t._v("#")]),t._v(" Centrifugo")]),t._v(" "),a("ol",[a("li",[t._v("Download Centrifugo V.1.8.0 from "),a("a",{attrs:{href:"https://github.com/centrifugal/centrifugo/releases/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),a("OutboundLink")],1),t._v(" or through the command line:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://github.com/centrifugal/centrifugo/releases/download/v1.8.0/centrifugo-1.8.0-linux-amd64.zip "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unzip")]),t._v(" centrifugo-1.8.0-linux-amd64.zip "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" centrifugo "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" centrifugo-1.8.0-linux-amd64/* centrifugo/\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Delete temporary files:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -R centrifugo-1.8.0-linux-amd64 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" centrifugo-1.8.0-linux-amd64.zip\n")])])]),a("h3",{attrs:{id:"directory-structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#directory-structure"}},[t._v("#")]),t._v(" Directory structure")]),t._v(" "),a("p",[t._v("For the Debian 9 system, it is recommended to store all software used by the blockchain platform in a separate directory.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("/opt/backenddir")]),t._v(" directory is used here, but you can use any directory. In this case, please change all commands and configuration files accordingly.")]),t._v(" "),a("ol",[a("li",[t._v("Create a directory for the blockchain platform:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /opt/backenddir\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Make your user the owner of the directory:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chown")]),t._v(" user /opt/backenddir/\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Create subdirectories for Centrifugo, go-ibax and node data. All node data is stored in a directory named "),a("code",[t._v("nodeX")]),t._v(", where "),a("code",[t._v("X")]),t._v(" is the node number. According to the node to be deployed, "),a("code",[t._v("node1")]),t._v(" is Node 1, "),a("code",[t._v("node2")]),t._v(" is Node 2, and so forth.")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /opt/backenddir/go-ibax "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /opt/backenddir/go-ibax/node1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /opt/backenddir/centrifugo "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n")])])]),a("h3",{attrs:{id:"create-a-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-database"}},[t._v("#")]),t._v(" Create a database")]),t._v(" "),a("ol",[a("li",[t._v("Change the user password postgres to the default password "),a("em",[t._v("123456")]),t._v(". You can set your own password, but you must change it in the node configuration file "),a("em",[t._v("config.toml")]),t._v(".")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" -u postgres psql -c "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"ALTER USER postgres WITH PASSWORD '123456'\"")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Create a current state database for the node, for example "),a("strong",[t._v("chaindb")]),t._v(":")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" -u postgres psql -c "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CREATE DATABASE chaindb"')]),t._v("\n")])])]),a("h3",{attrs:{id:"configure-centrifugo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-centrifugo"}},[t._v("#")]),t._v(" Configure Centrifugo")]),t._v(" "),a("ol",[a("li",[t._v("Create the Centrifugo configuration file:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"secret":"CENT_SECRET"}\'')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /opt/backenddir/centrifugo/config.json\n")])])]),a("p",[t._v("You can set your own "),a("em",[t._v("secret")]),t._v(", but you must also change it in the node configuration file "),a("em",[t._v("config.toml")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"install-go-ibax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-go-ibax"}},[t._v("#")]),t._v(" Install go-ibax")]),t._v(" "),a("ol",[a("li",[t._v("Download github-backend from GitHub:")]),t._v(" "),a("li",[t._v("Copy the go-ibax binary file to the "),a("code",[t._v("/opt/backenddir/go-ibax")]),t._v(" directory. If you are using default Go workspace, the binary files are located in the "),a("code",[t._v("$HOME/go/bin")]),t._v(" directory:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/go/bin/go-ibax /opt/backenddir/go-ibax\n")])])]),a("h3",{attrs:{id:"configure-the-first-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-first-node"}},[t._v("#")]),t._v(" Configure the first node")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Create the configuration file for Node 1:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/opt/backenddir/go-ibax config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --dataDir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --dbName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chaindb "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --centSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CENT_SECRET"')]),t._v(" --centUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("http://192.168.1.1:8000 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --httpHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --httpPort"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7079")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --tcpHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --tcpPort"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7078")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("Generate the keys of Node 1, including the public and private keys of the node and the account:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/opt/backenddir/go-ibax generateKeys "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node1/config.toml\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("Generate the first block:")])]),t._v(" "),a("blockquote",[a("p",[t._v("Note")]),t._v(" "),a("p",[t._v("If you want to create your own blockchain network, you must use the "),a("code",[t._v("--test=true")]),t._v(" option. Otherwise, you cannot create a new account.")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/opt/backenddir/go-ibax generateFirstBlock "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node1/config.toml "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("Initialize the database:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/opt/backenddir/go-ibax initDatabase "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node1/config.toml\n")])])]),a("h3",{attrs:{id:"initiate-the-first-node-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#initiate-the-first-node-server"}},[t._v("#")]),t._v(" Initiate the first node server")]),t._v(" "),a("p",[t._v("To start the first node server, you must start the following two services:")]),t._v(" "),a("ul",[a("li",[t._v("centrifugo")]),t._v(" "),a("li",[t._v("go-ibax")])]),t._v(" "),a("p",[t._v("If you failed to create "),a("a",{attrs:{href:"#https://wiki.debian.org/systemd/Services"}},[t._v("services")]),t._v(" with these files, you may execute binary files from directories in different consoles.")]),t._v(" "),a("ol",[a("li",[t._v("Run centrifugo:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/opt/backenddir/centrifugo/centrifugo "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n -a "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.1 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --config /opt/backenddir/centrifugo/config.json\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Run go-ibax:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/opt/backenddir/go-ibax start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node1/config.toml\n")])])]),a("h2",{attrs:{id:"deploy-other-nodes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-other-nodes"}},[t._v("#")]),t._v(" Deploy other nodes")]),t._v(" "),a("p",[t._v("Although the deployment of all other nodes (Node 2 and Node 3) is similar to the first, but there are three differences:")]),t._v(" "),a("ul",[a("li",[t._v("You do not need to generate the first block. But it must be copied from Node 1 to the current node data directory;")]),t._v(" "),a("li",[t._v("The node must download blocks from Node 1 by configuring the "),a("code",[t._v("--nodesAddr")]),t._v(" option;")]),t._v(" "),a("li",[t._v("The node must use its own addresses and ports.")])]),t._v(" "),a("h3",{attrs:{id:"node-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-2"}},[t._v("#")]),t._v(" Node 2")]),t._v(" "),a("p",[t._v("Follow operational instructions as shown below:")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#dependencies-and-environment-settings"}},[t._v("Dependencies and environment settings")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#create-a-database"}},[t._v("Create database")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#centrifugo"}},[t._v("Centrifugo")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#install-go-ibax"}},[t._v("Install go-ibax")])]),t._v(" "),a("li",[t._v("Create the configuration file for Node 2:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" /opt/backenddir/go-ibax config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--dataDir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--dbName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chaindb "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--centSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CENT_SECRET"')]),t._v(" --centUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("http://192.168.1.2:8000 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--httpHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--httpPort"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7079")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--tcpHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--tcpPort"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7078")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--nodesAddr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.1\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("Copy the first block file to Node 2. For example, you can perform this operation on Node 2 throughscp:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node2/\n")])])]),a("ol",{attrs:{start:"7"}},[a("li",[t._v("Generate the keys of Node 2, including the public and private keys of the node and the account:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" /opt/backenddir/go-ibax generateKeys "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node2/config.toml\n")])])]),a("ol",{attrs:{start:"8"}},[a("li",[t._v("Initiate the database:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" ./go-ibax initDatabase --config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("node2/config.toml\n")])])]),a("ol",{attrs:{start:"9"}},[a("li",[t._v("Run centrifugo:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/opt/backenddir/centrifugo/centrifugo "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-a "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.2 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--config/opt/backenddir/centrifugo/config.json\n")])])]),a("ol",{attrs:{start:"10"}},[a("li",[t._v("Run go-ibax:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/opt/backenddir/go-ibax start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node2/config.toml\n")])])]),a("p",[t._v("As a result, the node downloads the block from the first node. As this node is not a verification node, it cannot generate a new block. Node 2 will be added to the list of verification nodes later.")]),t._v(" "),a("h3",{attrs:{id:"node-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-3"}},[t._v("#")]),t._v(" Node 3")]),t._v(" "),a("p",[t._v("Follow operational instructions as shown below:")]),t._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"#dependencies-and-environment-settings"}},[t._v("Dependencies and environment settings")])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#create-a-database"}},[t._v("Create database")])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#centrifugo"}},[t._v("Centrifugo")])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#install-go-ibax"}},[t._v("Install go-ibax")])])]),t._v(" "),a("li",[a("p",[t._v("Create the configuration file for Node 3:")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" /opt/backenddir/go-ibax config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--dataDir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--dbName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chaindb "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--centSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CENT_SECRET"')]),t._v(" --centUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("http://192.168.1.3:8000 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--httpHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--httpPort"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7079")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--tcpHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--tcpPort"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7078")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--nodesAddr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.1\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("Copy the first block file to Node 3. For example, you can perform this operation on Node 3 through scp:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node3/\n")])])]),a("p",[t._v("7.Generate the key of Node 3, including the public and private keys of the node and the account:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" /opt/backenddir/go-ibax generateKeys "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node3/config.toml\n")])])]),a("p",[t._v("8.Initiate the database:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" ./go-ibax initDatabase --config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("node3/config.toml\n")])])]),a("p",[t._v("9.Run centrifugo:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" /opt/backenddir/centrifugo/centrifugo "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-a "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".1.3 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--config/opt/backenddir/centrifugo/config.json\n")])])]),a("p",[t._v("10.Run go-ibax:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" /opt/backenddir/go-ibax start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/backenddir/node3/config.toml\n")])])]),a("p",[t._v("As a result, the node downloads the block from the first node. As this node is not a verification node, it cannot generate a new block. The client may be connected to the node, and it may send transactions to the network.")]),t._v(" "),a("h2",{attrs:{id:"front-end-deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#front-end-deployment"}},[t._v("#")]),t._v(" Front-end deployment")]),t._v(" "),a("p",[t._v("Only after installing "),a("strong",[t._v("GNOME GUI")]),t._v(" on Debian 9 (Stretch) 64-bit Official Release, the Govis client can be built with the "),a("code",[t._v("yarn")]),t._v(" package manager.")]),t._v(" "),a("h3",{attrs:{id:"software-prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#software-prerequisites"}},[t._v("#")]),t._v(" Software prerequisites")]),t._v(" "),a("ol",[a("li",[t._v("Download Node.js LTS version 8.11 from Node.js official website or through the command line:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -sL https://deb.nodesource.com/setup_8.x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" -E "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Install Node.js:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y nodejs\n")])])]),a("ol",[a("li",[t._v("Download Yarn version 1.7.0 from yarn's "),a("a",{attrs:{href:"https://github.com/yarnpkg/yarn/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),a("OutboundLink")],1),t._v(" repository or through the command line:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("cd/opt/backenddir "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://github.com/yarnpkg/yarn/releases/download/v1.7.0/yarn_1.7.0_all.deb\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Install Yarn:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" dpkg -i yarn_1.7.0_all.deb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" yarn_1.7.0_all.deb\n")])])]),a("h3",{attrs:{id:"build-a-weaver-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-a-weaver-application"}},[t._v("#")]),t._v(" Build a Weaver application")]),t._v(" "),a("ol",[a("li",[t._v("Download the latest version of Weaver from github-frontend via git:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("cd/opt/backenddir "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ibax-io/ibax-front.git\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Install Weaver dependencies via Yarn:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("cd/opt/backenddir/ibax-front/ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),a("h3",{attrs:{id:"add-the-configuration-file-for-the-blockchain-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-the-configuration-file-for-the-blockchain-network"}},[t._v("#")]),t._v(" Add the configuration file for the blockchain network")]),t._v(" "),a("ol",[a("li",[t._v("Create a "),a("em",[t._v("settings.json")]),t._v(" file that contains information about node connection:")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("cp/opt/backenddir/ibax-front/public/settings.json.dist "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n /opt/backenddir/ibax-front/public/public/settings.json\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Edit the "),a("em",[t._v("settings.json")]),t._v(" file in any text editor and add the required settings in this format:")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("http://Node_IP-address:Node_HTTP-Port\n")])])]),a("p",[t._v("Examples of "),a("em",[t._v("settings.json")]),t._v(" files for the three nodes:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"fullNodes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://192.168.1.1:7079"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://192.168.1.2:7079"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://192.168.1.3:7079"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Build Weaver Desktop Application")]),t._v(" "),a("p",[t._v("1.Use yarn to build the desktop version:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("cd/opt/backenddir/ibax-front "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" build-desktop\n")])])]),a("p",[t._v("2.The desktop version will be packaged into AppImage suffix format:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" release --publish never -l\n")])])]),a("p",[t._v("After building, your application can be used, but its connection configuration cannot be changed. If these settings need to be changed, a new version of the application must be built.")]),t._v(" "),a("h3",{attrs:{id:"build-weaver-web-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-weaver-web-application"}},[t._v("#")]),t._v(" Build Weaver Web Application")]),t._v(" "),a("p",[t._v("1.Build a web application:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("cd/opt/backenddir/ibax-front/ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" build\n")])])]),a("p",[t._v("After building, the redistributable files will be placed in the /build directory. You can use any web server of your choice for deployment, and the "),a("em",[t._v("settings.json")]),t._v(" file must also be placed in this directory. Note that if the connection settings are changed, there is no need to build the application again. Instead, edit the "),a("em",[t._v("settings.json")]),t._v(" file and restart the web server.")]),t._v(" "),a("p",[t._v("1.For development or testing purposes, you can build Yarn's web server:")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" serve "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" serve -s build\n")])])]),a("p",[t._v("After that, your Weaver web application will be available at the following location: "),a("code",[t._v("http://localhost:5000")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"configure-the-blockchain-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-blockchain-network"}},[t._v("#")]),t._v(" Configure the blockchain network")]),t._v(" "),a("h3",{attrs:{id:"create-the-creator-account"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-the-creator-account"}},[t._v("#")]),t._v(" Create the creator account")]),t._v(" "),a("p",[t._v("Create an account for the first node owner. This account is the creator of the new blockchain platform and has the administrator access.")]),t._v(" "),a("p",[t._v("1.Run Weaver;")]),t._v(" "),a("p",[t._v("2.Import the existing account using the following data:")]),t._v(" "),a("p",[t._v("–Load the backup of the node owner's private key located in the "),a("code",[t._v("/opt/backenddir/node1/PrivateKey")]),t._v(" file.")]),t._v(" "),a("blockquote",[a("p",[t._v("Note")]),t._v(" "),a("p",[t._v("There are two private key files in this directory. The "),a("code",[t._v("PrivateKey")]),t._v(" file is used create the node owner's account. The "),a("code",[t._v("NodePrivateKey")]),t._v(" file is the private key of the node itself and must be kept secret.")])]),t._v(" "),a("p",[t._v("3.After logging in to the account, since no role has been created at this time, please select the Without role option.")]),t._v(" "),a("h3",{attrs:{id:"import-applications-roles-and-templates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import-applications-roles-and-templates"}},[t._v("#")]),t._v(" Import applications, roles and templates")]),t._v(" "),a("p",[t._v("At this time, the blockchain platform is in a blank state. You can configure it by adding roles, templates, and application frameworks that support basic ecosystem functions.")]),t._v(" "),a("p",[t._v("1.Clone the application repository;")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("cd/opt/backenddir "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ibax-io/dapps.git\n")])])]),a("p",[t._v("2.Navigate to Developer> Import in Weaver;")]),t._v(" "),a("p",[t._v("3.Import applications as per the following order:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" A./opt/backenddir/dapps/system.json \n B./opt/backenddir/dapps/conditions.json \n C./opt/backenddir/dapps/basic.json \n D./opt/backenddir/dapps/lang_res.json\n")])])]),a("p",[t._v("4.Navigate to Admin> Role, and click Install Default Role;")]),t._v(" "),a("p",[t._v("5.Exit the system through the configuration file menu in the upper right corner;")]),t._v(" "),a("p",[t._v("6.Log in to the system as Admin;")]),t._v(" "),a("p",[t._v("7.Navigate to Home> Vote> Template List, and click Install Default Template.")]),t._v(" "),a("h3",{attrs:{id:"add-the-first-node-to-the-node-list"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-the-first-node-to-the-node-list"}},[t._v("#")]),t._v(" Add the first node to the node list")]),t._v(" "),a("p",[t._v("1.Navigate to Developer> Platform Parameters, and click the first_nodes parameter;")]),t._v(" "),a("p",[t._v("2.Specify the parameters of the first blockchain network node.")]),t._v(" "),a("ul",[a("li",[t._v("public_key - The public key of the node is located in the "),a("code",[t._v("/opt/backenddir/node1/NodePublicKey")]),t._v(" file;")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{"api_address":"http://192.168.1.1:7079","public_key":"%node_public_key%","tcp_address":"192.168.1.1:7078"}\n')])])]),a("h2",{attrs:{id:"add-other-honor-nodes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-other-honor-nodes"}},[t._v("#")]),t._v(" Add other honor nodes")]),t._v(" "),a("h3",{attrs:{id:"add-members-into-the-consensus-role-group"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-members-into-the-consensus-role-group"}},[t._v("#")]),t._v(" Add members into the consensus role group")]),t._v(" "),a("p",[t._v("By default, only members in the consensus role (Consensus) group can participate in the voting required to add other master nodes. This means that before adding a new master node, members of the ecosystem must be assigned to the role.\nIn this section, the creator's account is designated as the only member of the consensus role group. In a production environment, this role must be assigned to platform members that perform governance.")]),t._v(" "),a("p",[t._v("1.Navigate to Home> Role and click Consensus;")]),t._v(" "),a("p",[t._v("2.Click Assign to assign the creator's account to the role.")]),t._v(" "),a("h3",{attrs:{id:"create-the-owner-account-for-other-nodes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-the-owner-account-for-other-nodes"}},[t._v("#")]),t._v(" Create the owner account for other nodes")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Run Weaver;")])]),t._v(" "),a("li",[a("p",[t._v("Import the existing account using the following data:\n– Load the backup of the node owner's private key located in the "),a("code",[t._v("/opt/backenddir/node2/PrivateKey")]),t._v(" file.")])]),t._v(" "),a("li",[a("p",[t._v("After logging in to the account, since no role has been created at this time, please select the Without role option.")])]),t._v(" "),a("li",[a("p",[t._v("Navigate to Home> Personal Information, and click the title of the personal information;")])]),t._v(" "),a("li",[a("p",[t._v("Add account details (personal information title, description, etc.).")])])]),t._v(" "),a("h3",{attrs:{id:"assign-the-node-owner-with-the-validators-role"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#assign-the-node-owner-with-the-validators-role"}},[t._v("#")]),t._v(" Assign the node owner with the Validators role")]),t._v(" "),a("ol",[a("li",[t._v("Operations by the new node owner:\n"),a("ol",[a("li",[t._v("Navigate to Home> Verifier;")]),t._v(" "),a("li",[t._v("Click Create Request and fill in the application form of the verifier candidate;")]),t._v(" "),a("li",[t._v("Click send request.")])])]),t._v(" "),a("li",[t._v("Operations by the creator:\n"),a("ol",[a("li",[t._v("Log in with a consensus role (Consensus);")]),t._v(" "),a("li",[t._v("Navigate to Home> Verifier;")]),t._v(" "),a("li",[t._v('Click the "Play" icon to start voting according to the candidate\'s request;')]),t._v(" "),a("li",[t._v("Navigate to Home> Vote, and click Update voting status;")]),t._v(" "),a("li",[t._v("Click the voting name and vote for the node owner.")])])])]),t._v(" "),a("p",[t._v("As a result, the account of the owner of the new node is assigned with the Validator role, and the new node is added to the list of master nodes.")])])}),[],!1,null,null,null);e.default=n.exports}}]);