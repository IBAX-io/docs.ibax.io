(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{331:function(e,t,a){"use strict";a.r(t);var s=a(14),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"deployment-of-a-ibax-network"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deployment-of-a-ibax-network"}},[e._v("#")]),e._v(" Déploiement d'un réseau IBAX ")]),e._v(" "),t("p",[e._v("Dans cette section, nous vous montrerons comment déployer votre propre réseau blockchain.")]),e._v(" "),t("h2",{attrs:{id:"an-deployment-example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#an-deployment-example"}},[e._v("#")]),e._v(" Un exemple de déploiement ")]),e._v(" "),t("p",[e._v("Un réseau blockchain sera déployé avec les trois nœuds suivants à titre d'exemple.")]),e._v(" "),t("p",[e._v("Trois nœuds du réseau :")]),e._v(" "),t("ul",[t("li",[e._v("Le nœud 1 est le premier nœud du réseau blockchain, qui peut générer de nouveaux blocs et envoyer des transactions à partir des clients qui y sont connectés ;")]),e._v(" "),t("li",[e._v("Le nœud 2 est un autre nœud honorable, qui peut générer de nouveaux blocs et envoyer des transactions à partir des clients qui y sont connectés ;")]),e._v(" "),t("li",[e._v("Le nœud 3 est un nœud gardien, qui ne peut pas générer de nouveaux blocs, mais peut envoyer des transactions à partir des clients qui y sont connectés.")])]),e._v(" "),t("p",[e._v("Configurations des trois nœuds à déployer :")]),e._v(" "),t("ul",[t("li",[e._v("Chaque nœud utilise sa propre instance du système de base de données PostgreSQL ;")]),e._v(" "),t("li",[e._v("Chaque nœud utilise sa propre instance du service Centrifugo ;")]),e._v(" "),t("li",[e._v("Le côté serveur de github-backend est déployé sur le même hôte que les autres composants backend.")])]),e._v(" "),t("p",[e._v("Les adresses et ports d'échantillon utilisés par les nœuds sont décrits dans le tableau suivant :")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center"}},[e._v("Nœud")]),e._v(" "),t("th",{staticStyle:{"text-align":"center"}},[e._v("Composant")]),e._v(" "),t("th",{staticStyle:{"text-align":"center"}},[e._v("IP et port")])])]),e._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("1")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("PostgreSQL")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("127.0.0.1:5432")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("1")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("Centrifugo")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.1:8000")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("1")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("go-ibax (TCP service)")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.1:7078")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("1")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("go-ibax (API service)")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.1:7079")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("2")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("PostgreSQL")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("127.0.0.1:5432")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("2")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("Centrifugo")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.2:8000")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("2")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("go-ibax (TCP service)")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.2:7078")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("2")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("go-ibax (API service)")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.2:7079")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("3")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("PostgreSQL")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("127.0.0.1:5432")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("3")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("Centrifugo")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.3:8000")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("3")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("go-ibax (TCP service)")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.3:7078")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[e._v("3")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("go-ibax (API service)")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"}},[e._v("192.168.1.3:7079")])])])]),e._v(" "),t("h2",{attrs:{id:"deploy-phase"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-phase"}},[e._v("#")]),e._v(" Phase de déploiement ")]),e._v(" "),t("p",[e._v("Votre propre réseau blockchain doit être déployé en plusieurs étapes:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#deployment-of-a-ibax-network"}},[e._v("Déploiement d'un réseau IBAX")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#an-deployment-example"}},[e._v("Exemple de déploiement")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#deploy-phase"}},[e._v("Phase de déploiement")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#server-deployment"}},[e._v("Déploiement du serveur")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#deploy-the-first-node"}},[e._v("Déploiement du premier nœud")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#dependencies-and-environment-settings"}},[e._v("Dépendances et paramètres d'environnement")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#sudo"}},[e._v("sudo")])])])]),e._v(" "),t("li",[t("a",{attrs:{href:"#golang"}},[e._v("Golang")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#postgresql"}},[e._v("PostgreSQL")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#centrifugo"}},[e._v("Centrifugo")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#directory-structure"}},[e._v("Structure des répertoires")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#create-a-database"}},[e._v("Créer une base de données")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#configure-centrifugo"}},[e._v("Configurer Centrifugo")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#install-go-ibax"}},[e._v("Installer go-ibax")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#configure-the-first-node"}},[e._v("Configurer le premier nœud")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#initiate-the-first-node-server"}},[e._v("Initialiser le serveur du premier nœud")])])])]),e._v(" "),t("li",[t("a",{attrs:{href:"#deploy-other-nodes"}},[e._v("Déploiement des autres nœuds")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#node-2"}},[e._v("Nœud 2")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#node-3"}},[e._v("Nœud 3")])])])]),e._v(" "),t("li",[t("a",{attrs:{href:"#front-end-deployment"}},[e._v("Déploiement de l'interface utilisateur")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#software-prerequisites"}},[e._v("Prérequis logiciels")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#build-a-weaver-application"}},[e._v("Construire une application Weaver")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#add-the-configuration-file-for-the-blockchain-network"}},[e._v("Ajouter le fichier de configuration pour le réseau blockchain")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#build-weaver-web-application"}},[e._v("Construire l'application Weaver Web")])])])]),e._v(" "),t("li",[t("a",{attrs:{href:"#configure-the-blockchain-network"}},[e._v("Configurer le réseau blockchain")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#create-the-creator-account"}},[e._v("Créer le compte créateur")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#import-applications-roles-and-templates"}},[e._v("Importer les applications, les rôles et les modèles")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#add-the-first-node-to-the-node-list"}},[e._v("Ajouter le premier nœud à la liste des nœuds")])])])]),e._v(" "),t("li",[t("a",{attrs:{href:"#add-other-honor-nodes"}},[e._v("Ajouter d'autres nœuds d'honneur")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#add-members-into-the-consensus-role-group"}},[e._v("Ajouter des membres au groupe de rôles du consensus")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#create-the-owner-account-for-other-nodes"}},[e._v("Créer le compte propriétaire pour les autres nœuds")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#assign-the-node-owner-with-the-validators-role"}},[e._v("Assigner au propriétaire du nœud le rôle de validateur")])])])])])])]),e._v(" "),t("h2",{attrs:{id:"server-deployment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server-deployment"}},[e._v("#")]),e._v(" Déploiement du serveur ")]),e._v(" "),t("h3",{attrs:{id:"deploy-the-first-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-the-first-node"}},[e._v("#")]),e._v(" Déployer le premier nœud ")]),e._v(" "),t("p",[e._v("Le premier nœud est spécial car il est essentiel pour lancer le réseau blockchain. Le premier bloc de la blockchain est généré par le premier nœud, et tous les autres nœuds téléchargent la blockchain à partir de celui-ci. Le propriétaire du premier nœud est le créateur de la plateforme.")]),e._v(" "),t("h3",{attrs:{id:"dependencies-and-environment-settings"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dependencies-and-environment-settings"}},[e._v("#")]),e._v(" Dépendances et paramètres de l'environnement ")]),e._v(" "),t("h4",{attrs:{id:"sudo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sudo"}},[e._v("#")]),e._v(" sudo ")]),e._v(" "),t("p",[e._v("Toutes les commandes de Debian 9 doivent être exécutées en tant qu'utilisateur non root. Cependant, certaines commandes système nécessitent des permissions de super utilisateur pour être exécutées. Par défaut, sudo n'est pas installé sur Debian 9, vous devez l'installer d'abord.")]),e._v(" "),t("ol",[t("li",[e._v("Devenez un super utilisateur.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("su")]),e._v(" -\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Mettez à jour votre système.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" update "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" upgrade "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" dist-upgrade "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Installer sudo.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("Ajoutez votre utilisateur au groupe sudo.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("usermod")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-a")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-G")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" user\n")])])]),t("ol",{attrs:{start:"5"}},[t("li",[e._v("Après le redémarrage, les modifications prennent effet.")])]),e._v(" "),t("h3",{attrs:{id:"golang"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#golang"}},[e._v("#")]),e._v(" Golang ")]),e._v(" "),t("p",[e._v("Installez Go selon les "),t("a",{attrs:{href:"https://golang.org/doc/install#tarball",target:"_blank",rel:"noopener noreferrer"}},[e._v("Documents Officiels"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("ol",[t("li",[e._v("Téléchargez la dernière version stable de Go (> 1.10.x) depuis le "),t("a",{attrs:{href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"}},[e._v("site officiel de Golang"),t("OutboundLink")],1),e._v(" ou via la ligne de commande :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://dl.google.com/go/go1.11.2.linux-amd64.tar.gz\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Utilisez tar pour extraire l'archive tar dans le répertoire "),t("code",[e._v("/usr/local")]),e._v(".")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("tar")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-C")]),e._v(" /usr/local "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-xzf")]),e._v(" go1.11.2.linux-amd64.tar.gz\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Ajoutez "),t("code",[e._v("/usr/local/go/bin")]),e._v(" aux variables d'environnement PATH (qui se trouvent dans "),t("code",[e._v("/etc/profile")]),e._v(" ou "),t("code",[e._v("$HOME/.profile")]),e._v(").")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$PATH")]),e._v(":/usr/local/go/bin\n")])])]),t("ol",[t("li",[e._v("Exécutez le fichier "),t("code",[e._v("source")]),e._v(" pour que les modifications prennent effet, par exemple :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("source")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$HOME")]),e._v("/.profile\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Supprimer les fichiers temporaires.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" go1.11.2.linux-amd64.tar.gz\n")])])]),t("h3",{attrs:{id:"postgresql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#postgresql"}},[e._v("#")]),e._v(" PostgreSQL ")]),e._v(" "),t("ol",[t("li",[e._v("Installez PostgreSQL (> v.10) et psql:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" postgresql\n")])])]),t("h3",{attrs:{id:"centrifugo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centrifugo"}},[e._v("#")]),e._v(" Centrifugo ")]),e._v(" "),t("ol",[t("li",[e._v("Téléchargez Centrifugo V.1.8.0 depuis "),t("a",{attrs:{href:"https://github.com/centrifugal/centrifugo/releases/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub"),t("OutboundLink")],1),e._v(" ou via la ligne de commande :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/centrifugal/centrifugo/releases/download/v1.8.0/centrifugo-1.8.0-linux-amd64.zip "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("unzip")]),e._v(" centrifugo-1.8.0-linux-amd64.zip "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" centrifugo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" centrifugo-1.8.0-linux-amd64/* centrifugo/\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Supprimer les fichiers temporaires.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-R")]),e._v(" centrifugo-1.8.0-linux-amd64 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" centrifugo-1.8.0-linux-amd64.zip\n")])])]),t("h3",{attrs:{id:"directory-structure"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#directory-structure"}},[e._v("#")]),e._v(" Structure du répertoire ")]),e._v(" "),t("p",[e._v("Pour le système Debian 9, il est recommandé de stocker tous les logiciels utilisés par la plateforme blockchain dans un répertoire séparé.")]),e._v(" "),t("p",[e._v("Le répertoire "),t("code",[e._v("/opt/backenddir")]),e._v(" est utilisé ici, mais vous pouvez utiliser n'importe quel répertoire. Dans ce cas, veuillez modifier toutes les commandes et les fichiers de configuration en conséquence.")]),e._v(" "),t("ol",[t("li",[e._v("Créez un répertoire pour la plateforme blockchain :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /opt/backenddir\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Faites de votre utilisateur le propriétaire du répertoire.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" user /opt/backenddir/\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Créez des sous-répertoires pour Centrifugo, go-ibax et les données du nœud. Toutes les données du nœud sont stockées dans un répertoire nommé "),t("code",[e._v("nodeX")]),e._v(", où "),t("code",[e._v("X")]),e._v(" est le numéro du nœud. Selon le nœud à déployer, "),t("code",[e._v("node1")]),e._v(" est le Nœud 1, "),t("code",[e._v("node2")]),e._v(" est le Nœud 2, et ainsi de suite.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /opt/backenddir/go-ibax "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /opt/backenddir/go-ibax/node1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /opt/backenddir/centrifugo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n")])])]),t("h3",{attrs:{id:"create-a-database"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-a-database"}},[e._v("#")]),e._v(" Créer une base de données ")]),e._v(" "),t("ol",[t("li",[e._v("Changer le mot de passe utilisateur postgres au mot de passe par défaut "),t("em",[e._v("123456")]),e._v(". Vous pouvez définir votre propre mot de passe, mais vous devez le modifier dans le fichier de configuration du nœud "),t("em",[e._v("config.toml")]),e._v(".")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" postgres psql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-c")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("\"ALTER USER postgres WITH PASSWORD '123456'\"")]),e._v("\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Créez une base de données d'état actuel pour le nœud, par exemple "),t("strong",[e._v("chaindb")]),e._v(" :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-u")]),e._v(" postgres psql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-c")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"CREATE DATABASE chaindb"')]),e._v("\n")])])]),t("h3",{attrs:{id:"configure-centrifugo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-centrifugo"}},[e._v("#")]),e._v(" Configurer Centrifugo ")]),e._v(" "),t("ol",[t("li",[e._v("Créez le fichier de configuration Centrifugo :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'{"secret":"CENT_SECRET"}\'')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /opt/backenddir/centrifugo/config.json\n")])])]),t("p",[e._v("Vous pouvez définir votre propre "),t("em",[e._v("secret")]),e._v(", mais vous devez également le modifier dans le fichier de configuration du nœud "),t("em",[e._v("config.toml")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"install-go-ibax"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-go-ibax"}},[e._v("#")]),e._v(" Installer go-ibax ")]),e._v(" "),t("ol",[t("li",[e._v("Téléchargez github-backend depuis GitHub :")]),e._v(" "),t("li",[e._v("Copiez le fichier binaire go-ibax dans le répertoire "),t("code",[e._v("/opt/backenddir/go-ibax")]),e._v(". Si vous utilisez l'espace de travail Go par défaut, les fichiers binaires se trouvent dans le répertoire "),t("code",[e._v("$HOME/go/bin")]),e._v(".")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$HOME")]),e._v("/go/bin/go-ibax /opt/backenddir/go-ibax\n")])])]),t("h3",{attrs:{id:"configure-the-first-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-first-node"}},[e._v("#")]),e._v(" Configure the first node ")]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Créez le fichier de configuration pour le Node 1 :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("/opt/backenddir/go-ibax config "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--dataDir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--dbName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("chaindb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--centSecret")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"CENT_SECRET"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--centUrl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://192.168.1.1:8000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--httpHost")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--httpPort")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7079")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--tcpHost")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--tcpPort")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7078")]),e._v("\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("Générer les clés du Node 1, y compris les clés publique et privée du nœud et du compte :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("/opt/backenddir/go-ibax generateKeys "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node1/config.toml\n")])])]),t("ol",{attrs:{start:"5"}},[t("li",[e._v("Générer le premier bloc :")])]),e._v(" "),t("blockquote",[t("p",[e._v("Remarque")]),e._v(" "),t("p",[e._v("Si vous souhaitez créer votre propre réseau blockchain, vous devez utiliser l'option "),t("code",[e._v("--test=true")]),e._v(". Sinon, vous ne pourrez pas créer de nouveau compte.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("/opt/backenddir/go-ibax generateFirstBlock "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node1/config.toml "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[e._v("Initialiser la base de données.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("/opt/backenddir/go-ibax initDatabase "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node1/config.toml\n")])])]),t("p",[e._v("###Initialiser le premier serveur de nœuds ")]),e._v(" "),t("p",[e._v("Pour démarrer le premier serveur de nœuds, vous devez démarrer les deux services suivants :")]),e._v(" "),t("ul",[t("li",[e._v("centrifugo")]),e._v(" "),t("li",[e._v("go-ibax")])]),e._v(" "),t("p",[e._v("Si vous n'avez pas réussi à créer "),t("a",{attrs:{href:"https://wiki.debian.org/systemd/Services",target:"_blank",rel:"noopener noreferrer"}},[e._v("des services"),t("OutboundLink")],1),e._v(" avec ces fichiers, vous pouvez exécuter les fichiers binaires à partir de différents terminaux.")]),e._v(" "),t("ol",[t("li",[e._v("Exécutez centrifugo :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("/opt/backenddir/centrifugo/centrifugo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-a")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.1 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8000")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),e._v(" /opt/backenddir/centrifugo/config.json\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Exécutez go-ibax:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("/opt/backenddir/go-ibax start "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node1/config.toml\n")])])]),t("h2",{attrs:{id:"deploy-other-nodes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-other-nodes"}},[e._v("#")]),e._v(" Déployer d'autres nœuds ")]),e._v(" "),t("p",[e._v("Bien que le déploiement de tous les autres nœuds (Nœud 2 et Nœud 3) soit similaire au premier, il existe trois différences :")]),e._v(" "),t("ul",[t("li",[e._v("Vous n'avez pas besoin de générer le premier bloc. Mais il doit être copié depuis le répertoire de données du nœud 1 vers le nœud actuel ;")]),e._v(" "),t("li",[e._v("Le nœud doit télécharger les blocs depuis le nœud 1 en configurant l'option "),t("code",[e._v("--nodesAddr")]),e._v(" ;")]),e._v(" "),t("li",[e._v("Le nœud doit utiliser ses propres adresses et ports.")])]),e._v(" "),t("h3",{attrs:{id:"node-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-2"}},[e._v("#")]),e._v(" Noeud 2 ")]),e._v(" "),t("p",[e._v("Suivez les instructions opérationnelles indiquées ci-dessous :")]),e._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"#dependencies-and-environment-settings"}},[e._v("Dépendances et paramètres d'environnement")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#create-a-database"}},[e._v("Créer une base de données")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#centrifugo"}},[e._v("Centrifugo")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#install-go-ibax"}},[e._v("Installer go-ibax")])]),e._v(" "),t("li",[e._v("Créer le fichier de configuration pour le Node 2 :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" /opt/backenddir/go-ibax config "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--dataDir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node2 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--dbName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("chaindb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--centSecret")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"CENT_SECRET"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--centUrl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://192.168.1.2:8000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--httpHost")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.2 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--httpPort")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7079")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--tcpHost")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.2 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--tcpPort")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7078")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--nodesAddr")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.1\n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[e._v("Copiez le premier fichier de bloc vers le Node 2. Par exemple, vous pouvez effectuer cette opération sur le Node 2 via scp :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("scp")]),e._v(" user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node2/\n")])])]),t("ol",{attrs:{start:"7"}},[t("li",[e._v("Générer les clés de Node 2, y compris les clés publique et privée du nœud et du compte :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" /opt/backenddir/go-ibax generateKeys "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node2/config.toml\n")])])]),t("ol",{attrs:{start:"8"}},[t("li",[e._v("Initialiser la base de données.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" ./go-ibax initDatabase --config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("node2/config.toml\n")])])]),t("ol",{attrs:{start:"9"}},[t("li",[e._v("Exécutez centrifugo:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("/opt/backenddir/centrifugo/centrifugo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-a")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.2 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8000")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n--config/opt/backenddir/centrifugo/config.json\n")])])]),t("ol",{attrs:{start:"10"}},[t("li",[e._v("Exécutez go-ibax:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("/opt/backenddir/go-ibax start "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node2/config.toml\n")])])]),t("p",[e._v("En conséquence, le nœud télécharge le bloc à partir du premier nœud. Comme ce nœud n'est pas un nœud de vérification, il ne peut pas générer un nouveau bloc. Le nœud 2 sera ajouté ultérieurement à la liste des nœuds de vérification.")]),e._v(" "),t("h3",{attrs:{id:"node-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-3"}},[e._v("#")]),e._v(" Noeud 3{#node-3}")]),e._v(" "),t("p",[e._v("Suivez les instructions opérationnelles indiquées ci-dessous :")]),e._v(" "),t("ol",[t("li",[t("p",[t("a",{attrs:{href:"#dependencies-and-environment-settings"}},[e._v("Dépendances et paramètres d'environnement")])])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#create-a-database"}},[e._v("Créer une base de données")])])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#centrifugo"}},[e._v("Centrifugo")])])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#install-go-ibax"}},[e._v("Installer go-ibax")])])]),e._v(" "),t("li",[t("p",[e._v("Créer le fichier de configuration pour le nœud 3 :")])])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" /opt/backenddir/go-ibax config "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--dataDir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--dbName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("chaindb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--centSecret")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"CENT_SECRET"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--centUrl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://192.168.1.3:8000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--httpHost")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--httpPort")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7079")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--tcpHost")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--tcpPort")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7078")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--nodesAddr")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.1\n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[e._v("Copiez le premier fichier de bloc vers le Node 3. Par exemple, vous pouvez effectuer cette opération sur le Node 3 via scp :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("scp")]),e._v(" user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node3/\n")])])]),t("ol",{attrs:{start:"7"}},[t("li",[e._v("Générer la clé du Node 3, comprenant les clés publique et privée du nœud ainsi que du compte :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" /opt/backenddir/go-ibax generateKeys "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node3/config.toml\n")])])]),t("ol",{attrs:{start:"8"}},[t("li",[e._v("Initialiser la base de données.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" ./go-ibax initDatabase "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("node3/config.toml\n")])])]),t("ol",{attrs:{start:"9"}},[t("li",[e._v("Exécutez centrifugo:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" /opt/backenddir/centrifugo/centrifugo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-a")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".1.3 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8000")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n--config/opt/backenddir/centrifugo/config.json\n")])])]),t("ol",{attrs:{start:"10"}},[t("li",[e._v("Exécutez go-ibax:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" /opt/backenddir/go-ibax start "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--config")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/opt/backenddir/node3/config.toml\n")])])]),t("p",[e._v("En conséquence, le nœud télécharge le bloc à partir du premier nœud. Comme ce nœud n'est pas un nœud de vérification, il ne peut pas générer un nouveau bloc. Le client peut être connecté au nœud et peut envoyer des transactions au réseau.")]),e._v(" "),t("h2",{attrs:{id:"front-end-deployment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#front-end-deployment"}},[e._v("#")]),e._v(" Déploiement front-end ")]),e._v(" "),t("p",[e._v("Seulement après avoir installé "),t("strong",[e._v("GNOME GUI")]),e._v(" sur Debian 9 (Stretch) 64-bit Official Release, le client Govis peut être construit avec le gestionnaire de paquets "),t("code",[e._v("yarn")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"software-prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#software-prerequisites"}},[e._v("#")]),e._v(" Prérequis logiciels ")]),e._v(" "),t("ol",[t("li",[e._v("Téléchargez la version LTS 8.11 de Node.js depuis le site officiel de Node.js ou via la ligne de commande :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-sL")]),e._v(" https://deb.nodesource.com/setup_8.x "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-E")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),e._v("\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Installer Node.js:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" nodejs\n")])])]),t("ol",[t("li",[e._v("Téléchargez la version 1.7.0 de Yarn à partir du dépôt "),t("a",{attrs:{href:"https://github.com/yarnpkg/yarn/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Github"),t("OutboundLink")],1),e._v(" de Yarn ou via la ligne de commande :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("cd/opt/backenddir "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/yarnpkg/yarn/releases/download/v1.7.0/yarn_1.7.0_all.deb\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Installer Yarn:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" dpkg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v(" yarn_1.7.0_all.deb "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" yarn_1.7.0_all.deb\n")])])]),t("h3",{attrs:{id:"build-a-weaver-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-a-weaver-application"}},[e._v("#")]),e._v(" Créez une application Weaver ")]),e._v(" "),t("ol",[t("li",[e._v("Téléchargez la dernière version de Weaver depuis github-frontend via git :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("cd/opt/backenddir "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/ibax-io/ibax-front.git\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Installer les dépendances de Weaver via Yarn:")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("cd/opt/backenddir/ibax-front/ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n")])])]),t("h3",{attrs:{id:"add-the-configuration-file-for-the-blockchain-network"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-the-configuration-file-for-the-blockchain-network"}},[e._v("#")]),e._v(" Ajoutez le fichier de configuration pour le réseau blockchain. ")]),e._v(" "),t("ol",[t("li",[e._v("Créez un fichier "),t("em",[e._v("settings.json")]),e._v(" qui contient des informations sur la connexion du nœud :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("cp/opt/backenddir/ibax-front/public/settings.json.dist "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n /opt/backenddir/ibax-front/public/public/settings.json\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Modifiez le fichier "),t("em",[e._v("settings.json")]),e._v(" dans n'importe quel éditeur de texte et ajoutez les paramètres requis dans ce format :")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("http://Node_IP-address:Node_HTTP-Port\n")])])]),t("p",[e._v("Exemples de fichiers "),t("em",[e._v("settings.json")]),e._v(" pour les trois nœuds :")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"fullNodes"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://192.168.1.1:7079"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://192.168.1.2:7079"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://192.168.1.3:7079"')]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Construire une application de bureau Weaver")]),e._v(" "),t("ol",[t("li",[e._v("Utilisez yarn pour construire la version de bureau :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("cd/opt/backenddir/ibax-front "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" build-desktop\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("La version de bureau sera empaquetée dans le format de suffixe AppImage.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" release "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--publish")]),e._v(" never "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-l")]),e._v("\n")])])]),t("p",[e._v("Après la construction, votre application peut être utilisée, mais sa configuration de connexion ne peut pas être modifiée. Si ces paramètres doivent être modifiés, une nouvelle version de l'application doit être construite.")]),e._v(" "),t("h3",{attrs:{id:"build-weaver-web-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-weaver-web-application"}},[e._v("#")]),e._v(" Construire une application web Weaver ")]),e._v(" "),t("ol",[t("li",[e._v("Créez une application web.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("cd/opt/backenddir/ibax-front/ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" build\n")])])]),t("p",[e._v("Après la construction, les fichiers redistribuables seront placés dans le répertoire /build. Vous pouvez utiliser n'importe quel serveur web de votre choix pour le déploiement, et le fichier "),t("em",[e._v("settings.json")]),e._v(" doit également être placé dans ce répertoire. Notez que si les paramètres de connexion sont modifiés, il n'est pas nécessaire de reconstruire l'application. Au lieu de cela, modifiez le fichier "),t("em",[e._v("settings.json")]),e._v(" et redémarrez le serveur web.")]),e._v(" "),t("ol",[t("li",[e._v("À des fins de développement ou de test, vous pouvez construire le serveur web de Yarn :")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" global "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" serve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" serve "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" build\n")])])]),t("p",[e._v("Après cela, votre application web Weaver sera disponible à l'adresse suivante : "),t("code",[e._v("http://localhost:5000")]),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"configure-the-blockchain-network"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-blockchain-network"}},[e._v("#")]),e._v(" Configurer le réseau blockchain ")]),e._v(" "),t("h3",{attrs:{id:"create-the-creator-account"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-the-creator-account"}},[e._v("#")]),e._v(" Créez le compte créateur ")]),e._v(" "),t("p",[e._v("Créez un compte pour le propriétaire du premier nœud. Ce compte est le créateur de la nouvelle plateforme blockchain et a un accès administrateur.")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Lancez Weaver;")])]),e._v(" "),t("li",[t("p",[e._v("Importez le compte existant en utilisant les données suivantes:")]),e._v(" "),t("ul",[t("li",[e._v("Chargez la sauvegarde de la clé privée du propriétaire du nœud située dans le fichier "),t("code",[e._v("/opt/backenddir/node1/PrivateKey")]),e._v(".")])])])]),e._v(" "),t("blockquote",[t("p",[e._v("Remarque")]),e._v(" "),t("p",[e._v("Il y a deux fichiers de clé privée dans ce répertoire. Le fichier "),t("code",[e._v("PrivateKey")]),e._v(" est utilisé pour créer le compte du propriétaire du nœud. Le fichier "),t("code",[e._v("NodePrivateKey")]),e._v(" est la clé privée du nœud lui-même et doit être gardé secret.")])]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Après vous être connecté à votre compte, puisqu'aucun rôle n'a été créé pour le moment, veuillez sélectionner l'option Sans rôle.")])]),e._v(" "),t("h3",{attrs:{id:"import-applications-roles-and-templates"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-applications-roles-and-templates"}},[e._v("#")]),e._v(" Importer des applications, des rôles et des modèles ")]),e._v(" "),t("p",[e._v("À l'heure actuelle, la plateforme blockchain est dans un état vierge. Vous pouvez la configurer en ajoutant des rôles, des modèles et des frameworks d'application qui prennent en charge les fonctions de base de l'écosystème.")]),e._v(" "),t("ol",[t("li",[e._v("Clonez le dépôt de l'application ;")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("cd/opt/backenddir "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/ibax-io/dapps.git\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[t("p",[e._v("Accédez à Développeur > Importer dans Weaver;")])]),e._v(" "),t("li",[t("p",[e._v("Importez les applications dans l'ordre suivant:")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" A./opt/backenddir/dapps/system.json \n B./opt/backenddir/dapps/conditions.json \n C./opt/backenddir/dapps/basic.json \n D./opt/backenddir/dapps/lang_res.json\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[t("p",[e._v("Accédez à Admin> Rôle, et cliquez sur Installer le rôle par défaut ;")])]),e._v(" "),t("li",[t("p",[e._v("Quittez le système via le menu du fichier de configuration dans le coin supérieur droit ;")])]),e._v(" "),t("li",[t("p",[e._v("Connectez-vous au système en tant qu'administrateur ;")])]),e._v(" "),t("li",[t("p",[e._v("Accédez à Accueil> Vote> Liste des modèles, et cliquez sur Installer le modèle par défaut.")])])]),e._v(" "),t("h3",{attrs:{id:"add-the-first-node-to-the-node-list"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-the-first-node-to-the-node-list"}},[e._v("#")]),e._v(" Ajoutez le premier nœud à la liste des nœuds ")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Accédez à Développeur> Paramètres de la plateforme, et cliquez sur le paramètre first_nodes;")])]),e._v(" "),t("li",[t("p",[e._v("Spécifiez les paramètres du premier nœud du réseau blockchain.")])])]),e._v(" "),t("ul",[t("li",[e._v("public_key - La clé publique du nœud se trouve dans le fichier "),t("code",[e._v("/opt/backenddir/node1/NodePublicKey")]),e._v(".")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{"api_address":"http://192.168.1.1:7079","public_key":"%node_public_key%","tcp_address":"192.168.1.1:7078"}\n')])])]),t("h2",{attrs:{id:"add-other-honor-nodes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-other-honor-nodes"}},[e._v("#")]),e._v(" Ajoutez d'autres nœuds d'honneur ")]),e._v(" "),t("h3",{attrs:{id:"add-members-into-the-consensus-role-group"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-members-into-the-consensus-role-group"}},[e._v("#")]),e._v(" Ajouter des membres dans le groupe de rôle de consensus ")]),e._v(" "),t("p",[e._v("Par défaut, seuls les membres du groupe de rôle Consensus peuvent participer au vote nécessaire pour ajouter d'autres nœuds principaux. Cela signifie qu'avant d'ajouter un nouveau nœud principal, les membres de l'écosystème doivent être assignés au rôle.\nDans cette section, le compte du créateur est désigné comme le seul membre du groupe de rôle Consensus. Dans un environnement de production, ce rôle doit être attribué aux membres de la plateforme qui exercent la gouvernance.")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Accédez à Accueil > Rôle et cliquez sur Consensus ;")])]),e._v(" "),t("li",[t("p",[e._v("Cliquez sur Assigner pour attribuer le compte du créateur au rôle.")])])]),e._v(" "),t("h3",{attrs:{id:"create-the-owner-account-for-other-nodes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-the-owner-account-for-other-nodes"}},[e._v("#")]),e._v(" Créez le compte propriétaire pour les autres nœuds. ")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Exécutez Weaver;")])]),e._v(" "),t("li",[t("p",[e._v("Importez le compte existant en utilisant les données suivantes:")]),e._v(" "),t("ul",[t("li",[e._v("Chargez la sauvegarde de la clé privée du propriétaire du nœud située dans le fichier "),t("code",[e._v("/opt/backenddir/node2/PrivateKey")]),e._v(".")])])]),e._v(" "),t("li",[t("p",[e._v("Après vous être connecté au compte, puisqu'aucun rôle n'a été créé à ce moment-là, veuillez sélectionner l'option Sans rôle.")])]),e._v(" "),t("li",[t("p",[e._v("Accédez à Accueil> Informations personnelles, et cliquez sur le titre des informations personnelles;")])]),e._v(" "),t("li",[t("p",[e._v("Ajoutez les détails du compte (titre des informations personnelles, description, etc.).")])])]),e._v(" "),t("h3",{attrs:{id:"assign-the-node-owner-with-the-validators-role"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#assign-the-node-owner-with-the-validators-role"}},[e._v("#")]),e._v(" Attribuer le propriétaire du nœud au rôle de Validateur. ")]),e._v(" "),t("ol",[t("li",[e._v("Opérations par le nouveau propriétaire du nœud :\n"),t("ol",[t("li",[e._v("Accédez à Accueil> Vérificateur ;")]),e._v(" "),t("li",[e._v("Cliquez sur Créer une demande et remplissez le formulaire de candidature du vérificateur ;")]),e._v(" "),t("li",[e._v("Cliquez sur envoyer la demande.")])])]),e._v(" "),t("li",[e._v("Opérations par le créateur :\n"),t("ol",[t("li",[e._v("Connectez-vous avec un rôle de consensus (Consensus) ;")]),e._v(" "),t("li",[e._v("Accédez à Accueil> Vérificateur ;")]),e._v(" "),t("li",[e._v('Cliquez sur l\'icône "Lecture" pour commencer le vote selon la demande du candidat ;')]),e._v(" "),t("li",[e._v("Accédez à Accueil > Vote, et cliquez sur Mettre à jour le statut du vote ;")]),e._v(" "),t("li",[e._v("Cliquez sur le nom du vote et votez pour le propriétaire du nœud.")])])])]),e._v(" "),t("p",[e._v("En conséquence, le compte du propriétaire du nouveau nœud est attribué au rôle de validateur, et le nouveau nœud est ajouté à la liste des nœuds principaux.")])])}),[],!1,null,null,null);t.default=r.exports}}]);