(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{313:function(e,o,a){"use strict";a.r(o);var r=a(14),s=Object(r.a)({},(function(){var e=this,o=e._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"synchronized-monitoring-tool"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#synchronized-monitoring-tool"}},[e._v("#")]),e._v(" Herramienta de monitoreo sincronizado ")]),e._v(" "),o("p",[e._v("Desync_monitor es una herramienta especial que se utiliza para verificar si la base de datos en un nodo especificado está sincronizada.")]),e._v(" "),o("p",[e._v("Esta herramienta se puede utilizar como un proceso en segundo plano o se puede iniciar para realizar una verificación única.")]),e._v(" "),o("p",[e._v("El funcionamiento de esta herramienta se basa en lo siguiente:")]),e._v(" "),o("blockquote",[o("ol",[o("li",[e._v("Cada bloque contiene el hash de todos los cambios de todas las transacciones. Se solicita al nodo especificado que proporcione su último ID de bloque.")]),e._v(" "),o("li",[e._v("Luego, se solicitan bloques de todos los nodos que tienen ese ID y se comparan los hashes mencionados anteriormente.")]),e._v(" "),o("li",[e._v("Si los hashes son diferentes, se enviará un mensaje de error de sincronización a la dirección de correo electrónico especificada en el comando.")])])]),e._v(" "),o("h2",{attrs:{id:"location"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#location"}},[e._v("#")]),e._v(" Ubicación ")]),e._v(" "),o("p",[e._v("Esta herramienta se encuentra en "),o("code",[e._v("tools/desync_monitor/")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"command-prompt-flags"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#command-prompt-flags"}},[e._v("#")]),e._v(" Banderas del símbolo del sistema ")]),e._v(" "),o("p",[e._v("Se pueden utilizar las siguientes banderas desde el símbolo del sistema:")]),e._v(" "),o("blockquote",[o("ul",[o("li",[o("strong",[e._v("confPath")]),e._v(" -- Ruta al archivo de configuración. El nombre de archivo predeterminado es "),o("code",[e._v("config.toml")]),e._v(";")]),e._v(" "),o("li",[o("strong",[e._v("nodesList")]),e._v(" -- Lista de nodos para solicitar bloques, separados por comas. El valor predeterminado es "),o("code",[e._v("127.0.0.1:7079")]),e._v(";")]),e._v(" "),o("li",[o("strong",[e._v("daemonMode")]),e._v(" -- Iniciar como un demonio, debe usarse cuando se necesita verificar cada N segundos. Esta bandera está establecida en "),o("code",[e._v("false")]),e._v(" de forma predeterminada;")]),e._v(" "),o("li",[o("strong",[e._v("queryingPeriod")]),e._v(" -- Si la herramienta se inicia como un demonio, este parámetro establece el intervalo de tiempo (en segundos) entre comprobaciones. El valor predeterminado es "),o("code",[e._v("1")]),e._v(" segundo.")])])]),e._v(" "),o("ul",[o("li",[o("p",[o("strong",[e._v("alertMessageTo")]),e._v(" -- Dirección de correo electrónico a la que se enviarán las alertas de error de sincronización.")]),e._v(" "),o("blockquote",[o("ul",[o("li",[o("strong",[e._v("alertMessageSubj")]),e._v(" -- Asunto del mensaje en el mensaje de alerta, el valor predeterminado es problema de sincronización del nodo;")]),e._v(" "),o("li",[o("strong",[e._v("alertMessageFrom")]),e._v(" -- Dirección desde la que se envía el mensaje.")]),e._v(" "),o("li",[o("strong",[e._v("smtpHost")]),e._v(" -- Host del servidor SMTP utilizado para enviar correos electrónicos, el valor predeterminado es "),o("code",[e._v('""')]),e._v(";")]),e._v(" "),o("li",[o("strong",[e._v("smtpPort")]),e._v(" -- Puerto del servidor SMTP utilizado para enviar mensajes de correo electrónico, el valor predeterminado es "),o("code",[e._v("25")]),e._v(";")]),e._v(" "),o("li",[o("strong",[e._v("smtpUsername")]),e._v(" -- Nombre de usuario del servidor SMTP, el valor predeterminado es "),o("code",[e._v('""')]),e._v(";")]),e._v(" "),o("li",[o("strong",[e._v("smtpPassword")]),e._v(" -- Contraseña del servidor SMTP, el valor predeterminado es "),o("code",[e._v('""')]),e._v(".")])])])])]),e._v(" "),o("h2",{attrs:{id:"configuration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuración ")]),e._v(" "),o("p",[e._v("Esta herramienta utiliza un archivo de configuración en formato toml.")]),e._v(" "),o("p",[e._v("Por defecto, buscará el archivo "),o("em",[e._v("config.toml")]),e._v(" en la carpeta donde se inició el archivo binario.")]),e._v(" "),o("p",[e._v("Puede cambiar la ruta del archivo utilizando la opción "),o("strong",[e._v("configPath")]),e._v(".")]),e._v(" "),o("div",{staticClass:"language-text extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('nodes_list = ["http://127.0.0.1:7079", "http://127.0.0.1:7002"]\n\n[daemon]\ndaemon = false\nquerying_period = 1\n\n[alert_message]\nto = ""\nsubject = "problem with xxx nodes"\nfrom = ""\n\n[smtp]\nhost = ""\nport = 25\nusername = ""\npassword = ""\n')])])]),o("h3",{attrs:{id:"nodes-list"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#nodes-list"}},[e._v("#")]),e._v(" nodes_list ")]),e._v(" "),o("blockquote",[o("ul",[o("li",[o("strong",[e._v("nodes_list")]),e._v(" - Lista de nodos (hosts) que solicitan información.")])])]),e._v(" "),o("h3",{attrs:{id:"daemon"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#daemon"}},[e._v("#")]),e._v(" [daemon] ")]),e._v(" "),o("p",[e._v("Configuración del modo de proceso de demonio.")]),e._v(" "),o("blockquote",[o("ul",[o("li",[o("strong",[e._v("daemon_mode")]),e._v(" -- La herramienta funciona como un proceso de demonio y realiza comprobaciones de sincronización.")]),e._v(" "),o("li",[o("strong",[e._v("querying_period")]),e._v(" -- El intervalo de tiempo entre las comprobaciones de sincronización.")])])]),e._v(" "),o("h3",{attrs:{id:"alert-message"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#alert-message"}},[e._v("#")]),e._v(" [alert_message] ")]),e._v(" "),o("p",[e._v("Parámetros de mensaje de advertencia.")]),e._v(" "),o("blockquote",[o("ul",[o("li",[o("strong",[e._v("to")]),e._v(" -- Dirección de correo electrónico del destinatario para el mensaje de advertencia sincrónico;")]),e._v(" "),o("li",[o("strong",[e._v("subject")]),e._v(" -- Tema del mensaje;")]),e._v(" "),o("li",[o("strong",[e._v("from")]),e._v(" -- Dirección de correo electrónico del remitente.")])])]),e._v(" "),o("h3",{attrs:{id:"smtp"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#smtp"}},[e._v("#")]),e._v(" [smtp] ")]),e._v(" "),o("p",[e._v("Parámetros del servidor de Protocolo de Transferencia de Correo Simple (Simple Mail Transfer Protocol, SMTP) para enviar mensajes de advertencia sincrónicos.")]),e._v(" "),o("blockquote",[o("ul",[o("li",[o("strong",[e._v("host")]),e._v(" -- Servidor SMTP;")]),e._v(" "),o("li",[o("strong",[e._v("port")]),e._v(" -- Puerto del servidor SMTP;")]),e._v(" "),o("li",[o("strong",[e._v("username")]),e._v(" -- Nombre de usuario del servidor SMTP;")]),e._v(" "),o("li",[o("strong",[e._v("password")]),e._v(" -- Contraseña del servidor SMTP;")])])])])}),[],!1,null,null,null);o.default=s.exports}}]);