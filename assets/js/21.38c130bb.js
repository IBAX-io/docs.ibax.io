(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{402:function(e,s,o){"use strict";o.r(s);var n=o(51),t=Object(n.a)({},(function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"synchronized-monitoring-tool"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#synchronized-monitoring-tool"}},[e._v("#")]),e._v(" Synchronized Monitoring Tool")]),e._v(" "),o("p",[e._v("Desync_monitor is a special tool that can be used to verify whether the database on the specified node has been synchronized.")]),e._v(" "),o("p",[e._v("The tool can be used as a daemon or can be started to perform a one-time check.")]),e._v(" "),o("p",[e._v("The operating principle of the tool is based on the following:")]),e._v(" "),o("p",[e._v("1.Each block contains the hash of all changes of all transactions, request the specified node to provide its last block ID;\n2.Then request a block with this ID from all nodes and compare the above hashes;\n3.If the hashes are different, a synchronization error message will be sent to the email address specified in the command.\nLocation\nThe tool is located in the tools/desync_monitor/ directory.\nCommand prompt flags\nThe following flags can be used from the command prompt:")]),e._v(" "),o("ul",[o("li",[e._v("confPath - Path of the configuration file. The default file name is config.toml;")]),e._v(" "),o("li",[e._v("nodesList - Node list of the requested block, separated by commas. The default is 127.0.0.1:7079;")]),e._v(" "),o("li",[e._v("daemonMode - Started as a daemon and should be used when authentication is required every N seconds. This flag is set to false by default;")]),e._v(" "),o("li",[e._v("queryingPeriod - If the tool is started as a daemon, this parameter sets the time interval (in seconds) between checks, 1 second by default.")]),e._v(" "),o("li",[e._v('alertMessageTo – The email address to which synchronization warning errors will be sent.\n–alertMessageSubj - Message subject in the warning message, the node synchronization problem by default;\n–alertMessageFrom - Address where the message was sent.\n–smtpHost - SMTP server host, used to send emails, the "" by default;\n–smtpPort - SMTP server port, used to send email messages, 25 by default;\n–smtpUsername - SMTP server username, "" by default;\n–smtpPassword - SMTP server password, "" by default.\nConfiguration\nThe tool uses a configuration file in toml format.\nBy default, it will look for the config.toml file in the folder where to start up the binary file.\nThe file path can be changed with the configPath flag.\nnodes_list = ["http://127.0.0.1:7079", "http://127.0.0.1:7002"]\n[daemon]\ndaemon = false\nquerying_period = 1\n[alert_message]\nto = ""\nsubject = "problem with xxx nodes"\nfrom = ""\n[smtp]\nhost = ""\nport = 25\nusername = ""\npassword = ""\nnodes_list')]),e._v(" "),o("li",[e._v("nodes_list - List of nodes (hosts) requesting information.\n[daemon]\nConfiguration of the daemon mode.")]),e._v(" "),o("li",[e._v("daemon_mode – A tool works as a daemon and performs synchronization checks.")]),e._v(" "),o("li",[e._v("querying_period - Time interval between synchronization checks.\n[alert_message]\nWarning message parameters.")]),e._v(" "),o("li",[e._v("to - recipient's e-mail of synchronization error warning messages;")]),e._v(" "),o("li",[e._v("subject - message subject;")]),e._v(" "),o("li",[e._v("from - sender's e-mail.\n[smtp]\nSimple Mail Transfer Protocol (SMTP) server parameters, used to send synchronization error messages.")]),e._v(" "),o("li",[e._v("host – SMTP server hose;")]),e._v(" "),o("li",[e._v("port –SMTP server port;")]),e._v(" "),o("li",[e._v("username – SMTP server user name;")]),e._v(" "),o("li",[e._v("password –SMTP server password;")])])])}),[],!1,null,null,null);s.default=t.exports}}]);