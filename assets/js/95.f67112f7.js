(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{369:function(t,s,_){"use strict";_.r(s);var a=_(14),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"synchronized-monitoring-tool"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#synchronized-monitoring-tool"}},[t._v("#")]),t._v(" 同期モニタリングツール ")]),t._v(" "),s("p",[t._v("Desync_monitorは、指定されたノード上のデータベースが同期されているかどうかを確認するための特別なツールです。")]),t._v(" "),s("p",[t._v("このツールはデーモンとして使用するか、ワンタイムチェックを実行するために起動することができます。")]),t._v(" "),s("p",[t._v("ツールの動作原理は次のとおりです：")]),t._v(" "),s("ol",[s("li",[t._v("各ブロックには、すべてのトランザクションの変更のハッシュが含まれており、指定されたノードに最後のブロックIDを提供するようにリクエストします。")]),t._v(" "),s("li",[t._v("次に、すべてのノードからこのIDのブロックをリクエストし、上記のハッシュを比較します。")]),t._v(" "),s("li",[t._v("ハッシュが異なる場合、指定されたコマンドのメールアドレスに同期エラーメッセージが送信されます。")])]),t._v(" "),s("h2",{attrs:{id:"location"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#location"}},[t._v("#")]),t._v(" ロケーション ")]),t._v(" "),s("p",[t._v("このツールは "),s("code",[t._v("tools/desync_monitor/")]),t._v(" ディレクトリにあります。")]),t._v(" "),s("h2",{attrs:{id:"command-prompt-flags"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#command-prompt-flags"}},[t._v("#")]),t._v(" コマンドプロンプトフラグ ")]),t._v(" "),s("p",[t._v("次のフラグをコマンドプロンプトから使用できます：")]),t._v(" "),s("ul",[s("li",[t._v("confPath - 設定ファイルのパス。デフォルトのファイル名は "),s("code",[t._v("config.toml")]),t._v(" です。")]),t._v(" "),s("li",[t._v("nodesList - リクエストされたブロックのノードリスト。カンマで区切られます。デフォルトは "),s("code",[t._v("127.0.0.1:7079")]),t._v(" です。")]),t._v(" "),s("li",[t._v("daemonMode - デーモンとして起動し、N秒ごとに認証が必要な場合に使用する必要があります。デフォルトではこのフラグは "),s("code",[t._v("false")]),t._v(" に設定されています。")]),t._v(" "),s("li",[t._v("queryingPeriod - ツールがデーモンとして起動された場合、このパラメータはチェック間隔（秒単位）を設定します。デフォルトは "),s("code",[t._v("1")]),t._v(" 秒です。")]),t._v(" "),s("li",[t._v("alertMessageTo - 同期警告エラーが送信されるメールアドレスです。\n"),s("ul",[s("li",[t._v("alertMessageSubj - 警告メッセージの件名。デフォルトでは "),s("code",[t._v("node synchronization")]),t._v(" 問題です。")]),t._v(" "),s("li",[t._v("alertMessageFrom - メッセージが送信されたアドレス。")]),t._v(" "),s("li",[t._v("smtpHost - メール送信に使用するSMTPサーバーホスト。デフォルトでは "),s("code",[t._v('""')]),t._v(" です。")]),t._v(" "),s("li",[t._v("smtpPort - メールメッセージの送信に使用するSMTPサーバーポート。デフォルトでは "),s("code",[t._v("25")]),t._v(" です。")]),t._v(" "),s("li",[t._v("smtpUsername - SMTPサーバーのユーザー名。デフォルトでは "),s("code",[t._v('""')]),t._v(" です。")]),t._v(" "),s("li",[t._v("smtpPassword - SMTPサーバーのパスワード。デフォルトでは "),s("code",[t._v('""')]),t._v(" です。")])])])]),t._v(" "),s("h2",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[t._v("#")]),t._v(" 設定 ")]),t._v(" "),s("p",[t._v("このツールはtoml形式の設定ファイルを使用します。")]),t._v(" "),s("p",[t._v("デフォルトでは、バイナリファイルを起動するフォルダ内のconfig.tomlファイルを探します。")]),t._v(" "),s("p",[t._v("ファイルパスはconfigPathフラグで変更できます。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('nodes_list = ["http://127.0.0.1:7079", "http://127.0.0.1:7002"]\n\n[daemon]\ndaemon = false\nquerying_period = 1\n\n[alert_message]\nto = ""\nsubject = "problem with xxx nodes"\nfrom = ""\n\n[smtp]\nhost = ""\nport = 25\nusername = ""\npassword = ""\n')])])]),s("h3",{attrs:{id:"nodes-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodes-list"}},[t._v("#")]),t._v(" nodes_list ")]),t._v(" "),s("ul",[s("li",[t._v("nodes_list - 情報をリクエストするノード（ホスト）のリスト。")])]),t._v(" "),s("h3",{attrs:{id:"daemon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#daemon"}},[t._v("#")]),t._v(" [daemon] ")]),t._v(" "),s("p",[t._v("デーモンモードの設定。")]),t._v(" "),s("ul",[s("li",[t._v("daemon_mode - ツールがデーモンとして動作し、同期チェックを実行します。")]),t._v(" "),s("li",[t._v("querying_period - 同期チェック間の時間間隔。")])]),t._v(" "),s("h3",{attrs:{id:"alert-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alert-message"}},[t._v("#")]),t._v(" [alert_message] ")]),t._v(" "),s("p",[t._v("警告メッセージのパラメータ。")]),t._v(" "),s("ul",[s("li",[t._v("to - 同期エラー警告メッセージの受信者のメールアドレス；")]),t._v(" "),s("li",[t._v("subject - メッセージの件名；")]),t._v(" "),s("li",[t._v("from - 送信者のメールアドレス。")])]),t._v(" "),s("h3",{attrs:{id:"smtp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smtp"}},[t._v("#")]),t._v(" [smtp] ")]),t._v(" "),s("p",[t._v("シンプルメール転送プロトコル（SMTP）サーバーのパラメーターで、同期エラーメッセージの送信に使用されます。")]),t._v(" "),s("ul",[s("li",[t._v("host - SMTPサーバーのホスト；")]),t._v(" "),s("li",[t._v("port - SMTPサーバーのポート；")]),t._v(" "),s("li",[t._v("username - SMTPサーバーのユーザー名；")]),t._v(" "),s("li",[t._v("password - SMTPサーバーのパスワード。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);