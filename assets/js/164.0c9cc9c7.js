(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{440:function(t,a,s){"use strict";s.r(a);var e=s(14),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"smart-contracts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#smart-contracts"}},[t._v("#")]),t._v(" 智能合约 ")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#contract-structure"}},[t._v("智能合约结构")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#data-section"}},[t._v("数据部分")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#conditions-section"}},[t._v("条件部分")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#action-section"}},[t._v("操作部分")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#variables"}},[t._v("变量")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#nested-contracts"}},[t._v("嵌套智能合约")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#file-upload"}},[t._v("文件上传")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#queries-in-json-format"}},[t._v("JSON格式查询语句")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#queries-with-date-and-time-operations"}},[t._v("日期时间格式查询语句")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#needle-contract-language"}},[t._v("needle 智能合约语言")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#basic-elements-and-structure"}},[t._v("基本要素和结构")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-types-and-variables"}},[t._v("数据类型和变量")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#array"}},[t._v("数组")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#if-and-while-statements"}},[t._v("If和While语句")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#functions"}},[t._v("函数")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#function-declaration"}},[t._v("函数声明")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#variable-length-parameters"}},[t._v("可变长度参数")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#optional-parameters"}},[t._v("可选参数")])])])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#needle-functions-classification"}},[t._v("needle 函数功能分类")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#needle-functions-reference"}},[t._v("needle 函数参考")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#appparam"}},[t._v("AppParam")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#dbfind"}},[t._v("DBFind")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#dbrow"}},[t._v("DBRow")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#dbselectmetrics"}},[t._v("DBSelectMetrics")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#ecosysparam"}},[t._v("EcosysParam")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#gethistory"}},[t._v("GetHistory")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#gethistoryrow"}},[t._v("GetHistoryRow")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getcolumntype"}},[t._v("GetColumnType")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getdatafromxlsx"}},[t._v("GetDataFromXLSX")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getrowscountxlsx"}},[t._v("GetRowsCountXLSX")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#langres"}},[t._v("LangRes")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getblock"}},[t._v("GetBlock")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#dbinsert"}},[t._v("DBInsert")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#dbupdate"}},[t._v("DBUpdate")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#dbupdateext"}},[t._v("DBUpdateExt")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#delcolumn"}},[t._v("DelColumn")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#deltable"}},[t._v("DelTable")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#append"}},[t._v("Append")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#join"}},[t._v("Join")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#split"}},[t._v("Split")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#len"}},[t._v("Len")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#row"}},[t._v("Row")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#one"}},[t._v("One")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getmapkeys"}},[t._v("GetMapKeys")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#sortedkeys"}},[t._v("SortedKeys")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#callcontract"}},[t._v("CallContract")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#contractaccess"}},[t._v("ContractAccess")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#contractconditions"}},[t._v("ContractConditions")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#evalcondition"}},[t._v("EvalCondition")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getcontractbyid"}},[t._v("GetContractById")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getcontractbyname"}},[t._v("GetContractByName")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#roleaccess"}},[t._v("RoleAccess")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#transactioninfo"}},[t._v("TransactionInfo")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#throw"}},[t._v("Throw")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#validatecondition"}},[t._v("ValidateCondition")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#addresstoid"}},[t._v("AddressToId")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#idtoaddress"}},[t._v("IdToAddress")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#pubtoid"}},[t._v("PubToID")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#decodebase64"}},[t._v("DecodeBase64")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#encodebase64"}},[t._v("EncodeBase64")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#float"}},[t._v("Float")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#hextobytes"}},[t._v("HexToBytes")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#formatmoney"}},[t._v("FormatMoney")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#random"}},[t._v("Random")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#int"}},[t._v("Int")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#hash"}},[t._v("Hash")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#sha256"}},[t._v("Sha256")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#str"}},[t._v("Str")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#jsonencode"}},[t._v("JSONEncode")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#jsonencodeindent"}},[t._v("JSONEncodeIndent")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#jsondecode"}},[t._v("JSONDecode")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#hasprefix"}},[t._v("HasPrefix")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#contains"}},[t._v("Contains")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#replace"}},[t._v("Replace")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#size"}},[t._v("Size")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#sprintf"}},[t._v("Sprintf")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#substr"}},[t._v("Substr")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#tolower"}},[t._v("ToLower")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#toupper"}},[t._v("ToUpper")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#trimspace"}},[t._v("TrimSpace")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#floor"}},[t._v("Floor")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#log"}},[t._v("Log")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#log10"}},[t._v("Log10")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#pow"}},[t._v("Pow")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#round"}},[t._v("Round")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#sqrt"}},[t._v("Sqrt")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#stringtobytes"}},[t._v("StringToBytes")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#bytestostring"}},[t._v("BytesToString")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#sysparamstring"}},[t._v("SysParamString")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#sysparamint"}},[t._v("SysParamInt")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#dbupdatesysparam"}},[t._v("DBUpdateSysParam")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#updatenotifications"}},[t._v("UpdateNotifications")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#updaterolesnotifications"}},[t._v("UpdateRolesNotifications")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#httprequest"}},[t._v("HTTPRequest")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#httppostjson"}},[t._v("HTTPPostJSON")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#blocktime"}},[t._v("BlockTime")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#datetime"}},[t._v("DateTime")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#unixdatetime"}},[t._v("UnixDateTime")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#createobs"}},[t._v("CreateOBS")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getobslist"}},[t._v("GetOBSList")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#runobs"}},[t._v("RunOBS")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#stopobs"}},[t._v("StopOBS")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#removeobs"}},[t._v("RemoveOBS")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#system-contracts"}},[t._v("系统智能合约")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#newecosystem"}},[t._v("NewEcosystem")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editecosystemname"}},[t._v("EditEcosystemName")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newcontract"}},[t._v("NewContract")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editcontract"}},[t._v("EditContract")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#bindwallet"}},[t._v("BindWallet")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#unbindwallet"}},[t._v("UnbindWallet")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newparameter"}},[t._v("NewParameter")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editparameter"}},[t._v("EditParameter")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newmenu"}},[t._v("NewMenu")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editmenu"}},[t._v("EditMenu")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#appendmenu"}},[t._v("AppendMenu")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newpage"}},[t._v("NewPage")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editpage"}},[t._v("EditPage")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#appendpage"}},[t._v("AppendPage")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newblock"}},[t._v("NewBlock")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editblock"}},[t._v("EditBlock")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newtable"}},[t._v("NewTable")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#edittable"}},[t._v("EditTable")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newcolumn"}},[t._v("NewColumn")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editcolumn"}},[t._v("EditColumn")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newlang"}},[t._v("NewLang")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editlang"}},[t._v("EditLang")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#import"}},[t._v("Import")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#importupload"}},[t._v("ImportUpload")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newappparam"}},[t._v("NewAppParam")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editappparam"}},[t._v("EditAppParam")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#newdelayedcontract"}},[t._v("NewDelayedContract")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#editdelayedcontract"}},[t._v("EditDelayedContract")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#uploadbinary"}},[t._v("UploadBinary")])])])])]),t._v(" "),a("p",[t._v("用户在页面中执行智能合约通常是单个操作，结果是更改或创建数据库的条目。应用程序的所有数据操作形成了智能合约系统，这些智能合约通过数据库或者智能合约内容的函数彼此交互。")]),t._v(" "),a("h2",{attrs:{id:"contract-structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contract-structure"}},[t._v("#")]),t._v(" 智能合约结构 ")]),t._v(" "),a("p",[t._v("使用 "),a("strong",[t._v("contract")]),t._v("关键字声明智能合约，后面接上智能合约名称，智能合约内容必须用大括号括起来。智能合约结构有三个主要部分：")]),t._v(" "),a("blockquote",[a("ol",[a("li",[a("strong",[t._v("data")]),t._v(" - "),a("a",{attrs:{href:"#data-section"}},[t._v("数据部分")]),t._v("，声明输入数据的变量，包括变量名称和变量类型；")]),t._v(" "),a("li",[a("strong",[t._v("conditions")]),t._v(" - "),a("a",{attrs:{href:"#conditions-section"}},[t._v("条件部分")]),t._v("，验证数据的正确性；")]),t._v(" "),a("li",[a("strong",[t._v("action")]),t._v(" - "),a("a",{attrs:{href:"#action-section"}},[t._v("操作部分")]),t._v("，执行数据操作的动作。")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("contract MyContract "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        FromId int\n        ToId   int\n        Amount money\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    func conditions "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    func action "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"data-section"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-section"}},[t._v("#")]),t._v(" 数据部分 ")]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v(" 部分描述了智能合约数据输入以及接收的表单参数。")]),t._v(" "),a("p",[t._v("每行的依次顺序结构：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("变量名称")]),t._v(" - 只接收变量，不支持接收数组；")]),t._v(" "),a("li",[a("em",[t._v("变量数据类型")]),t._v(" - 变量的 "),a("a",{attrs:{href:"#data-types-and-variables"}},[t._v("数据类型")]),t._v("；")]),t._v(" "),a("li",[a("em",[t._v("optional")]),t._v(" - 可选参数，不需要填充的表单元素。")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("contract my "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Name string\n      RequestId int\n      Photo file "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"optional"')]),t._v("\n      Amount money\n      Private bytes\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"conditions-section"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#conditions-section"}},[t._v("#")]),t._v(" 条件部分 ")]),t._v(" "),a("p",[a("code",[t._v("conditions")]),t._v(" 部分描述了对接收的数据进行验证。")]),t._v(" "),a("p",[t._v("以下命令用于错误警告：严重性错误 "),a("code",[t._v("error")]),t._v("、警告性错误"),a("code",[t._v("warning")]),t._v("、提示性错误"),a("code",[t._v("info")]),t._v("，这三种命令都会生成一个终止智能合约执行的错误，每个错误都会打印不同类型的错误日志信息。例如：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" fuel "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      error "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fuel cannot be zero!"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" money "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" limit "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      warning "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sprintf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"You don\'t have enough money: %v < %v"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" idexist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      info "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"You have already been registered"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"action-section"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#action-section"}},[t._v("#")]),t._v(" 操作部分 ")]),t._v(" "),a("p",[a("code",[t._v("action")]),t._v("部分描述了智能合约的主要代码，该代码检索其他数据并将结果值记录到数据库表中。例如：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("action "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keys"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $key_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"-amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keys"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $recipient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"+amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pub"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $Pub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#variables"}},[t._v("#")]),t._v(" 变量 ")]),t._v(" "),a("p",[a("strong",[t._v("data")]),t._v(" 部分声明的变量通过 "),a("code",[t._v("$")]),t._v("符号后面跟上变量名称传递给其他智能合约部分。"),a("code",[t._v("$")]),t._v("符号也可以声明其他不在数据部分内的变量。这些变量被认为是这个智能合约和所有嵌套该智能合约的全局变量。")]),t._v(" "),a("p",[t._v("智能合约内可以使用预定义变量，这些变量包含调用该智能合约的交易数据：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("code",[t._v("$time")]),t._v(" -- 交易时间戳；")]),t._v(" "),a("li",[a("code",[t._v("$ecosystem_id")]),t._v(" -- 生态系统ID；")]),t._v(" "),a("li",[a("code",[t._v("$block")]),t._v(" -- 包含该交易的区块ID；")]),t._v(" "),a("li",[a("code",[t._v("$key_id")]),t._v(" -- 签署当前交易的账户地址；")]),t._v(" "),a("li",[a("code",[t._v("$type")]),t._v(" 虚拟机中智能合约ID；")]),t._v(" "),a("li",[a("code",[t._v("$block_key_id")]),t._v(" -- 生成区块的节点账户地址；")]),t._v(" "),a("li",[a("code",[t._v("$block_time")]),t._v(" -- 区块生成时间戳；")]),t._v(" "),a("li",[a("code",[t._v("$original_contract")]),t._v(" -- 最初进行交易处理的智能合约名称。如果该变量为空字符串，表示交易在验证过程中调用了该智能合约。要检查该智能合约是由另一个智能合约调用还是直接从交易调用，需要比较 "),a("em",[t._v("$original_contract")]),t._v(" 和 "),a("em",[t._v("$this_contract")]),t._v(" 的值。 如果它们相等，则表示智能合约是从交易调用的；")]),t._v(" "),a("li",[a("code",[t._v("$this_contract")]),t._v(" -- 当前执行智能合约名称；")]),t._v(" "),a("li",[a("code",[t._v("$guest_key")]),t._v(" -- 访客账户地址；")]),t._v(" "),a("li",[a("code",[t._v("$stack")]),t._v(" -- 智能合约数组堆栈，*array* 类型，包含所有执行的智能合约，数组第一个元素表示当前执行的智能合约名称，最后一个元素表示最初进行交易处理的智能合约名称；")]),t._v(" "),a("li",[a("code",[t._v("$node_position")]),t._v(" -- 区块所在的验证节点数组的索引号；")]),t._v(" "),a("li",[a("code",[t._v("$txhash")]),t._v(" -- 交易哈希；")]),t._v(" "),a("li",[a("code",[t._v("$contract")]),t._v(" -- 当前智能合约结构数组。")])])]),t._v(" "),a("p",[t._v("预定义变量不仅可以在智能合约中访问，还可以在定义应用程序元素的访问权限条件的权限字段中访问。当用于权限字段时，关于区块信息的预定义变量始终等于零，例如"),a("code",[t._v("$time")]),t._v("， "),a("code",[t._v("$block")]),t._v(" 等。")]),t._v(" "),a("p",[t._v("预定义变量 "),a("code",[t._v("$result")]),t._v(" 赋值于智能合约的返回结果。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("contract my "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Name string \n      Amount money\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  func conditions "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" $Amount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         error "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Amount cannot be 0"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      $ownerId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1232")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  func action "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" amount money\n      amount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" $Amount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $ownerId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amount")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $ownerId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amount")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"nested-contracts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nested-contracts"}},[t._v("#")]),t._v(" 嵌套智能合约 ")]),t._v(" "),a("p",[t._v("在智能合约的 "),a("em",[t._v("conditions")]),t._v(" 和 "),a("em",[t._v("action")]),t._v("部分可以嵌套合约。嵌套合约可以直接调用，合约参数在其合约名称后面的括号中指定，例如，"),a("code",[t._v("@1NameContract(Params)")]),t._v("。也可以使用"),a("a",{attrs:{href:"#CallContract"}},[t._v("CallContract")]),t._v(" 函数调用。")]),t._v(" "),a("h2",{attrs:{id:"file-upload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#file-upload"}},[t._v("#")]),t._v(" 文件上传 ")]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("multipart/form-data")]),t._v(" 格式的表单上传文件，合约的数据类型必须是"),a("code",[t._v("file")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("contract Upload "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        File file\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"#UploadBinary"}},[t._v("UploadBinary")]),t._v(" 合约用于上传和存储文件。在页面编辑器使用 Logicor 语言的函数"),a("RouterLink",{attrs:{to:"/zh-CN/topics/templates2.html#binary"}},[t._v("Binary")]),t._v(" 可以获取文件下载链接。")],1),t._v(" "),a("h2",{attrs:{id:"queries-in-json-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queries-in-json-format"}},[t._v("#")]),t._v(" JSON格式查询语句 ")]),t._v(" "),a("p",[t._v("在合约语言中，"),a("strong",[t._v("JSON")]),t._v(" 格式类型可以指定为字段类型。使用语法：")]),t._v(" "),a("p",[a("strong",[t._v("columnname->fieldname")]),t._v(" 来处理条目字段。获得的值记录在"),a("strong",[t._v("columnname.fieldname")]),t._v("。")]),t._v(" "),a("p",[t._v("上述语法可以在"),a("RouterLink",{attrs:{to:"/zh-CN/topics/templates2.html#dbfind"}},[t._v("DBFind")]),t._v(" 函数的"),a("em",[t._v("Columns,One,Where")]),t._v(" 中使用。")],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret map\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val str\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" list array\nret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myname,doc,doc->ind"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WhereId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doc.ind"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myname,doc->type"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WhereId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("One")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doc->type"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myname,doc,doc->ind"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doc->ind = ?"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"101"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WhereId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("One")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doc->check"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"queries-with-date-and-time-operations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queries-with-date-and-time-operations"}},[t._v("#")]),t._v(" 日期时间格式查询语句 ")]),t._v(" "),a("p",[t._v("合约语言函数不能直接查询和更新日期时间，但是可以像示例中在Where语句中使用PostgreSQL的函数和功能。例如，需要比较字段"),a("em",[t._v("date_column")]),t._v(" 和当前时间，如果 "),a("em",[t._v("date_column")]),t._v("是timestamp类型，那么表达式为 "),a("code",[t._v("date_column < NOW()")]),t._v("；如果 "),a("em",[t._v("date_column")]),t._v("是Unix类型，那么表达式为 "),a("code",[t._v("to_timestamp(date_column) > NOW()")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to_timestamp(date_column) > NOW()"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"date_column < NOW() - 30 * interval '1 day'\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("以下 Needle 函数是处理SQL格式的日期和时间：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#blocktime"}},[t._v("BlockTime")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#datetime"}},[t._v("DateTime")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#unixdatetime"}},[t._v("UnixDateTime")])])]),t._v(" "),a("h2",{attrs:{id:"needle-contract-language"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#needle-contract-language"}},[t._v("#")]),t._v(" needle 合约语言 ")]),t._v(" "),a("p",[t._v("该语言包括一组函数、运算符和结构，可实现数据算法处理和数据库操作。")]),t._v(" "),a("p",[t._v("在编辑合约权限不为 "),a("code",[t._v("false")]),t._v("的条件下，合约内容可以修改。对合约更改的完整历史记录存储在区块链中，从Weaver 可获知更改情况。")]),t._v(" "),a("p",[t._v("区块链中的数据操作由最新版本的合约执行。")]),t._v(" "),a("h3",{attrs:{id:"basic-elements-and-structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-elements-and-structure"}},[t._v("#")]),t._v(" 基本要素和结构 ")]),t._v(" "),a("h3",{attrs:{id:"data-types-and-variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-types-and-variables"}},[t._v("#")]),t._v(" 数据类型和变量 ")]),t._v(" "),a("p",[t._v("每个变量必须定义数据类型，通常情况下，数据类型会自动转换。可以使用以下数据类型：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[a("code",[t._v("bool")]),t._v(" - 布尔值，"),a("code",[t._v("true")]),t._v(" 和 "),a("code",[t._v("false")]),t._v("；")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("bytes")]),t._v(" - 字节格式；")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("int")]),t._v(" - 64位整数型；")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("array")]),t._v(" - 任意类型值的数组；")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("map")]),t._v(" - 对象数组；")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("money")]),t._v(" - 大整数类型；")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("float")]),t._v(" - 64位浮点型；")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("string")]),t._v(' - 字符串，双引号或转义格式： "This is a string" 或者\n`This is a string`；')])]),t._v(" "),a("li",[a("p",[a("code",[t._v("file")]),t._v(" - 对象数组：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("code",[t._v("Name")]),t._v(" - 文件名称，"),a("code",[t._v("string")]),t._v(" 类型；")]),t._v(" "),a("li",[a("code",[t._v("MimeType")]),t._v(" - "),a("strong",[t._v("mime-type")]),t._v(" 文件格式，"),a("code",[t._v("string")]),t._v(" 类型；")]),t._v(" "),a("li",[a("code",[t._v("Body")]),t._v(" - 文件内容，，"),a("code",[t._v("bytes")]),t._v(" 类型。")])])])])])]),t._v(" "),a("p",[t._v("所有标识符，包括变量、函数和合约等的名称都区分大小写（MyFunc和myFunc是不同的名称）。")]),t._v(" "),a("p",[t._v("使用 "),a("strong",[t._v("var")]),t._v("关键字声明变量，后跟变量的名称和类型。在大括号内声明的变量必须在同一对大括号内使用。")]),t._v(" "),a("p",[t._v("声明的变量具有默认零值：bool类型的零值false，所有数字类型的零值0，字符串类型的零值空字符串，变量声明示例：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("func "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myfunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" val int"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" int "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mystr1 mystr2 string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mypar int\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" checked bool\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" checked "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" temp int\n         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"array"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#array"}},[t._v("#")]),t._v(" 数组 ")]),t._v(" "),a("p",[t._v("该语言支持两种数组类型：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("array")]),t._v(" - 索引从0开始的数组；")]),t._v(" "),a("li",[a("code",[t._v("map")]),t._v(" - 对象数组。")])]),t._v(" "),a("p",[t._v("分配和检索数组元素时，索引必须放在方括号中。数组中不支持多个索引，不能将数组元素作为 "),a("em",[t._v("myarr[i][j]")]),t._v(" 来处理。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myarr array\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mymap map\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" s string\n\nmyarr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\nmyarr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This is a line"')]),t._v("\nmymap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("777")]),t._v("\nmymap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"param"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Parameter"')]),t._v("\n\ns "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sprintf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%v, %v, %v"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myarr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" mymap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myarr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mymap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"param"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// s = 877, This is a line, Parameter")]),t._v("\n")])])]),a("p",[t._v("您还可以在 "),a("code",[t._v("[]")]),t._v(" 通过指定元素定义 "),a("code",[t._v("array")]),t._v(" 类型。对于 "),a("code",[t._v("map")]),t._v("类型数组，请使用 "),a("code",[t._v("{}")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" my map\nmy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"key1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"key3"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mya array\nmya"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("您可以在表达式中使用这样的初始化。例如，在函数参数中使用。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("DBFind"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("对于对象数组，您必须指定一个键。键用双引号（"),a("code",[t._v('""')]),t._v("）指定字符串。如果键名仅限于字母，数字和下划线，则可以省略双引号。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("数组可以包含字符串、数字、任何类型的变量名称和带 "),a("code",[t._v("$")]),t._v("符号的变量名称。支持嵌套数组，可以将不同的映射或数组指定为值。")]),t._v(" "),a("p",[t._v("表达式不能用作数组元素，使用一个变量来存储表达式结果并指定这个变量为数组元素。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myfunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"param"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// don't do this")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mystr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myarr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mymap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"ids"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("company")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyCompany"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this is ok")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val string\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"param"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sub")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"My name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"color"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Red"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"if-and-while-statements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#if-and-while-statements"}},[t._v("#")]),t._v(" If和While语句 ")]),t._v(" "),a("p",[t._v("合约语言支持标准 "),a("strong",[t._v("if")]),t._v(" 条件语句和 "),a("strong",[t._v("while")]),t._v("循环，可以在合约和函数中使用。这些语句可以相互嵌套。")]),t._v(" "),a("p",[a("strong",[t._v("if")]),t._v(" 和 "),a("strong",[t._v("while")]),t._v(" 关键字后必须跟条件语句。如果条件语句返回一个数字，则当其值为0，被视为"),a("em",[t._v("false")]),t._v("。")]),t._v(" "),a("p",[a("em",[t._v("val == 0")]),t._v(" 等于 "),a("em",[t._v("!val")]),t._v("，"),a("em",[t._v("val != 0")]),t._v(" 等于 "),a("em",[t._v("val")]),t._v("。"),a("strong",[t._v("if")]),t._v(" 语句可以有"),a("strong",[t._v("else")]),t._v(" 代码块，在 "),a("strong",[t._v("if")]),t._v(" 条件语句为 "),a("em",[t._v("false")]),t._v(" 时执行 "),a("strong",[t._v("else")]),t._v(" 。")]),t._v(" "),a("p",[t._v("以下比较运算符可用于条件语句："),a("code",[t._v("<, >, >=, <=, ==, !=, ||, &&")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" $block_key_id "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("while")]),t._v(" 循环的条件语句为 "),a("em",[t._v("true")]),t._v(" 时执行代码块。"),a("strong",[t._v("break")]),t._v("表示结束代码块的循环，想要从头开始循环请使用 "),a("strong",[t._v("continue")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i int\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("除了条件语句外，needle 还支持标准的算术运算："),a("code",[t._v("+")]),t._v(", "),a("code",[t._v("-")]),t._v(", "),a("code",[t._v("*")]),t._v(", "),a("code",[t._v("/")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("string")]),t._v(" 和 "),a("strong",[t._v("bytes")]),t._v("类型可以作为条件语句，如果类型长度大于零时，条件为 "),a("em",[t._v("true")]),t._v("，反之为 "),a("em",[t._v("false")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#functions"}},[t._v("#")]),t._v(" 函数 ")]),t._v(" "),a("p",[t._v("函数可以对合约 "),a("a",{attrs:{href:"#data-section"}},[t._v("数据部分")]),t._v("接收的数据执行一些操作：读取和写入数据库的数据、转换值的类型以及建立合约之间的交互。")]),t._v(" "),a("h4",{attrs:{id:"function-declaration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#function-declaration"}},[t._v("#")]),t._v(" 函数声明 ")]),t._v(" "),a("p",[t._v("使用 "),a("strong",[t._v("func")]),t._v("关键词声明一个函数，后面是函数名称和传递给它的参数列表及其参数类型，所有参数都用小括号括起来，用逗号分隔。在小括号之后，必须声明函数返回值的数据类型。函数体必须用大括号括起来。如果函数没有参数，那么大括号可以省略。使用"),a("code",[t._v("return")]),t._v(" 关键字返回函数返回值。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("func "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myfunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left int"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right int"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" int "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("right "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" right\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nfunc test int "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myfunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myfunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nfunc ooops "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    error "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ooops..."')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("函数不会返回错误，因为所有错误检查都是自动执行的。当在任何函数中出现错误时，合约将停止其操作并显示包含错误描述的窗口。")]),t._v(" "),a("h4",{attrs:{id:"variable-length-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#variable-length-parameters"}},[t._v("#")]),t._v(" 可变长度参数 ")]),t._v(" "),a("p",[t._v("函数可以定义可变长度参数，使用 "),a("code",[t._v("...")]),t._v("符号作为函数的最后一个参数类型，表示可变长度参数，其数据类型为"),a("code",[t._v("array")]),t._v("。可变长度参数包含从调用传递该参数变量开始的所有变量。任何类型的变量都可以传递，但是您需要处理与数据类型不匹配的冲突。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("func "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("out string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" values "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res int\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("values")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" values"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n       i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nfunc "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sum:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"optional-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optional-parameters"}},[t._v("#")]),t._v(" 可选参数 ")]),t._v(" "),a("p",[t._v("函数有很多参数，但在调用它时我们只需要其中某些参数。这样的情况下，您可以通过以下方式声明可选参数："),a("code",[t._v("func myfunc(name string).Param1(param string).Param2(param2 int) {...}")]),t._v("，这样您就可以调用任意顺序指定的参数："),a("code",[t._v('myfunc("name").Param2(100)')]),t._v("。")]),t._v(" "),a("p",[t._v("在函数体中，您可以像正常处理这些变量。如果未调用指定的可选参数，它们默认为零值。您还可以使用"),a("code",[t._v("...")]),t._v("指定可变长度参数："),a("code",[t._v("func DBFind(table string).Where(request string, params ...)")]),t._v("。然后调用它："),a("code",[t._v('DBFind("mytable").Where({"id": $myid, "type": 2})')]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("func "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("table string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columns string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("format string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("limit int"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Offset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("offset int"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" string  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nfunc "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("names")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" string "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"table"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"needle-functions-classification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#needle-functions-classification"}},[t._v("#")]),t._v(" needle 函数功能分类 ")]),t._v(" "),a("p",[t._v("数据库检索值：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#appparam"}},[t._v("AppParam")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#ecosysparam"}},[t._v("EcosysParam")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#getdatafromxlsx"}},[t._v("GetDataFromXLSX")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#dbfind"}},[t._v("DBFind")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#gethistory"}},[t._v("GetHistory")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#getrowscountxlsx"}},[t._v("GetRowsCountXLSX")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#dbrow"}},[t._v("DBRow")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#gethistoryrow"}},[t._v("GetHistoryRow")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#getblock"}},[t._v("GetBlock")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#dbselectmetrics"}},[t._v("DBSelectMetrics")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#getcolumntype"}},[t._v("GetColumnType")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#langres"}},[t._v("LangRes")])])])])]),t._v(" "),a("p",[t._v("更改数据表值：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#dbinsert"}},[t._v("DBInsert")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#dbupdateext"}},[t._v("DBUpdateExt")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#deltable"}},[t._v("DelTable")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#dbupdate"}},[t._v("DBUpdate")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#delcolumn"}},[t._v("DelColumn")])]),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("数组操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#append"}},[t._v("Append")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#len"}},[t._v("Len")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#getmapkeys"}},[t._v("GetMapKeys")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#join"}},[t._v("Join")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#row"}},[t._v("Row")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#sortedkeys"}},[t._v("SortedKeys")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#split"}},[t._v("Split")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#one"}},[t._v("One")])]),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("合约和权限操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#callcontract"}},[t._v("CallContract")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#getcontractbyid"}},[t._v("GetContractById")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#transactioninfo"}},[t._v("TransactionInfo")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#contractaccess"}},[t._v("ContractAccess")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#roleaccess"}},[t._v("RoleAccess")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#throw"}},[t._v("Throw")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#contractconditions"}},[t._v("ContractConditions")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#getcontractbyname"}},[t._v("GetContractByName")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#validatecondition"}},[t._v("ValidateCondition")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#evalcondition"}},[t._v("EvalCondition")])]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("地址操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#addresstoid"}},[t._v("AddressToId")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#idtoaddress"}},[t._v("IdToAddress")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#pubtoid"}},[t._v("PubToID")])])])])]),t._v(" "),a("p",[t._v("变量值操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#decodebase64"}},[t._v("DecodeBase64")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#formatmoney"}},[t._v("FormatMoney")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#hash"}},[t._v("Hash")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#encodebase64"}},[t._v("EncodeBase64")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#random"}},[t._v("Random")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#sha256"}},[t._v("Sha256")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#float"}},[t._v("Float")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#int"}},[t._v("Int")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#str"}},[t._v("Str")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#hextobytes"}},[t._v("HexToBytes")])]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("算术运算：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#floor"}},[t._v("Floor")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#log10"}},[t._v("Log10")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#round"}},[t._v("Round")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#log"}},[t._v("Log")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#pow"}},[t._v("Pow")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#sqrt"}},[t._v("Sqrt")])])])])]),t._v(" "),a("p",[t._v("JSON格式操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#jsonencode"}},[t._v("JSONEncode")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#jsonencodeindent"}},[t._v("JSONEncodeIndent")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#jsondecode"}},[t._v("JSONDecode")])])])])]),t._v(" "),a("p",[t._v("字符串操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#hasprefix"}},[t._v("HasPrefix")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#size"}},[t._v("Size")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#tolower"}},[t._v("ToLower")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#contains"}},[t._v("Contains")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#sprintf"}},[t._v("Sprintf")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#toupper"}},[t._v("ToUpper")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#replace"}},[t._v("Replace")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#substr"}},[t._v("Substr")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#trimspace"}},[t._v("TrimSpace")])])])])]),t._v(" "),a("p",[t._v("字节操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#stringtobytes"}},[t._v("StringToBytes")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#bytestostring"}},[t._v("BytesToString")])]),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("SQL格式的日期和时间操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#blocktime"}},[t._v("BlockTime")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#datetime"}},[t._v("DateTime")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#unixdatetime"}},[t._v("UnixDateTime")])])])])]),t._v(" "),a("p",[t._v("平台参数操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#sysparamstring"}},[t._v("SysParamString")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#sysparamint"}},[t._v("SysParamInt")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#dbupdatesysparam"}},[t._v("DBUpdateSysParam")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#updatenotifications"}},[t._v("UpdateNotifications")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#updaterolesnotifications"}},[t._v("UpdateRolesNotifications")])]),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("CLB 模式函数操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#httprequest"}},[t._v("HTTPRequest")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#httppostjson"}},[t._v("HTTPPostJSON")])]),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("主 CLB 节点函数操作：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#createobs"}},[t._v("CreateOBS")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#getobslist"}},[t._v("GetOBSList")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#runobs"}},[t._v("RunOBS")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#stopobs"}},[t._v("StopOBS")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#removeobs"}},[t._v("RemoveOBS")])]),t._v(" "),a("td")])])]),t._v(" "),a("h2",{attrs:{id:"needle-functions-reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#needle-functions-reference"}},[t._v("#")]),t._v(" needle 函数参考 ")]),t._v(" "),a("h3",{attrs:{id:"appparam"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appparam"}},[t._v("#")]),t._v(" AppParam ")]),t._v(" "),a("p",[t._v("返回指定应用程序参数的值（来自应用程序参数表 "),a("em",[t._v("app_params")]),t._v("）。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("AppParam(app int, name string, ecosystemid int) string\n")])])]),a("blockquote",[a("p",[t._v("app")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("应用程序ID。\n")])])]),a("blockquote",[a("p",[t._v("name")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("应用程序参数名称。\n")])])]),a("blockquote",[a("p",[t._v("ecosystemid")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("生态系统ID。\n")])])]),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("AppParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app_account"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"dbfind"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dbfind"}},[t._v("#")]),t._v(" DBFind ")]),t._v(" "),a("p",[t._v("根据指定参数从指定数据表中查询数据。返回一个由对象数组 "),a("em",[t._v("map")]),t._v(" 组成的数组"),a("em",[t._v("array")]),t._v("。")]),t._v(" "),a("p",[a("code",[t._v(".Row()")]),t._v(" 可获得请求记录的第一个 "),a("em",[t._v("map")]),t._v(" 元素，"),a("code",[t._v(".One(column string)")]),t._v(" 可获得请求记录中指定列的第一个 "),a("em",[t._v("map")]),t._v(" 元素。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DBFind(table string)\n    [.Columns(columns array|string)]\n    [.Where(where map)]\n    [.WhereId(id int)]\n    [.Order(order string)]\n    [.Limit(limit int)]\n    [.Offset(offset int)]\n    [.Row()]\n    [.One(column string)]\n    [.Ecosystem(ecosystemid int)] array\n")])])]),a("blockquote",[a("p",[t._v("table")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("数据表名称。\n")])])]),a("blockquote",[a("p",[t._v("сolumns")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("返回列的列表。如果未指定，则将返回所有列。\n该值为数组或使用逗号分隔的字符串。\n")])])]),a("blockquote",[a("p",[t._v("where")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v('查询条件。\n\n示例： `.Where({name: "John"})` 或者 `.Where({"id": {"$gte": 4}})`。\n\n此参数必须包含具有搜索条件的对象数组。该数组可以包含嵌套元素。\n\n遵循句法结构如下：\n')])])]),a("ul",[a("li",[a("p",[a("code",[t._v('{"field1": "value1", "field2" : "value2"}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v('field1 = "value1" AND field2 = "value2"')]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"field1": {"$eq":"value"}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v('field = "value"')]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"field1": {"$neq": "value"}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v('field != "value"')]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"field1: {"$in": [1,2,3]}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field IN (1,2,3)")]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"field1": {"$nin" : [1,2,3]}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field NOT IN (1,2,3)")]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"field": {"$lt": 12}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field < 12")]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"field": {"$lte": 12}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field <= 12")]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"field": {"$gt": 12}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field > 12")]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"field": {"$gte": 12}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field >= 12")]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"$and": [<expr1>, <expr2>, <expr3>]}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("expr1 AND expr2 AND expr3")]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{"$or": [<expr1>, <expr2>, <expr3>]}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("expr1 OR expr2 OR expr3")]),t._v("。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{field: {"$like": "value"}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field like '%value%'")]),t._v(" (模糊搜索)。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{field: {"$begin": "value"}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field like 'value%'")]),t._v(" (以 "),a("code",[t._v("value")]),t._v(" 开头)。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{field: {"$end": "value"}}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field like '%value'")]),t._v(" (以 "),a("code",[t._v("value")]),t._v(" 结尾)。")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v('{field: "$isnull"}')])]),t._v(" "),a("blockquote",[a("p",[t._v("等价于 "),a("code",[t._v("field is null")]),t._v("。")])])])]),t._v(" "),a("p",[t._v("请确保不要覆盖对象数组的键。例如，如果想用 "),a("code",[t._v("id>2 and id<5")]),t._v("语句查询，不能使用"),a("code",[t._v('{id:{"$gt": 2}, id:{"$lt": 5}}')]),t._v("，因为第一个元素会被第二个元素覆盖。应该使用如下结构查询：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"$gt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"$lt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"$and"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"$gt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"$lt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("id")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("根据ID查询。例如，`.WhereId(1)`。\n")])])]),a("blockquote",[a("p",[t._v("order")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("用于根据指定的列对结果集进行排序。默认按照 *id* 排序。\n如果仅用一个字段进行排序，则可以将其指定为字符串。多个字段排序需要指定一个字符串对象数组：\n")])])]),a("p",[t._v("降序： "),a("code",[t._v('{"field": "-1"}')]),t._v(" 等价于 "),a("code",[t._v("field desc")]),t._v("。")]),t._v(" "),a("p",[t._v("升序： "),a("code",[t._v('{"field": "1"}')]),t._v(" 等价于 "),a("code",[t._v("field asc")]),t._v("。")]),t._v(" "),a("blockquote",[a("p",[t._v("limit")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("返回条目数。默认25条，最大10000条。\n")])])]),a("blockquote",[a("p",[t._v("offset")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("偏移量。\n")])])]),a("blockquote",[a("p",[t._v("ecosystemid")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("生态系统ID。默认为查询当前生态系统的数据表。\n")])])]),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i int\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret string\n\nret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contracts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id,value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"$gt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"$lt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ret")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" vals map\n    vals "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contracts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id,value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WhereId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("One")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" nil "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"dbrow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dbrow"}},[t._v("#")]),t._v(" DBRow ")]),t._v(" "),a("p",[t._v("根据指定参数从指定数据表中查询数据。返回一个由对象数组 "),a("em",[t._v("map")]),t._v(" 组成的数组"),a("em",[t._v("array")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DBRow(table string)\n    [.Columns(columns array|string)]\n    [.Where(where map)]\n    [.WhereId(id int)]\n    [.Order(order array|string)]\n    [.Ecosystem(ecosystemid int)] map\n")])])]),a("ul",[a("li",[a("p",[t._v("table")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("columns")]),t._v(" "),a("p",[t._v("返回列的列表。如果未指定，则将返回所有列。")]),t._v(" "),a("p",[t._v("该值为数组或使用逗号分隔的字符串。")])]),t._v(" "),a("li",[a("p",[t._v("where")]),t._v(" "),a("p",[t._v("查询条件。")]),t._v(" "),a("p",[t._v("例如： "),a("code",[t._v('.Where({name: "John"})')]),t._v(" 或者 "),a("code",[t._v('.Where({"id": {"$gte": 4}})')]),t._v("。")]),t._v(" "),a("p",[t._v("更多详细信息，请参考"),a("RouterLink",{attrs:{to:"/zh-CN/topics/templates2.html#dbfind"}},[t._v("DBFind")]),t._v(" 。")],1)]),t._v(" "),a("li",[a("p",[t._v("id")]),t._v(" "),a("p",[t._v("根据ID查询。例如，"),a("code",[t._v(".WhereId(1)")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("order")]),t._v(" "),a("p",[t._v("用于根据指定的列对结果集进行排序。默认按照 "),a("em",[t._v("id")]),t._v(" 排序。")]),t._v(" "),a("p",[t._v("更多详细信息，请参考"),a("RouterLink",{attrs:{to:"/zh-CN/topics/templates2.html#dbfind"}},[t._v("DBFind")]),t._v(" 。")],1)]),t._v(" "),a("li",[a("p",[t._v("ecosystemid")]),t._v(" "),a("p",[t._v("生态系统ID。默认为查询当前生态系统的数据表。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret map\nret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBRow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contracts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"dbselectmetrics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dbselectmetrics"}},[t._v("#")]),t._v(" DBSelectMetrics ")]),t._v(" "),a("p",[t._v("返回指标的聚合数据。")]),t._v(" "),a("p",[t._v("每生成100个区块时都会更新指标标准。以1天为周期存储聚合数据。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DBSelectMetrics(metric string, timeInterval string, aggregateFunc string) array\n")])])]),a("ul",[a("li",[a("p",[t._v("metric")]),t._v(" "),a("p",[t._v("指标名称。")])]),t._v(" "),a("li",[a("p",[t._v("ecosystem_pages")]),t._v(" "),a("p",[t._v("生态系统页面数。")]),t._v(" "),a("p",[t._v("返回值: "),a("em",[t._v("key")]),t._v(" - 生态系统ID， "),a("em",[t._v("value")]),t._v(" - 生态系统页面数。")])]),t._v(" "),a("li",[a("p",[t._v("ecosystem_members")]),t._v(" "),a("p",[t._v("生态系统成员数。")]),t._v(" "),a("p",[t._v("返回值: "),a("em",[t._v("key")]),t._v(" - 生态系统ID， "),a("em",[t._v("value")]),t._v(" - 生态系统成员数。")])]),t._v(" "),a("li",[a("p",[t._v("ecosystem_tx")]),t._v(" "),a("p",[t._v("生态系统交易数。")]),t._v(" "),a("p",[t._v("返回值: "),a("em",[t._v("key")]),t._v(" - 生态系统ID， "),a("em",[t._v("value")]),t._v(" - 生态系统交易数。")])]),t._v(" "),a("li",[a("p",[t._v("timeInterval")]),t._v(" "),a("p",[t._v("聚合指标数据的时间间隔。例如："),a("code",[t._v("1 day")]),t._v("， "),a("code",[t._v("30 days")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("aggregateFunc")]),t._v(" "),a("p",[t._v("聚合函数。例如 "),a("code",[t._v("max")]),t._v(", "),a("code",[t._v("min")]),t._v(", "),a("code",[t._v("avg")]),t._v("。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" rows array\nrows "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBSelectMetrics")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem_tx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"30 days"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"avg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i int\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" row map\n   row "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"ecosysparam"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ecosysparam"}},[t._v("#")]),t._v(" EcosysParam ")]),t._v(" "),a("p",[t._v("返回生态系统参数表 "),a("em",[t._v("parameters")]),t._v(" 指定参数的值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("EcosysParam(name string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("参数名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("EcosysParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"founder_account"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"gethistory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gethistory"}},[t._v("#")]),t._v(" GetHistory ")]),t._v(" "),a("p",[t._v("返回指定数据表中条目更改的历史记录。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetHistory(table string, id int) array\n")])])]),a("ul",[a("li",[a("p",[t._v("table")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("id")]),t._v(" "),a("p",[t._v("条目ID。")])])]),t._v(" "),a("p",[a("strong",[t._v("返回值")])]),t._v(" "),a("p",[t._v("返回 "),a("em",[t._v("map")]),t._v(" 类型的对象数组。这些数组指定数据表中条目更改的历史记录。")]),t._v(" "),a("p",[t._v("每个数组都包含下一次更改之前的记录字段。")]),t._v(" "),a("p",[t._v("数组按从最近更改顺序排序。")]),t._v(" "),a("p",[t._v("数组中 "),a("em",[t._v("id")]),t._v(" 字段指向 "),a("em",[t._v("rollback_tx")]),t._v(" 表的 "),a("em",[t._v("id")]),t._v("。"),a("em",[t._v("block_id")]),t._v("代表区块ID，"),a("em",[t._v("block_time")]),t._v(" 代表区块生成时间戳。")]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" list array\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" item map\nlist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetHistory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"blocks"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"gethistoryrow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gethistoryrow"}},[t._v("#")]),t._v(" GetHistoryRow ")]),t._v(" "),a("p",[t._v("从指定数据表中指定条目的更改历史记录返回单个快照。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetHistoryRow(table string, id int, rollbackId int) map\n")])])]),a("ul",[a("li",[a("p",[t._v("table")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("id")]),t._v(" "),a("p",[t._v("条目ID。")])]),t._v(" "),a("li",[a("p",[t._v("rollbackId")]),t._v(" "),a("p",[a("em",[t._v("rollback_tx")]),t._v(" 表的条目ID。")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("$result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetHistoryRow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contracts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("205")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2358")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"getcolumntype"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getcolumntype"}},[t._v("#")]),t._v(" GetColumnType ")]),t._v(" "),a("p",[t._v("返回指定表中指定字段的数据类型。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetColumnType(table, column string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("table")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("column")]),t._v(" "),a("p",[t._v("字段名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("返回值")])]),t._v(" "),a("p",[t._v("返回以下类型: "),a("code",[t._v("text, varchar, number, money, double, bytes, json, datetime, double")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" coltype string\ncoltype "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetColumnType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"members"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"member_name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"getdatafromxlsx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getdatafromxlsx"}},[t._v("#")]),t._v(" GetDataFromXLSX ")]),t._v(" "),a("p",[t._v("从 "),a("em",[t._v("XLSX")]),t._v(" 电子表格返回数据。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetDataFromXLSX(binId int, line int, count int, sheet int) string\n")])])]),a("ul",[a("li",[a("p",[t._v("binId")]),t._v(" "),a("p",[t._v("二进制表 "),a("em",[t._v("binary")]),t._v(" 中XLSX格式的ID。")])]),t._v(" "),a("li",[a("p",[t._v("line")]),t._v(" "),a("p",[t._v("开始行数，默认从0开始。")])]),t._v(" "),a("li",[a("p",[t._v("count")]),t._v(" "),a("p",[t._v("需要返回的行数。")])]),t._v(" "),a("li",[a("p",[t._v("sheet")]),t._v(" "),a("p",[t._v("列表编号，默认从1开始。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a array\na "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetDataFromXLSX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"getrowscountxlsx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getrowscountxlsx"}},[t._v("#")]),t._v(" GetRowsCountXLSX ")]),t._v(" "),a("p",[t._v("返回指定XLSX文件行数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetRowsCountXLSX(binId int, sheet int) int\n")])])]),a("ul",[a("li",[a("p",[t._v("binId")]),t._v(" "),a("p",[t._v("二进制表 "),a("em",[t._v("binary")]),t._v(" 中XLSX格式的ID。")])]),t._v(" "),a("li",[a("p",[t._v("sheet")]),t._v(" "),a("p",[t._v("列表编号，默认从1开始。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" count int\ncount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetRowsCountXLSX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"langres"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#langres"}},[t._v("#")]),t._v(" LangRes ")]),t._v(" "),a("p",[t._v("返回指定多语言资源。其标签 "),a("em",[t._v("lang")]),t._v("为双字符语言代码，例如："),a("code",[t._v("en, zh")]),t._v("。如果所选的语言标签没有语言资源，则返回"),a("code",[t._v("en")]),t._v(" 标签的语言资源。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("LangRes(label string, lang string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("label")]),t._v(" "),a("p",[t._v("语言资源名称。")])]),t._v(" "),a("li",[a("p",[t._v("lang")]),t._v(" "),a("p",[t._v("双字符语言代码。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("warning "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("LangRes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@1confirm"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("LangRes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@1problems"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"getblock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getblock"}},[t._v("#")]),t._v(" GetBlock ")]),t._v(" "),a("p",[t._v("返回指定区块的相关信息。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetBlock(blockID int64) map\n")])])]),a("ul",[a("li",[a("p",[t._v("blockID")]),t._v(" "),a("p",[t._v("区块ID。")])])]),t._v(" "),a("p",[a("strong",[t._v("返回值")])]),t._v(" "),a("p",[t._v("返回一个对象数组：")]),t._v(" "),a("ul",[a("li",[a("p",[a("em",[t._v("id")])]),t._v(" "),a("blockquote",[a("p",[t._v("区块ID。")])])]),t._v(" "),a("li",[a("p",[a("em",[t._v("time")])]),t._v(" "),a("blockquote",[a("p",[t._v("区块生成时间戳。")])])]),t._v(" "),a("li",[a("p",[a("em",[t._v("key_id")])]),t._v(" "),a("blockquote",[a("p",[t._v("生成该区块的验证节点账户地址。")])])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b map\nb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetBlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"dbinsert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dbinsert"}},[t._v("#")]),t._v(" DBInsert ")]),t._v(" "),a("p",[t._v("添加条目到指定数据表并返回条目的ID。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DBInsert(table string, params map) int\n")])])]),a("ul",[a("li",[a("p",[t._v("tblname")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("params")]),t._v(" "),a("p",[t._v("对象数组，其中键是字段名称，值是插入的值。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBInsert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John Smith"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amount")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"dbupdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dbupdate"}},[t._v("#")]),t._v(" DBUpdate ")]),t._v(" "),a("p",[t._v("更改指定数据表中指定条目ID的列值，如果该表中不存在该条目ID，则返回错误。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DBUpdate(tblname string, id int, params map)\n")])])]),a("ul",[a("li",[a("p",[t._v("tblname")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("id")]),t._v(" "),a("p",[t._v("条目ID。")])]),t._v(" "),a("li",[a("p",[t._v("params")]),t._v(" "),a("p",[t._v("对象数组，其中键是字段名称，值是更改的新值。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John Smith"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amount")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"dbupdateext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dbupdateext"}},[t._v("#")]),t._v(" DBUpdateExt ")]),t._v(" "),a("p",[t._v("更改指定数据表中与查询条件的匹配的列值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DBUpdateExt(tblname string, where map, params map)\n")])])]),a("ul",[a("li",[a("p",[t._v("tblname")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("where")]),t._v(" "),a("p",[t._v("查询条件。")])])]),t._v(" "),a("p",[t._v("更多详细信息，请参考 "),a("RouterLink",{attrs:{to:"/zh-CN/topics/templates2.html#dbfind"}},[t._v("DBFind")]),t._v(" 。")],1),t._v(" "),a("ul",[a("li",[a("p",[t._v("params")]),t._v(" "),a("p",[t._v("对象数组，其中键是字段名称，值是更改的新值。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBUpdateExt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $key_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("ecosystem")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $ecosystem_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John Smith"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amount")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"delcolumn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delcolumn"}},[t._v("#")]),t._v(" DelColumn ")]),t._v(" "),a("p",[t._v("删除指定表中的字段。该表必须没有记录。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DelColumn(tblname string, column string)\n")])])]),a("ul",[a("li",[a("p",[t._v("tblname")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("column")]),t._v(" "),a("p",[t._v("需要删除的字段。")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DelColumn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mycolumn"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"deltable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deltable"}},[t._v("#")]),t._v(" DelTable ")]),t._v(" "),a("p",[t._v("删除指定的数据表。该表必须没有记录。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DelTable(tblname string)\n")])])]),a("ul",[a("li",[a("p",[t._v("tblname")]),t._v(" "),a("p",[t._v("数据表名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DelTable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"append"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#append"}},[t._v("#")]),t._v(" Append ")]),t._v(" "),a("p",[t._v("将任何类型的 "),a("em",[t._v("val")]),t._v(" 插入到 "),a("em",[t._v("src")]),t._v(" 数组中。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Append(src array, val anyType) array\n")])])]),a("ul",[a("li",[a("p",[t._v("src")]),t._v(" "),a("p",[t._v("原始数组。")])]),t._v(" "),a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("需要插入的值。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" list array\nlist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"new_val"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"join"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#join"}},[t._v("#")]),t._v(" Join ")]),t._v(" "),a("p",[t._v("将 "),a("em",[t._v("in")]),t._v(" 数组的元素合并到具有指定 "),a("em",[t._v("sep")]),t._v(" 分隔符的字符串中。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Join(in array, sep string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("in")]),t._v(" "),a("p",[t._v("数组名称。")])]),t._v(" "),a("li",[a("p",[t._v("sep")]),t._v(" "),a("p",[t._v("分隔符。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myarr array\nmyarr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"first"')]),t._v("\nmyarr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myarr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"split"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#split"}},[t._v("#")]),t._v(" Split ")]),t._v(" "),a("p",[t._v("使用 "),a("em",[t._v("sep")]),t._v(" 分隔符将 "),a("em",[t._v("in")]),t._v(" 字符串拆分为元素，并将它们放入数组中。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Split(in string, sep string) array\n")])])]),a("ul",[a("li",[a("p",[t._v("in")]),t._v(" "),a("p",[t._v("字符串。")])]),t._v(" "),a("li",[a("p",[t._v("sep")]),t._v(" "),a("p",[t._v("分隔符。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myarr array\nmyarr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"first,second,third"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"len"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#len"}},[t._v("#")]),t._v(" Len ")]),t._v(" "),a("p",[t._v("返回指定数组元素个数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Len(val array) int\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("数组。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mylist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"row"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#row"}},[t._v("#")]),t._v(" Row ")]),t._v(" "),a("p",[t._v("The "),a("em",[t._v("list")]),t._v(" parameter must not be specified in this case. 返回数组列表的第一个对象数组。如果列表为空，则返回结果为空。该函数主要与"),a("RouterLink",{attrs:{to:"/zh-CN/topics/templates2.html#dbfind"}},[t._v("DBFind")]),t._v("函数一起使用，使用时该函数不能指定参数。")],1),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Row(list array) map\n")])])]),a("ul",[a("li",[a("p",[t._v("list")]),t._v(" "),a("p",[t._v("由 "),a("strong",[t._v("DBFind")]),t._v(" 函数返回的对象数组。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret map\nret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contracts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id,value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WhereId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Row")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"one"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#one"}},[t._v("#")]),t._v(" One ")]),t._v(" "),a("p",[t._v("返回数组列表中第一个对象数组的字段值。如果列表数组为空，则返回nil。该函数主要与"),a("RouterLink",{attrs:{to:"/zh-CN/topics/templates2.html#dbfind"}},[t._v("DBFind")]),t._v("函数一起使用，使用时该函数不能指定参数。")],1),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("One(list array, column string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("list")]),t._v(" "),a("ul",[a("li",[t._v("由 "),a("strong",[t._v("DBFind")]),t._v(" 函数返回的对象数组。")])])]),t._v(" "),a("li",[a("p",[t._v("column")]),t._v(" "),a("ul",[a("li",[t._v("字段名称。")])])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret string\nret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contracts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Columns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id,value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WhereId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("One")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" nil "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"getmapkeys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getmapkeys"}},[t._v("#")]),t._v(" GetMapKeys ")]),t._v(" "),a("p",[t._v("返回对象数组中的键数组。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetMapKeys(val map) array\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("对象数组。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val map\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr array\nval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"k1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v1"')]),t._v("\nval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"k2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v2"')]),t._v("\narr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetMapKeys")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"sortedkeys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sortedkeys"}},[t._v("#")]),t._v(" SortedKeys ")]),t._v(" "),a("p",[t._v("返回对象数组中的键数组，该数组已排序。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("SortedKeys(val map) array\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("对象数组。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val map\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr array\nval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"k2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v2"')]),t._v("\nval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"k1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v1"')]),t._v("\narr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("SortedKeys")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"callcontract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#callcontract"}},[t._v("#")]),t._v(" CallContract ")]),t._v(" "),a("p",[t._v("调用指定名称的合约。合约数据部分的所有参数必须列入一个对象数组中。该函数返回指定合约分配给**$result** 变量的值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("CallContract(name string, params map)\n")])])]),a("ul",[a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("被调用合同的名称。")])]),t._v(" "),a("li",[a("p",[t._v("params")]),t._v(" "),a("p",[t._v("合约输入数据的关联数组。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" par map\npar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"My Name"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CallContract")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyContract"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" par"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"contractaccess"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contractaccess"}},[t._v("#")]),t._v(" ContractAccess ")]),t._v(" "),a("p",[t._v("检查执行合约的名称是否与参数中列出的名称之一匹配。通常用于控制合约对数据表访问。编辑数据表字段或在表权限部分的插入和新列字段时，在权限字段中指定该函数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ContractAccess(name string, [name string]) bool\n")])])]),a("ul",[a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("合约名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ContractAccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyContract"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ContractAccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyContract"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SimpleContract"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"contractconditions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contractconditions"}},[t._v("#")]),t._v(" ContractConditions ")]),t._v(" "),a("p",[t._v("从指定名称的合约中调用 "),a("strong",[t._v("conditions")]),t._v(" 条件部分。")]),t._v(" "),a("p",[t._v("对于该类的合约，数据部分必须为空。如果条件部分执行没有错误，则返回"),a("em",[t._v("true")]),t._v("。如果在执行期间生成错误，则父合约也将以此错误结束。该函数通常用于控制合约对表的访问，并且可以在编辑系统表时在权限字段中调用。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ContractConditions(name string, [name string]) bool\n")])])]),a("ul",[a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("合约名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ContractConditions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MainCondition"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"evalcondition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#evalcondition"}},[t._v("#")]),t._v(" EvalCondition ")]),t._v(" "),a("p",[t._v("从 "),a("em",[t._v("tablename")]),t._v(" 表中获取带有 "),a("em",[t._v("'name'")]),t._v(" 字段记录中的 "),a("em",[t._v("condfield")]),t._v("字段的值，并检查 "),a("em",[t._v("condfield")]),t._v(" 字段值的条件。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("EvalCondition(tablename string, name string, condfield string)\n")])])]),a("ul",[a("li",[a("p",[t._v("tablename")]),t._v(" "),a("p",[t._v("数据表名称。")])]),t._v(" "),a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("根据 'name' 字段查询值。")])]),t._v(" "),a("li",[a("p",[t._v("condfield")]),t._v(" "),a("p",[t._v("需要检查条件的字段名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("EvalCondition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("menu")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("conditions")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"getcontractbyid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getcontractbyid"}},[t._v("#")]),t._v(" GetContractById ")]),t._v(" "),a("p",[t._v("该函数通过合约ID返回其合约名称。如果找不到合约，则返回空字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetContractById(id int) string\n")])])]),a("ul",[a("li",[a("p",[t._v("id")]),t._v(" "),a("p",[t._v("在合约表 "),a("em",[t._v("contracts")]),t._v(" 的合约ID。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" name string\nname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetContractById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$IdContract"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"getcontractbyname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getcontractbyname"}},[t._v("#")]),t._v(" GetContractByName ")]),t._v(" "),a("p",[t._v("该函数通过合约名称返回其合约ID。如果找不到合约，则返回零。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetContractByName(name string) int\n")])])]),a("ul",[a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("在合约表 "),a("em",[t._v("contracts")]),t._v(" 的合约名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" id int\nid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetContractByName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("NewBlock")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"roleaccess"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#roleaccess"}},[t._v("#")]),t._v(" RoleAccess ")]),t._v(" "),a("p",[t._v("检查合约调用者的角色ID是否与参数中指定的ID之一匹配。")]),t._v(" "),a("p",[t._v("使用该函数可以控制对数据表和其他数据的合约访问。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("RoleAccess(id int, [id int]) bool\n")])])]),a("ul",[a("li",[a("p",[t._v("id")]),t._v(" "),a("p",[t._v("角色ID。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("RoleAccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("RoleAccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"transactioninfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transactioninfo"}},[t._v("#")]),t._v(" TransactionInfo ")]),t._v(" "),a("p",[t._v("按指定的哈希值查询交易并返回已执行的合约及其参数的信息。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("TransactionInfo(hash: string)\n")])])]),a("ul",[a("li",[a("p",[t._v("hash")]),t._v(" "),a("p",[t._v("十六进制字符串格式的交易哈希。")])])]),t._v(" "),a("p",[a("strong",[t._v("返回值")])]),t._v(" "),a("p",[t._v("该函数返回json格式的字符串：")]),t._v(" "),a("blockquote",[a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"contract"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"params"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"val"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"block"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"N"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("contract")]),t._v(" "),a("p",[t._v("合约名称。")])]),t._v(" "),a("li",[a("p",[t._v("params")]),t._v(" "),a("p",[t._v("传递给合约参数的数据。")])]),t._v(" "),a("li",[a("p",[t._v("block")]),t._v(" "),a("p",[t._v("处理该交易的区块ID。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" out map\nout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("JSONDecode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TransactionInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"throw"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#throw"}},[t._v("#")]),t._v(" Throw ")]),t._v(" "),a("p",[t._v("生成 "),a("em",[t._v("exception")]),t._v(" 异常类型的错误。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Throw(ErrorId string, ErrDescription string)\n")])])]),a("ul",[a("li",[a("p",[t._v("ErrorId")]),t._v(" "),a("p",[t._v("错误标识符。")])]),t._v(" "),a("li",[a("p",[t._v("ErrDescription")]),t._v(" "),a("p",[t._v("错误描述。")])])]),t._v(" "),a("p",[a("strong",[t._v("返回值")])]),t._v(" "),a("p",[t._v("该类交易结果的格式：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exception"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"error"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Error description"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Error ID"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Throw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Problem"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"There is a problem"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"validatecondition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validatecondition"}},[t._v("#")]),t._v(" ValidateCondition ")]),t._v(" "),a("p",[t._v("尝试编译 "),a("em",[t._v("condition")]),t._v("参数指定的条件。如果在编译过程中发生错误，则生成错误并终止调用合约。该函数旨在检查条件格式的正确性。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ValidateCondition(condition string, state int)\n")])])]),a("ul",[a("li",[a("p",[t._v("condition")]),t._v(" "),a("p",[t._v("需要验证的条件格式。")])]),t._v(" "),a("li",[a("p",[t._v("state")]),t._v(" "),a("p",[t._v("生态系统ID。如果检查全局条件，请指定为0。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ValidateCondition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('ContractAccess("@1MyContract")')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"addresstoid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#addresstoid"}},[t._v("#")]),t._v(" AddressToId ")]),t._v(" "),a("p",[t._v("根据钱包地址返回对应的账户地址。如果指定了无效的地址，则返回 '0'。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("AddressToId(address string) int\n")])])]),a("ul",[a("li",[a("p",[t._v("address")]),t._v(" "),a("p",[t._v("钱包地址 "),a("code",[t._v("XXXX-...-XXXX")]),t._v(" 格式或数字形式。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wallet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddressToId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Recipient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"idtoaddress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idtoaddress"}},[t._v("#")]),t._v(" IdToAddress ")]),t._v(" "),a("p",[t._v("根据账户地址返回对应的钱包地址。如果指定了无效的地址，则返回无效地址'invalid'。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IdToAddress(id int) string\n")])])]),a("ul",[a("li",[a("p",[t._v("id")]),t._v(" "),a("p",[t._v("账户地址。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("$address "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("IdToAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"pubtoid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pubtoid"}},[t._v("#")]),t._v(" PubToID ")]),t._v(" "),a("p",[t._v("通过十六进制编码格式的公钥返回帐户地址。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PubToID(hexkey string) int\n")])])]),a("ul",[a("li",[a("p",[t._v("hexkey")]),t._v(" "),a("p",[t._v("十六进制编码格式的公钥。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" wallet int\nwallet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("PubToID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"04fa5e78.....34abd6"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"decodebase64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#decodebase64"}},[t._v("#")]),t._v(" DecodeBase64 ")]),t._v(" "),a("p",[t._v("通过指定base64编码格式返回字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DecodeBase64(input string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("input")]),t._v(" "),a("p",[t._v("base64编码格式字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DecodeBase64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mybase64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"encodebase64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#encodebase64"}},[t._v("#")]),t._v(" EncodeBase64 ")]),t._v(" "),a("p",[t._v("通过指定字符串返回base64编码格式的字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("EncodeBase64(input string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("input")]),t._v(" "),a("p",[t._v("需要编码的字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" base64str string\nbase64str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("EncodeBase64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my text"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"float"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#float"}},[t._v("#")]),t._v(" Float ")]),t._v(" "),a("p",[t._v("将整数或字符串转换为浮点数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Float(val int|string) float\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("整数或字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"567.989"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("232")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"hextobytes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hextobytes"}},[t._v("#")]),t._v(" HexToBytes ")]),t._v(" "),a("p",[t._v("将十六进制编码格式的字符串转换为字节类型 "),a("em",[t._v("bytes")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HexToBytes(hexdata string) bytes\n")])])]),a("ul",[a("li",[a("p",[t._v("hexdata")]),t._v(" "),a("p",[t._v("十六进制编码格式的字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val bytes\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HexToBytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"34fe4501a4d80094"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"formatmoney"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#formatmoney"}},[t._v("#")]),t._v(" FormatMoney ")]),t._v(" "),a("p",[t._v("返回 "),a("em",[t._v("exp / 10 ^ digit")]),t._v(" 的字符串值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("FormatMoney(exp string, digit int) string\n")])])]),a("ul",[a("li",[a("p",[t._v("exp")]),t._v(" "),a("p",[t._v("数字的字符串格式。")])]),t._v(" "),a("li",[a("p",[t._v("digit")]),t._v(" "),a("p",[a("code",[t._v("exp/10^digit")]),t._v("\n表达式中10的指数，该值可以是正数或负数。正值决定了小数点后的位数。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("FormatMoney")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"78236475917384"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"random"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#random"}},[t._v("#")]),t._v(" Random ")]),t._v(" "),a("p",[t._v("返回min和max之间的随机数（min <= result <max）。min和max都必须是正数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Random(min int, max int) int\n")])])]),a("ul",[a("li",[a("p",[t._v("min")]),t._v(" "),a("p",[t._v("随机数的最小值。")])]),t._v(" "),a("li",[a("p",[t._v("max")]),t._v(" "),a("p",[t._v("随机数的上限。生成的随机数将小于该值。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"int"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#int"}},[t._v("#")]),t._v(" Int ")]),t._v(" "),a("p",[t._v("将字符串值转换为整数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Int(val string) int\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("数字的字符串格式。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("mystr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-37763499007332"')]),t._v("\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mystr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hash"}},[t._v("#")]),t._v(" Hash ")]),t._v(" "),a("p",[t._v("返回指定字节数组或字符串的哈希，由系统加密库crypto生成的哈希。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Hash(val interface{}) string, error\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("字符串或字节数组。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" hash string\nhash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test message"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"sha256"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sha256"}},[t._v("#")]),t._v(" Sha256 ")]),t._v(" "),a("p",[t._v("返回指定字符串的 "),a("strong",[t._v("SHA256")]),t._v(" 哈希值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Sha256(val string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("需要 "),a("strong",[t._v("Sha256")]),t._v(" 哈希运算的字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" sha string\nsha "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sha256")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test message"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"str"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#str"}},[t._v("#")]),t._v(" Str ")]),t._v(" "),a("p",[t._v("将整数 "),a("em",[t._v("int")]),t._v(" 或浮点数 "),a("em",[t._v("float")]),t._v(" 转换为字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Str(val int|float) string\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("整数或浮点数。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("myfloat "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.678")]),t._v("\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myfloat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"jsonencode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsonencode"}},[t._v("#")]),t._v(" JSONEncode ")]),t._v(" "),a("p",[t._v("将数字、字符串或数组转换为JSON格式的字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("JSONEncode(src int|float|string|map|array) string\n")])])]),a("ul",[a("li",[a("p",[t._v("src")]),t._v(" "),a("p",[t._v("需转换的数据。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mydata map\nmydata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" json string\njson "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("JSONEncode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mydata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"jsonencodeindent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsonencodeindent"}},[t._v("#")]),t._v(" JSONEncodeIndent ")]),t._v(" "),a("p",[t._v("使用指定的缩进将数字、字符串或数组转换为JSON格式的字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("JSONEncodeIndent(src int|float|string|map|array, indent string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("src")]),t._v(" "),a("p",[t._v("需要转换的数据。")])]),t._v(" "),a("li",[a("p",[t._v("indent")]),t._v(" "),a("p",[t._v("用作缩进的字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mydata map\nmydata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" json string\njson "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("JSONEncodeIndent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mydata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\t"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"jsondecode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsondecode"}},[t._v("#")]),t._v(" JSONDecode ")]),t._v(" "),a("p",[t._v("将JSON格式的字符串转换为数字，字符串或数组。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("JSONDecode(src string) int|float|string|map|array\n")])])]),a("ul",[a("li",[a("p",[t._v("src")]),t._v(" "),a("p",[t._v("包含JSON格式数据的字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mydata map\nmydata "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("JSONDecode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('{"name": "John Smith", "company": "Smith\'s company"}')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"hasprefix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hasprefix"}},[t._v("#")]),t._v(" HasPrefix ")]),t._v(" "),a("p",[t._v("检查字符串是否以指定的字符串开头。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HasPrefix(s string, prefix string) bool\n")])])]),a("ul",[a("li",[a("p",[t._v("s")]),t._v(" "),a("p",[t._v("字符串。")])]),t._v(" "),a("li",[a("p",[t._v("prefix")]),t._v(" "),a("p",[t._v("需要检查的前缀。")])])]),t._v(" "),a("p",[a("strong",[t._v("返回值")])]),t._v(" "),a("p",[t._v("如果字符串以指定的字符串开头，则返回 "),a("code",[t._v("true")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HasPrefix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("my")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"contains"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contains"}},[t._v("#")]),t._v(" Contains ")]),t._v(" "),a("p",[t._v("检查字符串是否包含指定的子字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Contains(s string, substr string) bool\n")])])]),a("ul",[a("li",[a("p",[t._v("s")]),t._v(" "),a("p",[t._v("字符串。")])]),t._v(" "),a("li",[a("p",[t._v("substr")]),t._v(" "),a("p",[t._v("子字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("返回值")])]),t._v(" "),a("p",[t._v("如果字符串包含子字符串，则返回 "),a("code",[t._v("true")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Contains")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("my")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"replace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#replace"}},[t._v("#")]),t._v(" Replace ")]),t._v(" "),a("p",[t._v("把字符串中的 old（旧字符串） 替换成 new(新字符串)。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Replace(s string, old string, new string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("s")]),t._v(" "),a("p",[t._v("原始字符串。")])]),t._v(" "),a("li",[a("p",[t._v("old")]),t._v(" "),a("p",[t._v("将被替换的子字符串。")])]),t._v(" "),a("li",[a("p",[t._v("new")]),t._v(" "),a("p",[t._v("新字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("me")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("you")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#size"}},[t._v("#")]),t._v(" Size ")]),t._v(" "),a("p",[t._v("返回指定字符串的字节数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Size(val string) int\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" len int\nlen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"sprintf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sprintf"}},[t._v("#")]),t._v(" Sprintf ")]),t._v(" "),a("p",[t._v("该函数根据指定的模板和参数创建一个字符串。")]),t._v(" "),a("p",[t._v("可用的通配符：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("code",[t._v("%d")]),t._v(" (整数)")]),t._v(" "),a("li",[a("code",[t._v("%s")]),t._v(" (字符串)")]),t._v(" "),a("li",[a("code",[t._v("%f")]),t._v(" (浮点型)")]),t._v(" "),a("li",[a("code",[t._v("%v")]),t._v(" (任何类型)")])])]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Sprintf(pattern string, val ...) string\n")])])]),a("ul",[a("li",[a("p",[t._v("pattern")]),t._v(" "),a("p",[t._v("字符串的模板。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("out "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sprintf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%s=%d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mypar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6448")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"substr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#substr"}},[t._v("#")]),t._v(" Substr ")]),t._v(" "),a("p",[t._v("返回从偏移量 "),a("em",[t._v("offset")]),t._v("(默认从0开始计算)开始的指定字符串中获取的子字符串，其最大长度限制为"),a("em",[t._v("length")]),t._v("。")]),t._v(" "),a("p",[t._v("如果偏移量或长度限制小于零、偏移量大于长度限制的值，则返回一个空字符串。")]),t._v(" "),a("p",[t._v("如果偏移量和长度限制的总和大于字符串字节数，则子字符串将从偏移量开始返回到指定字符串的末尾。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Substr(s string, offset int, length int) string\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("字符串。")])]),t._v(" "),a("li",[a("p",[t._v("offset")]),t._v(" "),a("p",[t._v("偏移量。")])]),t._v(" "),a("li",[a("p",[t._v("length")]),t._v(" "),a("p",[t._v("子字符串的长度限制。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" s string\ns "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Substr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"tolower"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tolower"}},[t._v("#")]),t._v(" ToLower ")]),t._v(" "),a("p",[t._v("以小写形式返回指定的字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ToLower(val string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToLower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"toupper"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#toupper"}},[t._v("#")]),t._v(" ToUpper ")]),t._v(" "),a("p",[t._v("以大写形式返回指定的字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ToUpper(val string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToUpper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"trimspace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#trimspace"}},[t._v("#")]),t._v(" TrimSpace ")]),t._v(" "),a("p",[t._v("删除指定字符串的前后空格、制表符和换行符号。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("TrimSpace(val string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("val")]),t._v(" "),a("p",[t._v("字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" val string\nval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TrimSpace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  mystr  "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"floor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#floor"}},[t._v("#")]),t._v(" Floor ")]),t._v(" "),a("p",[t._v("返回小于或等于指定数字、浮点数和字符串的最大整数值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Floor(x float|int|string) int\n")])])]),a("ul",[a("li",[a("p",[t._v("x")]),t._v(" "),a("p",[t._v("数字、浮点数和字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// returns 5")]),t._v("\n")])])]),a("h3",{attrs:{id:"log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[t._v("#")]),t._v(" Log ")]),t._v(" "),a("p",[t._v("返回指定数字、浮点数和字符串的自然对数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Log(x float|int|string) float\n")])])]),a("ul",[a("li",[a("p",[t._v("x")]),t._v(" "),a("p",[t._v("数字、浮点数和字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"log10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log10"}},[t._v("#")]),t._v(" Log10 ")]),t._v(" "),a("p",[t._v("返回指定数字、浮点数和字符串的以10为底的对数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Log10(x float|int|string) float\n")])])]),a("ul",[a("li",[a("p",[t._v("x")]),t._v(" "),a("p",[t._v("数字、浮点数和字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Log10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"pow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pow"}},[t._v("#")]),t._v(" Pow ")]),t._v(" "),a("p",[t._v("返回(x^y^)，y是以x为基数的指数。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Pow(x float|int|string, y float|int|string) float\n")])])]),a("ul",[a("li",[a("p",[t._v("x")]),t._v(" "),a("p",[t._v("基数。")])]),t._v(" "),a("li",[a("p",[t._v("y")]),t._v(" "),a("p",[t._v("指数。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Pow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"round"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#round"}},[t._v("#")]),t._v(" Round ")]),t._v(" "),a("p",[t._v("返回指定数字四舍五入到最近整数的值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Round(x float|int|string) int\n")])])]),a("ul",[a("li",[a("p",[t._v("x")]),t._v(" "),a("p",[t._v("数字。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Round")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"sqrt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sqrt"}},[t._v("#")]),t._v(" Sqrt ")]),t._v(" "),a("p",[t._v("返回指定数字的平方根。")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Sqrt(x float|int|string) float\n")])])]),a("ul",[a("li",[a("p",[t._v("x")]),t._v(" "),a("p",[t._v("数字。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sqrt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("225")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"stringtobytes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stringtobytes"}},[t._v("#")]),t._v(" StringToBytes ")]),t._v(" "),a("p",[t._v("将字符串转换为字节。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("StringToBytes(src string) bytes\n")])])]),a("ul",[a("li",[a("p",[t._v("src")]),t._v(" "),a("p",[t._v("字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b bytes\nb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("StringToBytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"bytestostring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bytestostring"}},[t._v("#")]),t._v(" BytesToString ")]),t._v(" "),a("p",[t._v("将字节转换为字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("BytesToString(src bytes) string\n")])])]),a("ul",[a("li",[a("p",[t._v("src")]),t._v(" "),a("p",[t._v("字节。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" s string\ns "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("BytesToString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$Bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"sysparamstring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysparamstring"}},[t._v("#")]),t._v(" SysParamString ")]),t._v(" "),a("p",[t._v("返回指定平台参数的值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("SysParamString(name string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("参数名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("SysParamString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("blockchain_url")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"sysparamint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysparamint"}},[t._v("#")]),t._v(" SysParamInt ")]),t._v(" "),a("p",[t._v("以数字的形式返回指定平台参数的值。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("SysParamInt(name string) int\n")])])]),a("ul",[a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("参数名称。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("maxcol "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("SysParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("max_columns")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"dbupdatesysparam"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dbupdatesysparam"}},[t._v("#")]),t._v(" DBUpdateSysParam ")]),t._v(" "),a("p",[t._v("更新平台参数的值和条件。如果您不需要更改值或条件，请在相应参数中指定空字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DBUpdateSysParam(name, value, conditions string)\n")])])]),a("ul",[a("li",[a("p",[t._v("name")]),t._v(" "),a("p",[t._v("平台参数名称。")])]),t._v(" "),a("li",[a("p",[t._v("value")]),t._v(" "),a("p",[t._v("参数的新值。")])]),t._v(" "),a("li",[a("p",[t._v("conditions")]),t._v(" "),a("p",[t._v("更改参数的新条件。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBUpdateSysParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("fuel_rate")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("400000000000")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"updatenotifications"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updatenotifications"}},[t._v("#")]),t._v(" UpdateNotifications ")]),t._v(" "),a("p",[t._v("从数据库中获取指定键的通知列表，并将获取的通知发送到Centrifugo。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("UpdateNotifications(ecosystemID int, keys int ...)\n")])])]),a("ul",[a("li",[a("p",[t._v("ecosystemID")]),t._v(" "),a("p",[t._v("生态系统ID。")])]),t._v(" "),a("li",[a("p",[t._v("key")]),t._v(" "),a("p",[t._v("账户地址列表，以逗号分隔。或您可以使用一个数组指定账户地址列表。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UpdateNotifications")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$ecosystem_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $key_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23345355454")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("35545454554")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UpdateNotifications")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("$key_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23345355454")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("35545454554")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"updaterolesnotifications"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updaterolesnotifications"}},[t._v("#")]),t._v(" UpdateRolesNotifications ")]),t._v(" "),a("p",[t._v("获取数据库中指定角色ID的所有账户地址的通知列表，并将获取的通知发送到Centrifugo。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("UpdateRolesNotifications(ecosystemID int, roles int ...)\n")])])]),a("ul",[a("li",[a("p",[t._v("ecosystemID")]),t._v(" "),a("p",[t._v("生态系统ID。")])]),t._v(" "),a("li",[a("p",[t._v("roles")]),t._v(" "),a("p",[t._v("角色ID列表，以逗号分隔。或您可以使用一个数组指定角色ID列表。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UpdateRolesNotifications")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"httprequest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#httprequest"}},[t._v("#")]),t._v(" HTTPRequest ")]),t._v(" "),a("p",[t._v("将HTTP请求发送到指定的地址。")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("该函数仅可用于 CLB 合约。\n")])])]),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HTTPRequest(url string, method string, heads map, pars map) string\n")])])]),a("ul",[a("li",[a("p",[t._v("url")]),t._v(" "),a("p",[t._v("发送的请求地址。")])]),t._v(" "),a("li",[a("p",[t._v("method")]),t._v(" "),a("p",[t._v("请求类型（GET或POST）。")])]),t._v(" "),a("li",[a("p",[t._v("heads")]),t._v(" "),a("p",[t._v("请求头，对象数组。")])]),t._v(" "),a("li",[a("p",[t._v("pars")]),t._v(" "),a("p",[t._v("请求参数。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret string\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret string \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret string\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" pars"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" heads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" json map\nheads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bearer "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" $auth_token\npars"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("\nret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HTTPRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:7079/api/v2/content/page/default_page"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" heads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pars"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\njson "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("JSONToMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"httppostjson"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#httppostjson"}},[t._v("#")]),t._v(" HTTPPostJSON ")]),t._v(" "),a("p",[t._v("该函数类似于 "),a("em",[t._v("HTTPRequest")]),t._v(" 函数，但它发送POST请求，请求参数为字符串。")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("该函数仅可用于 CLB 合约。\n")])])]),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("HTTPPostJSON(url string, heads map, pars string) string\n")])])]),a("ul",[a("li",[a("p",[t._v("url")]),t._v(" "),a("p",[t._v("发送的请求地址。")])]),t._v(" "),a("li",[a("p",[t._v("heads")]),t._v(" "),a("p",[t._v("请求头，对象数组。")])]),t._v(" "),a("li",[a("p",[t._v("pars")]),t._v(" "),a("p",[t._v("请求参数，JSON字符串。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret string\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret string \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret string\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" heads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" json map\nheads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bearer "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" $auth_token\nret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HTTPPostJSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:7079/api/v2/content/page/default_page"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" heads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('{"obs":"true"}')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\njson "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("JSONToMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"blocktime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blocktime"}},[t._v("#")]),t._v(" BlockTime ")]),t._v(" "),a("p",[t._v("以SQL格式返回区块的生成时间。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("BlockTime()\n")])])]),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mytime string\nmytime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("BlockTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DBInsert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mytable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" mytime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"datetime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#datetime"}},[t._v("#")]),t._v(" DateTime ")]),t._v(" "),a("p",[t._v("将时间戳unixtime转换为 [YYYY-MM-DD HH：MI：SS]{.title-ref} 格式的字符串。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DateTime(unixtime int) string\n")])])]),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1532325250")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"unixdatetime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unixdatetime"}},[t._v("#")]),t._v(" UnixDateTime ")]),t._v(" "),a("p",[t._v("将 [YYYY-MM-DD HH：MI：SS]{.title-ref} 格式的字符串转换为时间戳unixtime。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("UnixDateTime(datetime string) int\n")])])]),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("UnixDateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-07-20 14:23:10"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"createobs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#createobs"}},[t._v("#")]),t._v(" CreateOBS ")]),t._v(" "),a("p",[t._v("创建子 CLB 。")]),t._v(" "),a("p",[t._v("该函数只能在主 CLB 模式下使用。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("CreateOBS(OBSName string, DBUser string, DBPassword string, OBSAPIPort int)\n")])])]),a("ul",[a("li",[a("p",[t._v("OBSName")]),t._v(" "),a("p",[t._v("CLB 的名称。")])]),t._v(" "),a("li",[a("p",[t._v("DBUser")]),t._v(" "),a("p",[t._v("数据库的角色名称。")])]),t._v(" "),a("li",[a("p",[t._v("DBPassword")]),t._v(" "),a("p",[t._v("该角色的密码。")])]),t._v(" "),a("li",[a("p",[t._v("OBSAPIPort")]),t._v(" "),a("p",[t._v("API请求的端口。")])])]),t._v(" "),a("p",[a("strong",[t._v("示例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateOBS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obsname"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obsuser"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"obspwd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8095")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"getobslist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getobslist"}},[t._v("#")]),t._v(" GetOBSList ")]),t._v(" "),a("p",[t._v("返回子 CLB 列表。")]),t._v(" "),a("p",[t._v("该函数只能在主 CLB 模式下使用。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GetOBSList()\n")])])]),a("p",[a("strong",[t._v("返回值")])]),t._v(" "),a("p",[t._v("一个对象数组，其中键是 CLB 名称和值是进程状态。")]),t._v(" "),a("h3",{attrs:{id:"runobs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#runobs"}},[t._v("#")]),t._v(" RunOBS ")]),t._v(" "),a("p",[t._v("运行 CLB 的进程。")]),t._v(" "),a("p",[t._v("该函数只能在主 CLB 模式下使用。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("RunOBS(OBSName string)\n")])])]),a("ul",[a("li",[a("p",[t._v("OBSName")]),t._v(" "),a("p",[t._v("CLB 名称。")])])]),t._v(" "),a("p",[t._v("只能包含字母和数字，不能使用空格符号。")]),t._v(" "),a("h3",{attrs:{id:"stopobs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stopobs"}},[t._v("#")]),t._v(" StopOBS ")]),t._v(" "),a("p",[t._v("停止指定 CLB 的进程。")]),t._v(" "),a("p",[t._v("该函数只能在主 CLB 模式下使用。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("StopOBS(OBSName string)\n")])])]),a("ul",[a("li",[a("p",[t._v("OBSName")]),t._v(" "),a("p",[t._v("CLB 名称。")])])]),t._v(" "),a("p",[t._v("只能包含字母和数字，不能使用空格符号。")]),t._v(" "),a("h3",{attrs:{id:"removeobs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#removeobs"}},[t._v("#")]),t._v(" RemoveOBS ")]),t._v(" "),a("p",[t._v("删除指定 CLB 的进程。")]),t._v(" "),a("p",[t._v("该函数只能在主 CLB 模式下使用。")]),t._v(" "),a("p",[a("strong",[t._v("语法")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("RemoveOBS(OBSName string)\n")])])]),a("ul",[a("li",[a("p",[t._v("OBSName")]),t._v(" "),a("p",[t._v("CLB 名称。")]),t._v(" "),a("p",[t._v("只能包含字母和数字，不能使用空格符号。")])])]),t._v(" "),a("h2",{attrs:{id:"system-contracts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system-contracts"}},[t._v("#")]),t._v(" System Contracts ")]),t._v(" "),a("p",[t._v("系统合约是在启动 IBAX区块链平台时默认创建的。所有这些合约都是在第一个生态系统中创建的，这就是为什么你需要指定其全名来从其他生态系统中调用它们， 例如，"),a("code",[t._v("@1NewContract")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"newecosystem"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newecosystem"}},[t._v("#")]),t._v(" NewEcosystem ")]),t._v(" "),a("p",[t._v("创建一个新的生态系统，要获取创建的生态系统ID，必须引用在"),a("RouterLink",{attrs:{to:"/zh-CN/reference/api2.html#txstatus"}},[t._v("txstatus")]),t._v(" 中返回的 "),a("em",[t._v("result")]),t._v(" 字段")],1),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 生态系统的名称，可以更改该名称。")])])]),t._v(" "),a("h3",{attrs:{id:"editecosystemname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editecosystemname"}},[t._v("#")]),t._v(" EditEcosystemName ")]),t._v(" "),a("p",[t._v("更改 "),a("em",[t._v("1_ecosystems")]),t._v(" 表中生态系统的名称，该表仅存在于第一个生态系统中。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("EcosystemID int")]),t._v(" - 更改其名称的生态系统ID；")]),t._v(" "),a("li",[a("em",[t._v("NewName string")]),t._v(" - 生态系统新名称。")])])]),t._v(" "),a("h3",{attrs:{id:"newcontract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newcontract"}},[t._v("#")]),t._v(" NewContract ")]),t._v(" "),a("p",[t._v("在当前生态系统中创建一个新合约。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("ApplicationId int")]),t._v(" - 新合约所属的应用程序；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 合约源码，上层必须只有一个合约；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改该合约的条件；")]),t._v(" "),a("li",[a("em",[t._v('TokenEcosystem int "optional"')]),t._v(" - 生态系统ID，当合约被激活时，将使用哪种通证进行交易。")])]),t._v(" "),a("h3",{attrs:{id:"editcontract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editcontract"}},[t._v("#")]),t._v(" EditContract ")]),t._v(" "),a("p",[t._v("编辑当前生态系统中的合约。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 更改的合约ID；")]),t._v(" "),a("li",[a("em",[t._v('Value string "optional"')]),t._v(" - 合约源码；")]),t._v(" "),a("li",[a("em",[t._v('Conditions string "optional"')]),t._v(" - 更改该合约的条件。")])])]),t._v(" "),a("h3",{attrs:{id:"bindwallet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bindwallet"}},[t._v("#")]),t._v(" BindWallet ")]),t._v(" "),a("p",[t._v("将合约绑定到当前生态系统中的钱包地址。合同绑定后，该地址将支付执行该合约的费用。参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 要绑定的合约ID。")]),t._v(" "),a("li",[a("em",[t._v('WalletId string "optional"')]),t._v(" - 合约绑定的钱包地址。")])])]),t._v(" "),a("h3",{attrs:{id:"unbindwallet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unbindwallet"}},[t._v("#")]),t._v(" UnbindWallet ")]),t._v(" "),a("p",[t._v("从当前生态系统中的钱包地址取消绑定合约，只有已绑定该合约的地址才能取消绑定。合约未绑定后，执行合约的用户将支付执行费用。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 绑定的合同ID。")])])]),t._v(" "),a("h3",{attrs:{id:"newparameter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newparameter"}},[t._v("#")]),t._v(" NewParameter ")]),t._v(" "),a("p",[t._v("早当前生态系统添加了一个新生态系统参数。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 参数名称；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 参数值；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改参数的条件。")])])]),t._v(" "),a("h3",{attrs:{id:"editparameter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editparameter"}},[t._v("#")]),t._v(" EditParameter ")]),t._v(" "),a("p",[t._v("更改当前生态系统中的现有生态系统参数。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 要更改的参数名称；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 新参数值；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改参数的新条件。")])])]),t._v(" "),a("h3",{attrs:{id:"newmenu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newmenu"}},[t._v("#")]),t._v(" NewMenu ")]),t._v(" "),a("p",[t._v("在当前生态系统中添加一个新菜单。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 菜单名称；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 菜单源码；")]),t._v(" "),a("li",[a("em",[t._v('Title string "optional"')]),t._v(" - 菜单标题；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改菜单的条件。")])])]),t._v(" "),a("h3",{attrs:{id:"editmenu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editmenu"}},[t._v("#")]),t._v(" EditMenu ")]),t._v(" "),a("p",[t._v("更改当前生态系统中的现有菜单。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 要更改的菜单ID；")]),t._v(" "),a("li",[a("em",[t._v('Value string "optional"')]),t._v(" - 新菜单源码；")]),t._v(" "),a("li",[a("em",[t._v('Title string "optional"')]),t._v(" - 新菜单标题；")]),t._v(" "),a("li",[a("em",[t._v('Conditions string "optional"')]),t._v(" - 更改菜单的新条件。")])])]),t._v(" "),a("h3",{attrs:{id:"appendmenu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appendmenu"}},[t._v("#")]),t._v(" AppendMenu ")]),t._v(" "),a("p",[t._v("将源码内容添加到当前生态系统中的现有\b菜单。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 菜单ID；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 要添加的源码。")])])]),t._v(" "),a("h3",{attrs:{id:"newpage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newpage"}},[t._v("#")]),t._v(" NewPage ")]),t._v(" "),a("p",[t._v("在当前生态系统中添加新页面。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 页面名称；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 页面源码；")]),t._v(" "),a("li",[a("em",[t._v("Menu string")]),t._v(" - 关联该页面的菜单名称；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改页面的条件；")]),t._v(" "),a("li",[a("em",[t._v('ValidateCount int "optional"')]),t._v(" - 页面验证所需的节点数。如果未指定此参数，则使用 "),a("em",[t._v("min_page_validate_count")]),t._v(" 生态系统参数值。\n该值不能小于 "),a("em",[t._v("min_page_validate_count")]),t._v(" 且大于 "),a("em",[t._v("max_page_validate_count")]),t._v("；")]),t._v(" "),a("li",[a("em",[t._v('ValidateMode int "optional"')]),t._v(" - 页面有效性检查模式。值为0表示在加载页面时检查页面。值为1表示在加载和离开页面时检查页面。")])])]),t._v(" "),a("h3",{attrs:{id:"editpage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editpage"}},[t._v("#")]),t._v(" EditPage ")]),t._v(" "),a("p",[t._v("更改当前生态系统中的现有页面。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 要更改的页面ID；")]),t._v(" "),a("li",[a("em",[t._v('Value string "optional"')]),t._v(" - 新页面源码；")]),t._v(" "),a("li",[a("em",[t._v('Menu string "optional"')]),t._v(" - 关联该页面的新菜单名称；")]),t._v(" "),a("li",[a("em",[t._v('Conditions string "optional"')]),t._v(" - 更改页面的新条件；")]),t._v(" "),a("li",[a("em",[t._v('ValidateCount int "optional"')]),t._v(" - 页面验证所需的节点数。如果未指定此参数，则使用 "),a("em",[t._v("min_page_validate_count")]),t._v(" 生态系统参数值。\n该值不能小于 "),a("em",[t._v("min_page_validate_count")]),t._v(" 且大于 "),a("em",[t._v("max_page_validate_count")]),t._v("；")]),t._v(" "),a("li",[a("em",[t._v('ValidateMode int "optional"')]),t._v(" - 页面有效性检查模式。值为0表示在加载页面时检查页面。值为1表示在加载和离开页面时检查页面。")])])]),t._v(" "),a("h3",{attrs:{id:"appendpage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appendpage"}},[t._v("#")]),t._v(" AppendPage ")]),t._v(" "),a("p",[t._v("将源码内容添加到当前生态系统中的现有页面。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 要更改的页面ID；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 要添加的源码。")])])]),t._v(" "),a("h3",{attrs:{id:"newblock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newblock"}},[t._v("#")]),t._v(" NewBlock ")]),t._v(" "),a("p",[t._v("在当前生态系统添加一个页面模块。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 模块名称；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 模块源码；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改模块的条件。")])])]),t._v(" "),a("h3",{attrs:{id:"editblock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editblock"}},[t._v("#")]),t._v(" EditBlock ")]),t._v(" "),a("p",[t._v("更改当前生态系统中的现有页面模块。")]),t._v(" "),a("p",[t._v("Parameters")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 要更改的模块ID；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 新模块源码；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改模块的新条件。")])])]),t._v(" "),a("h3",{attrs:{id:"newtable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newtable"}},[t._v("#")]),t._v(" NewTable ")]),t._v(" "),a("p",[t._v("在当前生态系统中添加一个新数据表。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("ul",[a("li",[a("p",[a("em",[t._v("ApplicationId int")]),t._v(" - 关联数据表的应用程序ID；")])]),t._v(" "),a("li",[a("p",[a("em",[t._v("Name string")]),t._v(" - 新数据表名称；")])]),t._v(" "),a("li",[a("p",[a("em",[t._v("Columns string")]),t._v(" - JSON格式的字段数组"),a("code",[t._v('[{"name":"...", "type":"...","index": "0", "conditions":"..."},...]')]),t._v("，其中：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("name")]),t._v(" - 字段名称，仅限拉丁字符；")]),t._v(" "),a("li",[a("em",[t._v("type")]),t._v(" - 数据类型 "),a("code",[t._v("varchar,bytea,number,datetime,money,text,double,character")]),t._v("；")]),t._v(" "),a("li",[a("em",[t._v("index")]),t._v(" - 非主键字段 "),a("code",[t._v("0")]),t._v("，主键 "),a("code",[t._v("1")]),t._v("；")]),t._v(" "),a("li",[a("em",[t._v("conditions")]),t._v(" - 更改字段中数据的条件，必须以JSON格式指定访问权限 "),a("code",[t._v('{"update":"ContractConditions(`MainCondition`)", "read":"ContractConditions(`MainCondition`)"}')]),t._v("；")])])])]),t._v(" "),a("li",[a("p",[a("em",[t._v("Permissions string")]),t._v(" - JSON格式访问权限"),a("code",[t._v('{"insert": "...", "new_column": "...", "update": "...", "read": "..."}')]),t._v("。")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("insert")]),t._v(" - 插入条目的权限；")]),t._v(" "),a("li",[a("em",[t._v("new_column")]),t._v(" - 添加新列的权限；")]),t._v(" "),a("li",[a("em",[t._v("update")]),t._v(" - 更改条目数据的权限；")]),t._v(" "),a("li",[a("em",[t._v("read")]),t._v(" - 读取条目数据的权限。")])])])])]),t._v(" "),a("h3",{attrs:{id:"edittable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#edittable"}},[t._v("#")]),t._v(" EditTable ")]),t._v(" "),a("p",[t._v("更改当前生态系统中数据表的访问权限。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 数据表名称。")]),t._v(" "),a("li",[a("em",[t._v("InsertPerm string")]),t._v(" - 将条目插入数据表中的权限；")]),t._v(" "),a("li",[a("em",[t._v("UpdatePerm string")]),t._v(" - 更新表中条目的权限；")]),t._v(" "),a("li",[a("em",[t._v("ReadPerm string")]),t._v(" - 读取表中条目的权限；")]),t._v(" "),a("li",[a("em",[t._v("NewColumnPerm string")]),t._v(" -创建新列的权限；")])])]),t._v(" "),a("h3",{attrs:{id:"newcolumn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newcolumn"}},[t._v("#")]),t._v(" NewColumn ")]),t._v(" "),a("p",[t._v("在当前生态系统的数据表中添加一个新字段。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("TableName string")]),t._v(" - 数据表名称；")]),t._v(" "),a("li",[a("em",[t._v("Name string")]),t._v(" - 拉丁字符字段名称；")]),t._v(" "),a("li",[a("em",[t._v("Type string")]),t._v(" - 数据类型;\n"),a("code",[t._v("varchar,bytea,number,money,datetime,text,double,character")]),t._v("；")]),t._v(" "),a("li",[a("em",[t._v("UpdatePerm string")]),t._v(" - 更改列中值的权限；")]),t._v(" "),a("li",[a("em",[t._v("ReadPerm string")]),t._v(" - 读取列中值的权限。")])])]),t._v(" "),a("h3",{attrs:{id:"editcolumn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editcolumn"}},[t._v("#")]),t._v(" EditColumn ")]),t._v(" "),a("p",[t._v("更改当前生态系统中的指定数据表字段的权限。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("TableName string")]),t._v(" - 数据表名称；")]),t._v(" "),a("li",[a("em",[t._v("Name string")]),t._v(" - 要更改的拉丁字符字段名称；")]),t._v(" "),a("li",[a("em",[t._v("UpdatePerm string")]),t._v(" - 更改列中值的新权限；")]),t._v(" "),a("li",[a("em",[t._v("ReadPerm string")]),t._v(" - 读取列中值的新权限。")])])]),t._v(" "),a("h3",{attrs:{id:"newlang"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newlang"}},[t._v("#")]),t._v(" NewLang ")]),t._v(" "),a("p",[t._v("在当前生态系统中新增多语言资源，添加权限在生态系统参数的 "),a("em",[t._v("changing_language")]),t._v(" 参数中设置。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 拉丁字符多语言资源的名称；")]),t._v(" "),a("li",[a("em",[t._v("Trans string")]),t._v(" - JSON格式的字符串，双字符语言代码作为键，翻译字符串作为值。例如:"),a("code",[t._v('{"en": "English text", "zh": "Chinese text"}')]),t._v("。")])])]),t._v(" "),a("h3",{attrs:{id:"editlang"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editlang"}},[t._v("#")]),t._v(" EditLang ")]),t._v(" "),a("p",[t._v("更改当前生态系统中的语言资源。更改权限在生态系统参数的 "),a("em",[t._v("changing_language")]),t._v(" 参数中设置。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 多语言资源ID。")]),t._v(" "),a("li",[a("em",[t._v("Trans")]),t._v(" - JSON格式的字符串，双字符语言代码作为键，翻译字符串作为值。例如，"),a("code",[t._v('{"en": "English text", "zh": "Chinese text"}')]),t._v("。")])])]),t._v(" "),a("h3",{attrs:{id:"import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import"}},[t._v("#")]),t._v(" Import ")]),t._v(" "),a("p",[t._v("将应用程序导入当前生态系统。导入来自"),a("a",{attrs:{href:"#importupload"}},[t._v("ImportUpload")]),t._v(" 合约加载的数据。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Data string")]),t._v(" - 以文本内容格式导入的数据，该数据来自生态系统导出的文件。")])])]),t._v(" "),a("h3",{attrs:{id:"importupload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#importupload"}},[t._v("#")]),t._v(" ImportUpload ")]),t._v(" "),a("p",[t._v("将外部应用程序文件加载到当前生态系统的 "),a("em",[t._v("buffer_data")]),t._v(" 表中，以便后续导入。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("InputFile file")]),t._v(" - 写入当前生态系统的 "),a("em",[t._v("buffer_data")]),t._v(" 表的文件。")])])]),t._v(" "),a("h3",{attrs:{id:"newappparam"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newappparam"}},[t._v("#")]),t._v(" NewAppParam ")]),t._v(" "),a("p",[t._v("当前生态系统添加新的应用程序参数。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("ApplicationId int")]),t._v(" - 应用程序ID；")]),t._v(" "),a("li",[a("em",[t._v("Name string")]),t._v(" - 参数名称；")]),t._v(" "),a("li",[a("em",[t._v("Value string")]),t._v(" - 参数值；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改参数的权限。")])])]),t._v(" "),a("h3",{attrs:{id:"editappparam"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editappparam"}},[t._v("#")]),t._v(" EditAppParam ")]),t._v(" "),a("p",[t._v("更改当前生态系统中的现有应用程序参数。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 应用程序参数ID；")]),t._v(" "),a("li",[a("em",[t._v('Value string "optional"')]),t._v(" - 新参数值；")]),t._v(" "),a("li",[a("em",[t._v('Conditions string "optional"')]),t._v(" - 更改参数的新权限。")])])]),t._v(" "),a("h3",{attrs:{id:"newdelayedcontract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newdelayedcontract"}},[t._v("#")]),t._v(" NewDelayedContract ")]),t._v(" "),a("p",[t._v("向延迟调度合约守护进程添加新任务。")]),t._v(" "),a("p",[t._v("延迟调度合约守护进程运行当前生成的区块所需的合约。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Contract string")]),t._v(" - 合约名称；")]),t._v(" "),a("li",[a("em",[t._v("EveryBlock int")]),t._v(" - 合约将在指定每隔区块数量后执行；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改任务的权限；")]),t._v(" "),a("li",[a("em",[t._v('BlockID int "optional"')]),t._v(' - 开始启动合约的区块\bID，如果未指定，则自动计算"当前区块ID"+'),a("em",[t._v("EveryBlock")]),t._v("；")]),t._v(" "),a("li",[a("em",[t._v('Limit int "optional"')]),t._v(" - 任务的启动次数，如果未指定，则启动合约的任务将无限次执行。")])])]),t._v(" "),a("h3",{attrs:{id:"editdelayedcontract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editdelayedcontract"}},[t._v("#")]),t._v(" EditDelayedContract ")]),t._v(" "),a("p",[t._v("更改延迟调度合约守护进程中的任务。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Id int")]),t._v(" - 任务ID。")]),t._v(" "),a("li",[a("em",[t._v("Contract string")]),t._v(" - 合约名称。")]),t._v(" "),a("li",[a("em",[t._v("EveryBlock int")]),t._v(" - 合约将在指定每隔区块数量后执行；")]),t._v(" "),a("li",[a("em",[t._v("Conditions string")]),t._v(" - 更改任务的权限；")]),t._v(" "),a("li",[a("em",[t._v('BlockID int "optional"')]),t._v(' - 开始启动合约的区块\bID，如果未指定，则自动计算"当前区块ID"+ '),a("em",[t._v("EveryBlock")]),t._v("；")]),t._v(" "),a("li",[a("em",[t._v('Limit int "optional"')]),t._v(" - 任务的启动次数，如果未指定，则启动合约的任务将无限次执行。")]),t._v(" "),a("li",[a("em",[t._v('Deleted int "optional"')]),t._v(" - 任务切换。值为 "),a("code",[t._v("1")]),t._v(" 将禁用该任务。值为 "),a("code",[t._v("0")]),t._v(" 将启用该任务。")])])]),t._v(" "),a("h3",{attrs:{id:"uploadbinary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uploadbinary"}},[t._v("#")]),t._v(" UploadBinary ")]),t._v(" "),a("p",[t._v("在 "),a("em",[t._v("X_binaries")]),t._v(" 表中添加或覆盖静态文件。通过HTTP API调用合约时，请求格式必须使用"),a("code",[t._v("multipart/form-data")]),t._v("；")]),t._v(" "),a("p",[t._v("该DataMimeType参数将与表单数据一起使用。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[t._v("Name string")]),t._v(" - 静态文件名称；")]),t._v(" "),a("li",[a("em",[t._v("Data bytes")]),t._v(" - 静态文件的内容；")]),t._v(" "),a("li",[a("em",[t._v('DataMimeType string "optional"')]),t._v(" - "),a("em",[t._v("mime-type")]),t._v(" 文件格式的静态文件；")]),t._v(" "),a("li",[a("em",[t._v("ApplicationId int")]),t._v(" - 关联 "),a("em",[t._v("X_binaries")]),t._v(" 表的应用程序ID。")])])]),t._v(" "),a("p",[t._v("如果未传递 "),a("em",[t._v("DataMimeType")]),t._v(" 参数，则默认使用 "),a("code",[t._v("application/octet-stream")]),t._v(" 格式。")])])}),[],!1,null,null,null);a.default=n.exports}}]);