(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{417:function(t,e,a){"use strict";a.r(e);var v=a(14),_=Object(v.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"restful-api-v2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#restful-api-v2"}},[t._v("#")]),t._v(" RESTful API v2 ")]),t._v(" "),e("p",[t._v("Weaver提供的所有功能，包括身份验证，生态系统数据接收，错误处理，数据库表操作，\n页面和合约执行都可通过IBAX区块链平台 的REST API获得。")]),t._v(" "),e("p",[t._v("通过使用REST API，开发者可以在不使用 Weaver 的情况下访问平台的任何功能。")]),t._v(" "),e("p",[t._v("API命令调用通过寻址执行 "),e("code",[t._v("/api/v2/command/[param]")]),t._v("，其中 "),e("code",[t._v("command")]),t._v("是命令名称，\n"),e("code",[t._v("param")]),t._v(" 是附加参数。请求参数必须使用"),e("code",[t._v("Content-Type: x-www-form-urlencoded")]),t._v("格式发送。\n服务器响应结果为JSON格式。")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#restful-api-v2"}},[t._v("RESTful API v2")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#error-response-handling"}},[t._v("错误响应处理")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#error-list"}},[t._v("错误列表")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#request-type"}},[t._v("请求类型")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#authentication-interface"}},[t._v("认证接口")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#getuid"}},[t._v("getuid")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#login"}},[t._v("login")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#server-side-command-interface"}},[t._v("服务端命令接口")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#version"}},[t._v("version")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#data-request-function-interface"}},[t._v("数据请求功能接口")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#balance"}},[t._v("balance")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#blocks"}},[t._v("blocks")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#detailed-blocks"}},[t._v("detailed_blocks")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#data-id-data-hash"}},[t._v("/data/{id}/data/{hash}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#data-table-id-column-hash"}},[t._v("/data/{table}/id/{column}/{hash}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#keyinfo"}},[t._v("keyinfo")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#wallethistory"}},[t._v("walletHistory")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#listwhere-name"}},[t._v("listWhere/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#nodelistwhere-name"}},[t._v("nodelistWhere/{name}")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#get-metrics-interface"}},[t._v("获取指标接口")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#metrics-keys"}},[t._v("metrics/keys")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#metrics-blocks"}},[t._v("metrics/blocks")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#metrics-transactions"}},[t._v("metrics/transactions")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#metrics-ecosystems"}},[t._v("metrics/ecosystems")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#metrics-honornodes"}},[t._v("metrics/honornodes")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#ecosystem-interface"}},[t._v("生态系统接口")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#ecosystemname"}},[t._v("ecosystemname")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#appparams-appid"}},[t._v("appparams/{appID}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#appparam-appid-name"}},[t._v("appparam/{appid}/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#ecosystemparams"}},[t._v("ecosystemparams")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#ecosystemparam-name"}},[t._v("ecosystemparam/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#tables-limit-offset"}},[t._v("tables/[?limit=... &offset=... ]")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#table-name"}},[t._v("table/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#list-name-limit-offset-columns"}},[t._v("list/{name}[?limit=... &offset=... &columns=... ]")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#sections-limit-offset-lang"}},[t._v("sections[?limit=... &offset=... &lang=]")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#row-name-id-columns"}},[t._v("row/{name}/{id}[?columns=]")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#row-name-column-id"}},[t._v("row/{name}/{column}/{id}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#systemparams"}},[t._v("systemparams")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#history-name-id"}},[t._v("history/{name}/{id}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#interface-page-menu-snippet-name"}},[t._v("interface/{page|menu|snippet}/{name}")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#contract-function-interface"}},[t._v("合约功能接口")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#contracts-limit-offset"}},[t._v("contracts[?limit=... &offset=... ]")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#contract-name"}},[t._v("contract/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#sendtx"}},[t._v("sendTX")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#txstatus"}},[t._v("txstatus")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#txinfo-hash"}},[t._v("txinfo/{hash}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#txinfomultiple"}},[t._v("txinfoMultiple")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#page-validators-count-name"}},[t._v("/page/validators_count/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#content-menu-page-name"}},[t._v("content/menu|page/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#content-source-name"}},[t._v("content/source/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#content-hash-name"}},[t._v("content/hash/{name}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#content"}},[t._v("content")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#maxblockid"}},[t._v("maxblockid")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#block-id"}},[t._v("block/{id}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#avatar-ecosystem-member"}},[t._v("avatar/{ecosystem}/{member}")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#config-centrifugo"}},[t._v("config/centrifugo")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#updnotificator"}},[t._v("updnotificator")])])])])])])]),t._v(" "),e("h2",{attrs:{id:"error-response-handling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#error-response-handling"}},[t._v("#")]),t._v(" 错误响应处理 ")]),t._v(" "),e("p",[t._v("在请求执行成功的情况下返回状态"),e("code",[t._v("200")]),t._v("。如果出现错误，除了错误状态之外，将返回带有以下字段的JSON对象：")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("error")])]),t._v(" "),e("blockquote",[e("p",[t._v("错误标识符。")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("msg")])]),t._v(" "),e("blockquote",[e("p",[t._v("错误文本信息。")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("params")])]),t._v(" "),e("blockquote",[e("p",[t._v("错误的附加参数数组，可以将其放入错误信息中。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('400 (Bad 请求)\nContent-Type: application/json\n{\n    "err": "E_INVALIDWALLET",\n    "msg": "Wallet 1234-5678-9012-3444-3488 is not valid",\n    "params": ["1234-5678-9012-3444-3488"]\n}\n')])])]),e("h3",{attrs:{id:"error-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#error-list"}},[t._v("#")]),t._v(" 错误列表 ")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("E_CONTRACT")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("不存在 `%s` 合约\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_DBNIL")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("数据库为空\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_DELETEDKEY")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("账户地址已冻结\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_ECOSYSTEM")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("生态系统 `%d` 不存在\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_EMPTYPUBLIC")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("账户公钥无效\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_KEYNOTFOUND")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("账户地址未找到\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_HASHWRONG")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("哈希不正确\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_HASHNOTFOUND")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("哈希未找到\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_HEAVYPAGE")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("页面加载过多\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_INVALIDWALLET")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("钱包地址 `%s` 无效\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_LIMITTXSIZE")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("该交易大小已超出限制\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_NOTFOUND")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("页面或菜单内容未找到\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_PARAMNOTFOUND")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("参数未找到\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_PERMISSION")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("没有权限\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_QUERY")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("数据库查询错误\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_RECOVERED")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("API发生恐慌性错误。\n\n如果出现恐慌性错误，则返回错误。\n\n这个错误意味着您遇到了一个需要查找和修复的bug。\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_SERVER")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("服务器错误。\n\n如果在golang库函数中有错误，则返回。\\*msg\\* 字段包含错误文本信息。\n\n在响应任何命令时都可能出现 **E_SERVER**错误。如果由于输入参数不正确而出现，则可以将其更改为相关错误。\n在另一种情况下，这个错误报告无效的操作或不正确的系统配置，这需要更详细的调查报告。\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_SIGNATURE")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("签名不正确\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_STATELOGIN")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("`%s` 不是生态系统 `%s` 内的成员\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_TABLENOTFOUND")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("数据表 `%s` 未找到\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_TOKENEXPIRED")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("会话已失效 `%s`\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_UNAUTHORIZED")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("未经授权。\n\n在没有执行登录或会话过期的情况下，除 `getuid、login`之外，任何命令都返回 **E_UNAUTHORIZED** 错误。\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_UNKNOWNUID")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("未知UID\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_UPDATING")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("节点正在更新区块链\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_STOPPING")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("节点已停止\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_NOTIMPLEMENTED")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("尚未实现\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_BANNED")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("该账户地址在 `%s` 禁止使用\n")])])]),e("blockquote",[e("p",[e("code",[t._v("E_CHECKROLE")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("拒绝访问\n\nCLB 不可用接口\n")])])]),e("hr"),t._v(" "),e("blockquote",[e("p",[t._v("CLB 节点不可用的接口请求：")])]),t._v(" "),e("ul",[e("li",[t._v("metrics")]),t._v(" "),e("li",[t._v("txinfo")]),t._v(" "),e("li",[t._v("txinfoMultiple")]),t._v(" "),e("li",[t._v("appparam")]),t._v(" "),e("li",[t._v("appparams")]),t._v(" "),e("li",[t._v("appcontent")]),t._v(" "),e("li",[t._v("history")]),t._v(" "),e("li",[t._v("balance")]),t._v(" "),e("li",[t._v("block")]),t._v(" "),e("li",[t._v("maxblockid")]),t._v(" "),e("li",[t._v("blocks")]),t._v(" "),e("li",[t._v("detailed_blocks")]),t._v(" "),e("li",[t._v("ecosystemparams")]),t._v(" "),e("li",[t._v("systemparams")]),t._v(" "),e("li",[t._v("ecosystems")]),t._v(" "),e("li",[t._v("ecosystemparam")]),t._v(" "),e("li",[t._v("ecosystemname")]),t._v(" "),e("li",[t._v("walletHistory")]),t._v(" "),e("li",[t._v("tx_record")])]),t._v(" "),e("h2",{attrs:{id:"request-type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request-type"}},[t._v("#")]),t._v(" 请求类型 ")]),t._v(" "),e("p",[e("strong",[t._v("统一使用")])]),t._v(" "),e("ul",[e("li",[t._v("application/x-www-form-urlencoded")])]),t._v(" "),e("h2",{attrs:{id:"authentication-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authentication-interface"}},[t._v("#")]),t._v(" 认证接口 ")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://jwt.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("JWT token"),e("OutboundLink")],1),t._v("\n用于认证。收到JWT令牌后必须将其放在每个请求头中："),e("code",[t._v("Authorization: Bearer TOKEN_HERE")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"getuid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getuid"}},[t._v("#")]),t._v(" getuid ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回一个唯一值， 使用私钥对其签名，然后使用"),e("a",{attrs:{href:"#login"}},[t._v("login")]),t._v(" 命令将其发送回服务器。")]),t._v(" "),e("p",[t._v("生成临时JWT令牌，在调用 "),e("strong",[t._v("login")]),t._v(" 时需要将令牌传递给 "),e("strong",[t._v("Authorization")]),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/getuid\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("uid")])]),t._v(" "),e("blockquote",[e("p",[t._v("签名数字。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("token")])]),t._v(" "),e("blockquote",[e("p",[t._v("登录时传递的临时令牌。")]),t._v(" "),e("p",[t._v("临时令牌的生命周期为5秒。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("network_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("服务器标识符。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("cryptoer")])]),t._v(" "),e("blockquote",[e("p",[t._v("椭圆曲线算法。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("hasher")])]),t._v(" "),e("blockquote",[e("p",[t._v("hash算法。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例1")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "uid": "4999317241855959593",\n    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9........I7LY6XX4IP12En6nr8UPklE9U4qicqg3K9KEzGq_8zE"\n    "network_id": "4717243765193692211"\n}\n')])])]),e("p",[t._v("在不需要授权的情况下(请求包含"),e("strong",[t._v("Authorization")]),t._v(")，将返回以下信息:")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("expire")])]),t._v(" "),e("blockquote",[e("p",[t._v("过期时间。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("key_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("账户地址。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("address")])]),t._v(" "),e("blockquote",[e("p",[t._v("钱包地址 "),e("code",[t._v("XXXX-XXXX-.....-XXXX")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("network_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("服务器标识符。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例2")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "expire": "2159h59m49.4310543s",\n    "ecosystem_id": "1",\n    "key_id": "-654321",\n    "address": "1196-......-3496",\n    "network_id": "1"\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER")])]),t._v(" "),e("h3",{attrs:{id:"login"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#login"}},[t._v("#")]),t._v(" login ")]),t._v(" "),e("p",[e("strong",[t._v("POST")]),t._v("/ 用户身份验证。")]),t._v(" "),e("blockquote",[e("p",[t._v("应首先调用 "),e("strong",[t._v("getuid")]),t._v("\n命令，以便接收唯一值并对其进行签名。getuid的临时JWT令牌需要放在请求头中传递。")]),t._v(" "),e("p",[t._v("如果请求成功，则响应中收到的令牌包含在 "),e("strong",[t._v("Authorization")]),t._v(" 中。")])]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/login\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("ecosystem")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。")]),t._v(" "),e("p",[t._v("如果未指定，默认为第一个生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("expire")])]),t._v(" "),e("blockquote",[e("p",[t._v("JWT令牌的生命周期，以秒为单位，默认为28800。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("pubkey")])]),t._v(" "),e("blockquote",[e("p",[t._v("十六进制账户公钥。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("key_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("账户地址 "),e("code",[t._v("XXXX-...-XXXX")]),t._v("。")]),t._v(" "),e("p",[t._v("在公钥已经存储在区块链中的情况下使用此参数。不能与 "),e("em",[t._v("pubkey")]),t._v("\n参数一起使用。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("signature")])]),t._v(" "),e("blockquote",[e("p",[t._v("使用私钥对getuid收到的uid签名。\n签名数据内容:")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("    LOGIN+{$network_id}+uid\n")])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("token")])]),t._v(" "),e("blockquote",[e("p",[t._v("JWT令牌。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("key_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("账户地址ID")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("account")])]),t._v(" "),e("blockquote",[e("p",[t._v("钱包地址 "),e("code",[t._v("XXXX-XXXX-.....-XXXX")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("notify_key")])]),t._v(" "),e("blockquote",[e("p",[t._v("通知ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("isnode")])]),t._v(" "),e("blockquote",[e("p",[t._v("该账户地址是否是该节点的所有者。值： "),e("code",[t._v("true,false")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("isowner")])]),t._v(" "),e("blockquote",[e("p",[t._v("该账户地址是否是该生态系统的创建者。值： "),e("code",[t._v("true,false")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("clb")])]),t._v(" "),e("blockquote",[e("p",[t._v("登录的生态系统是否为 CLB 。值： "),e("code",[t._v("true,false")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("roles")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("角色列表： "),e("code",[t._v("[{角色ID,角色名称}]")]),t._v("。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n\t"token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...30l665h3v7lH85rs5jgk0",\n\t"ecosystem_id": "1",\n\t"key_id": "-54321",\n\t"account": "1285-...-7743-4282",\n\t"notify_key": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9....._JTFfheD0K4CfMbvVNpOJVMNDPx25zIDGir9g3ZZM0w",\n\t"timestamp": "1451309883",\n\t"roles": [\n\t\t{\n\t\t\t"role_id": 1,\n\t\t\t"role_name": "Developer"\n\t\t}\n\t]\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER, E_UNKNOWNUID, E_SIGNATURE, E_STATELOGIN, E_EMPTYPUBLIC")])]),t._v(" "),e("h2",{attrs:{id:"server-side-command-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#server-side-command-interface"}},[t._v("#")]),t._v(" 服务端命令接口 ")]),t._v(" "),e("h3",{attrs:{id:"version"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[t._v("#")]),t._v(" version ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前服务器版本。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/version\n")])])]),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n"1.3.0 branch.main commit.790..757 time.2021-08-23-08:20:19(UTC)"\n')])])]),e("h2",{attrs:{id:"data-request-function-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#data-request-function-interface"}},[t._v("#")]),t._v(" 数据请求功能接口 ")]),t._v(" "),e("h3",{attrs:{id:"balance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#balance"}},[t._v("#")]),t._v(" balance ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 请求当前生态系统中帐户地址的余额。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/balance/{wallet}\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("wallet")])]),t._v(" "),e("blockquote",[e("p",[t._v("地址标识符，可以任何格式指定 "),e("code",[t._v("int64, uint64, XXXX-...-XXXX")]),t._v("。 在用户当前登录的生态系统中查询该地址。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")]),t._v(" Default ecosystem 1")]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统id，默认生态1。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("amount")])]),t._v(" "),e("blockquote",[e("p",[t._v("最小单位的合约帐户余额。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("money")])]),t._v(" "),e("blockquote",[e("p",[t._v("帐户余额。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("total")])]),t._v(" "),e("blockquote",[e("p",[t._v("帐户余额。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("utxo")])]),t._v(" "),e("blockquote",[e("p",[t._v("UTXO帐户余额。")])])]),t._v(" "),e("li",[e("p",[e("em",[t._v("digits")])]),t._v(" "),e("blockquote",[e("p",[t._v("精度。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "amount": "877450000000000",\n    "money": "877.45",\n    "total": "877450000000000",\n    "digits": 6,\n    "utxo": "0"\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER, E_INVALIDWALLET")])]),t._v(" "),e("h3",{attrs:{id:"blocks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#blocks"}},[t._v("#")]),t._v(" blocks ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回其中包含每个区块中交易的相关附加信息列表。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET \n/api/v2/blocks\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("block_id")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")]),t._v(" 默认为0")]),t._v(" "),e("blockquote",[e("p",[t._v("要查询的起始区块高度。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("count")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")]),t._v(" (默认为25，最大请求1000)")]),t._v(" "),e("blockquote",[e("p",[t._v("区块数量。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("区块高度")]),t._v(" "),e("blockquote",[e("p",[t._v("区块中的交易列表以及每个交易的附加信息：")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易哈希。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("contract_name")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("params")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约参数数组。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("key_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("对于第一个区块，是签署该交易的第一个区块的账户地址。")]),t._v(" "),e("p",[t._v("对于所有其他区块，是签署该交易的账户地址。")])])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{"1":\n    [{"hash":"O1LhrjKznrYa0z5n5cej6p5Y1j5E9v/oV27VPRJmfgo=",\n    "contract_name":"",\n    "params":null,\n    "key_id":-118432674655542910}]\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER, E_NOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"detailed-blocks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#detailed-blocks"}},[t._v("#")]),t._v(" detailed_blocks ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回其中包含每个区块中交易的详细附加信息列表。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/detailed_blocks\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("block_id")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")]),t._v(" 默认为0")]),t._v(" "),e("blockquote",[e("p",[t._v("要查询的起始区块高度。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("count")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")]),t._v(" (默认为25，最大请求1000)")]),t._v(" "),e("blockquote",[e("p",[t._v("区块数量。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Block height")]),t._v(" 区块高度")]),t._v(" "),e("li",[e("code",[t._v("blockhead")]),t._v(" 区块头包含以下字段：\n"),e("ul",[e("li",[e("code",[t._v("block_id")]),t._v(" 区块高度。")]),t._v(" "),e("li",[e("code",[t._v("time")]),t._v(" 区块生成时间戳。")]),t._v(" "),e("li",[e("code",[t._v("key_id")]),t._v(" 签署该区块的账户地址。")]),t._v(" "),e("li",[e("code",[t._v("node_position")]),t._v(" 在 荣誉节点 列表中生成区块的节点的位置。")]),t._v(" "),e("li",[e("code",[t._v("version")]),t._v(" 区块结构版本。")])])]),t._v(" "),e("li",[e("code",[t._v("hash")]),t._v(" 区块哈希。")]),t._v(" "),e("li",[e("code",[t._v("node_position")]),t._v(" 在 荣誉节点 列表中生成区块的节点的位置。")]),t._v(" "),e("li",[e("code",[t._v("key_id")]),t._v(" 签署该区块的账户地址。")]),t._v(" "),e("li",[e("code",[t._v("time")]),t._v(" 区块生成时间戳。")]),t._v(" "),e("li",[e("code",[t._v("tx_count")]),t._v(" 该区块内的交易数。")]),t._v(" "),e("li",[e("code",[t._v("size")]),t._v(" 该区块大小。")]),t._v(" "),e("li",[e("code",[t._v("rollback_hash")]),t._v(" 区块回滚哈希值。")]),t._v(" "),e("li",[e("code",[t._v("merkle_root")]),t._v(" 该区块交易的默克尔树。")]),t._v(" "),e("li",[e("code",[t._v("bin_data")]),t._v(" 区块头、区块内所有交易、上一个区块哈希和生成该区块的节点私钥的序列化。")]),t._v(" "),e("li",[e("code",[t._v("transactions")]),t._v(" 区块中的交易列表以及每个交易的附加信息：\n"),e("ul",[e("li",[e("code",[t._v("hash")]),t._v(" 交易哈希。")]),t._v(" "),e("li",[e("code",[t._v("contract_name")]),t._v(" 合约名称。")]),t._v(" "),e("li",[e("code",[t._v("params")]),t._v(" 合约参数。")]),t._v(" "),e("li",[e("code",[t._v("key_id")]),t._v(" 签署该交易的账户地址。")]),t._v(" "),e("li",[e("code",[t._v("time")]),t._v(" 交易生成时间戳。")]),t._v(" "),e("li",[e("code",[t._v("type")]),t._v(" 交易类型。")]),t._v(" "),e("li",[e("code",[t._v("size")]),t._v(" 交易大小。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{"1":\n    {"header":\n        {"block_id":1,\n        "time":1551069320,\n        "ecosystem_id":0,\n        "key_id":-118432674655542910,\n        "node_position":0,\n        "version":1},\n    "hash":"3NxhvswmpGvRdw8HdkrniI5Mx/q14Z4d5hwGKMp6KHI=",\n    "ecosystem_id":0,\n    "node_position":0,\n    "key_id":-118432674655542910,\n    "time":1551069320,\n    "tx_count":1,\n    "size": "1.69KiB",\n    "rollbacks_hash":"I2JHugpbdMNxBdNW1Uc0XnbiXFtzB74yD9AK5YI5i/k=",\n    "mrkl_root":"MTZiMjY2NGJjOWY3MDAyODlhYjkyMDVhZDQwNDgxNzkxMjY1MWJjNjczNDkyZjk5MWI2Y2JkMjAxNTIwYjUyYg==",\n    "bin_data":null,\n    "sys_update":false,\n    "gen_block":false,\n    "stop_count":0,\n    "transactions":[\n        {\n            "hash":"O1LhrjKznrYa0z5n5cej6p5Y1j5E9v/oV27VPRJmfgo=",\n            "contract_name":"",\n            "params":null,\n            "key_id":0,\n            "time":0,\n            "type":0,\n            "size": "300.00B"\n        }\n    ]}\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER, E_NOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"data-id-data-hash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#data-id-data-hash"}},[t._v("#")]),t._v(" /data/{id}/data/{hash} ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/\n如果指定哈希与二进制表、字段和记录中的数据匹配，则此请求将返回数据。否则返回错误。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/data/{id}/data/{hash}\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("记录ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求数据的哈希。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("blockquote",[e("p",[t._v("二进制数据")])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: *\n{\n    "name": "NFT Miner",\n    "conditions": "ContractConditions(\\"@1DeveloperCondition\\")",\n    "data": [\n        {\n            "Type": "contracts",\n            "Name": "NewNFTMiner",\n        },\n        ...\n    ]\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER, E_NOTFOUND, E_HASHWRONG")])]),t._v(" "),e("h3",{attrs:{id:"data-table-id-column-hash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#data-table-id-column-hash"}},[t._v("#")]),t._v(" /data/{table}/id/{column}/{hash} ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/\n如果指定哈希与指定表、字段和记录中的数据匹配，则此请求将返回数据。否则返回错误。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/data/{table}/id/{column}/{hash}\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("table")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("记录ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("column")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表列名,只能是一个")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求数据的哈希。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("blockquote",[e("p",[t._v("二进制数据")])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/octet-stream\nContent-Disposition: attachment\n\nSetVar(this_page, @1voting_list).(this_table, @1votings)\nInclude(@1pager_header)\n\nSetTitle("$@1voting_list$")\nSpan(Class: text-muted h5 m0 mb ml-lg, Body: Span(Class: ml-sm, Body: "$@1votings_list_desc$"))\nAddToolButton(Title: $@1templates_list$, Page: @1voting_templates_list, Icon: icon-pin)\nAddToolButton(Title: $@1create$, Page: @1voting_create, Icon: icon-plus).Popup(60, $@1new_voting$)\n\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER, E_NOTFOUND, E_HASHWRONG")])]),t._v(" "),e("h3",{attrs:{id:"keyinfo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#keyinfo"}},[t._v("#")]),t._v(" keyinfo ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回一个生态系统列表，其中包含注册了指定地址的角色。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/keyinfo/{address}\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("address")])]),t._v(" "),e("blockquote",[e("p",[t._v("地址标识符，可以任何格式指定 "),e("code",[t._v("int64, uint64, XXXX-...-XXXX")]),t._v("。")]),t._v(" "),e("p",[t._v("该请求在所有生态系统中查询。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("ecosystem")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("roles")])]),t._v(" "),e("blockquote",[e("p",[t._v("具有 "),e("em",[t._v("id")]),t._v(" 和 "),e("em",[t._v("name")]),t._v(" 字段的角色列表。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n[{\n    "ecosystem":"1",\n    "name":"platform ecosystem",\n    "roles":[{"id":"1","name":"Governancer"},{"id":"2","name":"Developer"}]\n}]\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER, E_INVALIDWALLET")])]),t._v(" "),e("h3",{attrs:{id:"wallethistory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wallethistory"}},[t._v("#")]),t._v(" walletHistory ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前账户交易历史记录,根据id倒序查找")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("searchType")])]),t._v(" "),e("blockquote",[e("p",[t._v("查找类型(income:转入 outcome:转出 all:全部,默认)。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("page")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("查找页数,默认第一页,min:1")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("limit")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目条数，默认20条。min:1，max:500")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/walletHistory?searchType=all&amp;page=1&amp;limit=10\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("total")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目总数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("page")])]),t._v(" "),e("blockquote",[e("p",[t._v("当前页数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("limit")])]),t._v(" "),e("blockquote",[e("p",[t._v("当前查找条数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("list")]),t._v(" 数组中的每个元素包含以下参数：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("id")]),t._v(" 条目ID。")]),t._v(" "),e("li",[e("code",[t._v("sender_id")]),t._v(" 发送key_id")]),t._v(" "),e("li",[e("code",[t._v("sender_add")]),t._v(" 发送账户地址")]),t._v(" "),e("li",[e("code",[t._v("recipient_id")]),t._v(" 接受key_id")]),t._v(" "),e("li",[e("code",[t._v("recipient_add")]),t._v(" 接受账户地址")]),t._v(" "),e("li",[e("code",[t._v("amount")]),t._v(" 交易额")]),t._v(" "),e("li",[e("code",[t._v("comment")]),t._v(" 交易备注")]),t._v(" "),e("li",[e("code",[t._v("block_id")]),t._v(" 区块高度")]),t._v(" "),e("li",[e("code",[t._v("tx_hash")]),t._v(" 交易hash")]),t._v(" "),e("li",[e("code",[t._v("created_at")]),t._v(" 交易创建时间，毫秒时间戳")]),t._v(" "),e("li",[e("code",[t._v("money")]),t._v(" 交易额")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "page": 1,\n    "limit": 10,\n    "total": 617,\n    "list": [\n        {\n            "id": 650,\n            "sender_id": 666081971617879...,\n            "sender_add": "0666-0819-7161-xxxx-5186",\n            "recipient_id": 666081971617879...,\n            "recipient_add": "0666-0819-7161-xxxx-5186",\n            "amount": "242250000",\n            "comment": "taxes for execution of @1Export contract",\n            "block_id": 209,\n            "tx_hash": "a213bc767d710a223856d83515d53518075b56fb9e9c063bce8a256c20ff0775",\n            "created_at": 1666001092090,\n            "money": "0.00024225"\n        }\n        ...\n    ]\n}  \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER")])]),t._v(" "),e("h3",{attrs:{id:"listwhere-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#listwhere-name"}},[t._v("#")]),t._v(" listWhere/{name} ")]),t._v(" "),e("p",[e("strong",[t._v("POST")]),t._v("/ 返回当前生态系统中指定数据表的条目。可以指定要返回的列。")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("limit")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目条数，默认25条。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("offset")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("偏移量，默认为0。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("order")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("排序方式，默认id ASC。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("columns")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("where")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("查询条件")]),t._v(" "),e("p",[t._v("Example:如果要查询 id>2 和 name = john")]),t._v(" "),e("p",[t._v('你可以使用：where:{"id":{"$gt":2},"name":{"$eq":"john"}}')]),t._v(" "),e("p",[t._v("详情请参考"),e("RouterLink",{attrs:{to:"/zh-CN/topics/script.html#dbfind"}},[t._v("DBFind")]),t._v(" where 语法")],1)])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/listWhere/mytable\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("count")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目总数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中的每个元素包含以下参数：")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("id")]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])]),t._v(" "),e("li",[e("code",[t._v("...")]),t._v(" "),e("blockquote",[e("p",[t._v("数据表其他列")])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": 1,\n    "list": [\n        {\n            "account": "xxxx-0819-7161-xxxx-xxxx",\n            "ecosystem": "1",\n            "id": "12",\n            "key": "avatar",\n            "value": "{\\"binary_id\\": 4}"\n        }\n    ]\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER")]),t._v(","),e("em",[t._v("E_TABLENOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"nodelistwhere-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nodelistwhere-name"}},[t._v("#")]),t._v(" nodelistWhere/{name} ")]),t._v(" "),e("p",[e("strong",[t._v("POST")]),t._v("/ 返回指定数据表的条目。可以指定要返回的列。对数据表中类型为"),e("em",[t._v("BYTEA")]),t._v("做16进制编码处理")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("limit")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目条数，默认25条。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("offset")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("偏移量，默认为0。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("order")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("排序方式，默认id ASC。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("columns")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("where")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("查询条件")]),t._v(" "),e("p",[t._v("Example:如果要查询 id>2 和 name = john")]),t._v(" "),e("p",[t._v('你可以使用：where:{"id":{"$gt":2},"name":{"$eq":"john"}}')]),t._v(" "),e("p",[t._v("详情请参考"),e("RouterLink",{attrs:{to:"/zh-CN/topics/script.html#dbfind"}},[t._v("DBFind")]),t._v(" where 语法")],1)])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/nodelistWhere/mytable\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("count")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目总数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中的每个元素包含以下参数：")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("id")]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])]),t._v(" "),e("li",[e("code",[t._v("...")]),t._v(" "),e("blockquote",[e("p",[t._v("数据表其他列")])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": 1,\n    "list": [\n        {\n            "account": "xxxx-0819-7161-xxxx-xxxx",\n            "ecosystem": "1",\n            "id": "12",\n            "key": "avatar",\n            "value": "{\\"binary_id\\": 4}"\n        }\n    ]\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER")]),t._v(","),e("em",[t._v("E_TABLENOTFOUND")])]),t._v(" "),e("h2",{attrs:{id:"get-metrics-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-metrics-interface"}},[t._v("#")]),t._v(" 获取指标接口 ")]),t._v(" "),e("h3",{attrs:{id:"metrics-keys"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#metrics-keys"}},[t._v("#")]),t._v(" metrics/keys ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回生态1账户地址数量。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/metrics/keys\n")])])]),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": 28\n}\n')])])]),e("h3",{attrs:{id:"metrics-blocks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#metrics-blocks"}},[t._v("#")]),t._v(" metrics/blocks ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回区块数量。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/metrics/blocks\n")])])]),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": 28\n}\n')])])]),e("h3",{attrs:{id:"metrics-transactions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#metrics-transactions"}},[t._v("#")]),t._v(" metrics/transactions ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回交易总数量。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/metrics/transactions\n")])])]),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": 28\n}\n')])])]),e("h3",{attrs:{id:"metrics-ecosystems"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#metrics-ecosystems"}},[t._v("#")]),t._v(" metrics/ecosystems ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回生态系统的数量。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/metrics/ecosystems\n")])])]),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": 28\n}\n')])])]),e("h3",{attrs:{id:"metrics-honornodes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#metrics-honornodes"}},[t._v("#")]),t._v(" metrics/honornodes ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回 荣誉节点 的数量。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/metrics/honornodes\n")])])]),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": 28\n}\n')])])]),e("h2",{attrs:{id:"ecosystem-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ecosystem-interface"}},[t._v("#")]),t._v(" 生态系统接口 ")]),t._v(" "),e("h3",{attrs:{id:"ecosystemname"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ecosystemname"}},[t._v("#")]),t._v(" ecosystemname ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 通过其标识符返回生态系统的名称。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/ecosystemname?id=1\n")])])]),e("ul",[e("li",[e("p",[e("em",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "ecosystem_name": "platform_ecosystem"\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_PARAMNOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"appparams-appid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#appparams-appid"}},[t._v("#")]),t._v(" appparams/{appid} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前或指定生态系统中的应用程序参数列表。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/appparams/{appid}\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("appid")])]),t._v(" "),e("blockquote",[e("p",[t._v("应用程序ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID；如果未指定，将返回当前生态系统的参数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("names")])]),t._v(" "),e("blockquote",[e("p",[t._v("接收的参数列表。")]),t._v(" "),e("p",[t._v("可以指定由逗号分隔的参数名称列表，例如:"),e("code",[t._v("/api/v2/appparams/1?names=name,mypar")]),t._v("。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中的每个元素包含以下参数：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("name")]),t._v("，参数名称；")]),t._v(" "),e("li",[e("code",[t._v("value")]),t._v("，参数值；")]),t._v(" "),e("li",[e("code",[t._v("conditions")]),t._v("，更改参数的权限。")])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "list": [{ \n        "name": "name",\n        "value": "MyState",\n        "conditions": "true",\n    }, \n    { \n        "name": "mypar",\n        "value": "My value",\n        "conditions": "true",\n    }, \n    ]\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_ECOSYSTEM")])]),t._v(" "),e("h3",{attrs:{id:"appparam-appid-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#appparam-appid-name"}},[t._v("#")]),t._v(" appparam/{appid}/{name} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前或指定生态系统中应用程序 "),e("strong",[t._v("{appid}")]),t._v(" 的参数 "),e("strong",[t._v("{name}")]),t._v("\n的相关信息。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/appparam/{appid}/{name}[?ecosystem=1]\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("appid")])]),t._v(" "),e("blockquote",[e("p",[t._v("应用程序ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求的参数的名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID（可选参数）。")]),t._v(" "),e("p",[t._v("默认返回当前的生态系统。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("value")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数值。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("conditions")])]),t._v(" "),e("blockquote",[e("p",[t._v("更改参数的权限。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "id": "10",\n    "name": "par",\n    "value": "My value",\n    "conditions": "true"\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_ECOSYSTEM, E_PARAMNOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"ecosystemparams"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ecosystemparams"}},[t._v("#")]),t._v(" ecosystemparams ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回生态系统参数列表。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/ecosystemparams/[?ecosystem=...&amp;names=...]\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("ecosystem")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。如果未指定，将返回当前生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("names")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求参数列表，以逗号分隔。")]),t._v(" "),e("p",[t._v("例如: "),e("code",[t._v("/api/v2/ecosystemparams/?names=name,currency,logo")]),t._v(".")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中的每个元素包含以下参数：")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("value")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数值。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("conditions")])]),t._v(" "),e("blockquote",[e("p",[t._v("更改参数的权限。")])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "list": [{ \n        "name": "name",\n        "value": "MyState",\n        "conditions": "true",\n    }, \n    { \n        "name": "currency",\n        "value": "MY",\n        "conditions": "true",\n    }, \n    ]\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_ECOSYSTEM")])]),t._v(" "),e("h3",{attrs:{id:"ecosystemparam-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ecosystemparam-name"}},[t._v("#")]),t._v(" ecosystemparam/{name} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前或指定生态系统中参数 "),e("strong",[t._v("{name}")]),t._v(" 的相关信息。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/ecosystemparam/{name}[?ecosystem=1]\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求的参数名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("可以指定生态系统ID。默认返回当前的生态系统ID。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("value")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数值。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("conditions")])]),t._v(" "),e("blockquote",[e("p",[t._v("更改参数的权限。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "name": "currency",\n    "value": "MYCUR",\n    "conditions": "true"\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_ECOSYSTEM")])]),t._v(" "),e("h3",{attrs:{id:"tables-limit-offset"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tables-limit-offset"}},[t._v("#")]),t._v(" tables/[?limit=... &offset=... ] ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前生态系统的数据表列表。可以设置偏移量和条目条数。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("limit")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目条数，默认100条,最多1000条。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("offset")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("偏移量，默认为0。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/tables?limit=...&amp;offset=...\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("count")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表中的条目总数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中的每个元素包含以下参数：")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("无前缀的数据表名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("count")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表中的条目数。")])])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": "100"\n    "list": [{ \n        "name": "accounts",\n        "count": "10",\n    }, \n    { \n        "name": "citizens",\n        "count": "5",\n   }, \n    ]\n}    \n')])])]),e("h3",{attrs:{id:"table-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#table-name"}},[t._v("#")]),t._v(" table/{name} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前生态系统请求数据表的相关信息。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名称。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/table/{table_name}\n")])])]),e("p",[t._v("返回以下字段信息：")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("insert")])]),t._v(" "),e("blockquote",[e("p",[t._v("新增条目的权限。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("new_column")])]),t._v(" "),e("blockquote",[e("p",[t._v("新增字段权限。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("update")])]),t._v(" "),e("blockquote",[e("p",[t._v("更改条目权限。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("columns")])]),t._v(" "),e("blockquote",[e("p",[t._v("字段相关信息数组：")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("字段名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("type")])]),t._v(" "),e("blockquote",[e("p",[t._v("字段数据类型。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("perm")])]),t._v(" "),e("blockquote",[e("p",[t._v("更改该字段值的权限。")])])])])])])])]),t._v(" "),e("h3",{attrs:{id:"list-name-limit-offset-columns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#list-name-limit-offset-columns"}},[t._v("#")]),t._v(" list/{name}[?limit=... &offset=... &columns=... ] ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/\n返回当前生态系统中指定数据表条目的列表。可以设置偏移量和条目条数。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("limit")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目条数，默认25条。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("offset")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("偏移量，默认为0。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("columns")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/list/mytable?columns=name\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("count")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目总数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中的每个元素包含以下参数：")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])]),t._v(" "),e("li",[e("p",[t._v("请求列的序列。")])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": "10"\n    "list": [{ \n        "id": "1",\n        "name": "John",\n    }, \n    { \n        "id": "2",\n        "name": "Mark",\n   }, \n    ]\n}   \n')])])]),e("h3",{attrs:{id:"sections-limit-offset-lang"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sections-limit-offset-lang"}},[t._v("#")]),t._v(" sections[?limit=... &offset=... &lang=] ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前生态系统的 "),e("em",[t._v("sections")]),t._v("表条目的列表，可以设置偏移量和条目条数。")]),t._v(" "),e("p",[t._v("如果 "),e("em",[t._v("role_access")]),t._v("字段包含角色列表，并且不包括当前角色，则不会返回记录。\n"),e("em",[t._v("title")]),t._v(" 字段内数据将被请求头的 "),e("em",[t._v("Accept-Language")]),t._v(" 语言资源替换。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("limit")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目条数，默认25条。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("offset")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("偏移量，默认为0。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("lang")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("该字段指定多语言资源代码或本地化，例如："),e("em",[t._v("en，zh")]),t._v("。如果未找到指定的多语言资源，例如："),e("em",[t._v("en-US")]),t._v("，则在多语言资源组 "),e("em",[t._v("en")]),t._v(" 中搜索。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/sections\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("count")])]),t._v(" "),e("blockquote",[e("p",[e("em",[t._v("sections")]),t._v(" 表条目总数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中每个元素都包含sections表中所有列的信息。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": "2"\n    "list": [{\n        "id": "1",\n        "title": "Development",\n       "urlpage": "develop",\n       ...\n    },\n    ]\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_TABLENOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"row-name-id-columns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#row-name-id-columns"}},[t._v("#")]),t._v(" row/{name}/{id}[?columns=] ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前生态系统中指定数据表的条目。可以指定要返回的列。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("columns")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/row/mytable/10?columns=name\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("value")])]),t._v(" "),e("blockquote",[e("p",[t._v("接收列值的数组")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])]),t._v(" "),e("li",[e("p",[t._v("请求列的序列。")])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "values": {\n    "id": "10",\n    "name": "John",\n    }\n}   \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"row-name-colorn-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#row-name-colorn-id"}},[t._v("#")]),t._v(" row/{name}/{column}/{id} ")]),t._v(" "),e("p",[t._v("[Authorization] (#authorization)")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前生态系统中指定数据表的条目。可以指定要返回的列。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("Name")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("colorn")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表列名。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ID")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("columns")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求列的列表，以逗号分隔，如果未指定，将返回所有列。在所有情况下都会返回id列。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/row/mytable/name/John?columns=name\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("value")])]),t._v(" "),e("blockquote",[e("p",[t._v("接收列值的数组")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("em",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])]),t._v(" "),e("li",[e("p",[t._v("请求列的序列。")])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "values": {\n    "id": "10",\n    "name": "John",\n    }\n}   \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"systemparams"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#systemparams"}},[t._v("#")]),t._v(" systemparams ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回平台参数列表。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/systemparams/[?names=...]\n")])])]),e("ul",[e("li",[e("code",[t._v("names")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])])]),t._v(" "),e("p",[t._v("请求参数列表，用逗号分隔。例如\n"),e("code",[t._v("/api/v2/systemparams/?names=max_columns,max_indexes")]),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中每个元素包含以下参数：")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("value")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数值。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("conditions")])]),t._v(" "),e("blockquote",[e("p",[t._v("更改参数的权限。")])])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "list": [{ \n        "name": "max_columns",\n        "value": "100",\n        "conditions": "ContractAccess("@1UpdateSysParam")",\n    }, \n    { \n        "name": "max_indexes",\n        "value": "1",\n        "conditions": "ContractAccess("@1UpdateSysParam")",\n    }, \n    ]\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_PARAMNOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"history-name-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#history-name-id"}},[t._v("#")]),t._v(" history/{name}/{id} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前生态系统中指定数据表中条目的更改记录。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/history?name=contracts&amp;id=5\n")])])]),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据表名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中每个元素包含所请求条目的更改记录。")])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "list": [\n        {\n            "name": "default_page",\n            "value": "P(class, Default Ecosystem Page)"\n        },\n        {\n            "menu": "default_menu"\n        }\n    ]\n}\n')])])]),e("h3",{attrs:{id:"interface-page-menu-snippet-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#interface-page-menu-snippet-name"}},[t._v("#")]),t._v(" interface/{page|menu|snippet}/{name} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前生态系统指定数据表（pages，menu或snippet）中 "),e("em",[t._v("name")]),t._v(" 字段的条目。")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/interface/page/default_page\n/api/v2/interface/menu/default_menu\n/api/v2/interface/snippet/welcome\n")])])]),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("指定表中条目的名称。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("other")])]),t._v(" "),e("blockquote",[e("p",[t._v("该表的其他列。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "id": "1",\n    "name": "default_page",\n    "value": "P(Page content)",\n    "default_menu": "default_menu",\n    "validate_count": 1\n}   \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_QUERY")]),t._v(", "),e("em",[t._v("E_NOTFOUND")])]),t._v(" "),e("h2",{attrs:{id:"contract-function-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-function-interface"}},[t._v("#")]),t._v(" Contract Function Interface ")]),t._v(" "),e("h3",{attrs:{id:"contracts-limit-offset"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contracts-limit-offset"}},[t._v("#")]),t._v(" contracts[?limit=... &offset=... ] ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前生态系统中的合约列表，可以设置偏移量和条目条数。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("limit")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目条数，默认25条。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("offset")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("偏移量，默认为0。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/contracts\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("count")])]),t._v(" "),e("blockquote",[e("p",[t._v("条目总数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("list")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中每个元素包含以下参数：")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("value")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约内容。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("wallet_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约绑定的账户地址。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("address")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约绑定的钱包地址 "),e("code",[t._v("XXXX-...-XXXX")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约所属的生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("app_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约所属的应用程序ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("conditions")])]),t._v(" "),e("blockquote",[e("p",[t._v("更改合约的权限。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("token_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("作为支付合约费用的通证所在的生态系统ID。")])])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "count": "10"\n    "list": [{ \n        "id": "1",\n        "name": "MainCondition",\n        "token_id": "1", \n        "wallet_id": "0", \n        "value": "contract MainCondition {\n                conditions {\n                if(EcosysParam(`founder_account`)!=$key_id)\n                {\n                    warning `Sorry, you dont have access to this action.`\n                }\n                }\n            }",\n            "address":"0000-0000-0000-0000-0000",\n            "conditions":"ContractConditions(`MainCondition`)"\n        },\n    ...\n    ]\n }\n')])])]),e("h3",{attrs:{id:"contract-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contract-name"}},[t._v("#")]),t._v(" contract/{name} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回指定合约的相关信息。默认在当前生态系统中查询合约。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约名称。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/contract/mycontract\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("VM中合约ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("带生态系统ID的合约名称 "),e("code",[t._v("@1MainCondition")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("state")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约所属的生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("walletid")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约绑定的账户地址。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("tokenid")])]),t._v(" "),e("blockquote",[e("p",[t._v("作为支付合约费用的通证所在的生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("address")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约绑定的钱包地址 "),e("code",[t._v("XXXX-...-XXXX")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("tableid")])]),t._v(" "),e("blockquote",[e("p",[e("em",[t._v("contracts")]),t._v(" 表中合约所在的条目ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("fields")])]),t._v(" "),e("blockquote",[e("p",[t._v("数组中包含合约 "),e("strong",[t._v("data")]),t._v(" 部分每个参数的结构信息：")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("type")])]),t._v(" "),e("p",[t._v("参数类型。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("optional")])]),t._v(" "),e("blockquote",[e("p",[t._v("参数选项，`true` 表示可选参数，`false` 表示必选参数。")])])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "fields" : [\n        {"name":"amount", "type":"int", "optional": false},\n        {"name":"name", "type":"string", "optional": true}\n    ],\n    "id": 150,\n    "name": "@1mycontract",\n    "tableid" : 10,\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_CONTRACT")])]),t._v(" "),e("h3",{attrs:{id:"sendtx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sendtx"}},[t._v("#")]),t._v(" sendTX ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("POST")]),t._v("/\n接收参数中的交易并将其添加到交易队列，如果请求执行成功，则返回交易哈希。该哈希可获得区块内对应的交易，在发生错误响应时，该哈希包含在错误文本信息中。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("tx_key")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易内容，该参数可指定任何名称，支持接收多个交易。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/sendTx\n\nHeaders:\nContent-Type: multipart/form-data\n\nParameters:\ntx1 - 交易1\ntxN - 交易N\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("hashes")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易哈希数组：")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[e("code",[t._v("tx1")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易1的哈希。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("txN")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易N的哈希。")])])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "hashes": {\n        "tx1": "67afbc435634.....",\n        "txN": "89ce4498eaf7.....",\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_LIMITTXSIZE")]),t._v(","),e("em",[t._v("E_BANNED")])]),t._v(" "),e("h3",{attrs:{id:"txstatus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#txstatus"}},[t._v("#")]),t._v(" txstatus ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("POST")]),t._v("/\n返回指定交易哈希的区块ID和错误信息，如果区块ID和错误文本信息的返回值为空，则该交易尚未包含在区块中。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("data")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易哈希的JSON列表。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{"hashes":["contract1hash", "contract2hash", "contract3hash"]}\n')])])]),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/txstatus/\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("results")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据字典中交易哈希作为键，交易详细作为值。")]),t._v(" "),e("p",[e("code",[t._v("hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易哈希。")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("blockid")])]),t._v(" "),e("blockquote",[e("p",[t._v("如果交易执行成功，则返回区块ID； 如果交易执行失败，则 "),e("em",[t._v("blockid")]),t._v(" 为 [0]{.title-ref}。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("result")])]),t._v(" "),e("blockquote",[e("p",[t._v("通过 "),e("strong",[t._v("$result")]),t._v(" 变量返回交易结果。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("errmsg")])]),t._v(" "),e("blockquote",[e("p",[t._v("如果执行交易失败，则返回错误文本信息。")])])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{"results":\n  {\n    "hash1": {\n         "blockid": "3123",\n         "result": "",\n     },\n     "hash2": {\n          "blockid": "3124",\n          "result": "",\n     }\n   }\n }\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_HASHWRONG, E_HASHNOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"txinfo-hash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#txinfo-hash"}},[t._v("#")]),t._v(" txinfo/{hash} ")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/")]),t._v(" "),e("p",[t._v("返回指定哈希的交易相关信息，包括区块ID和确认数。如果指定可选参数，还可返回合约名称及其相关参数。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易哈希。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("contractinfo")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约详细参数标识，要获取该交易相关的合约详情，需指定 "),e("code",[t._v("contractinfo=1")]),t._v("。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/txinfo/c7ef367b494c7ce855f09aa3f1f2af7402535ea627fa615ebd63d437db5d0c8a?contractinfo=1\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("blockid")])]),t._v(" "),e("blockquote",[e("p",[t._v("包含该交易的区块ID。如果该值为 "),e("code",[t._v("0")]),t._v("，则找不到该哈希的交易。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("confirm")])]),t._v(" "),e("blockquote",[e("p",[t._v("该区块 "),e("em",[t._v("blockid")]),t._v(" 的确认数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("data")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("如果指定了 "),e("code",[t._v("contentinfo=1")]),t._v("，则合约详情返回给该参数。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "blockid": "9",\n    "confirm": 11,\n    "data": {\n        "block": "9",\n        "contract": "@1NewContract",\n        "params": {\n            "ApplicationId": 1,\n            "Conditions": "true",\n            "Value": "contract crashci4b {\\n\\t\\t\\tdata {}\\n\\t\\t}"\n        }\n    }\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_HASHWRONG")])]),t._v(" "),e("h3",{attrs:{id:"txinfomultiple"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#txinfomultiple"}},[t._v("#")]),t._v(" txinfoMultiple ")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/")]),t._v(" "),e("p",[t._v("返回指定哈希的交易相关信息。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("data")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("hashes")])])]),t._v(" "),e("blockquote",[e("p",[t._v("交易哈希列表。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("contractinfo")]),t._v(" "),e("a",{attrs:{href:"#omitempty"}},[t._v("Omitempty")])]),t._v(" "),e("blockquote",[e("p",[t._v("合约详细参数标识，要获取该交易相关的合约详情，需指定"),e("code",[t._v("contractinfo=1")]),t._v("。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('data: {"hashes":["contract1hash", "contract2hash", "contract3hash"]}\n')])])]),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/txinfoMultiple\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("results")])]),t._v(" "),e("blockquote",[e("p",[t._v("数据字典中交易哈希作为键，交易详细作为值。")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("交易哈希。")]),t._v(" "),e("p",[e("code",[t._v("blockid")])]),t._v(" "),e("blockquote",[e("p",[t._v("包含该交易的区块ID。如果该值为 "),e("code",[t._v("0")]),t._v("，则找不到该哈希的交易。")])]),t._v(" "),e("p",[e("code",[t._v("confirm")])]),t._v(" "),e("blockquote",[e("p",[t._v("该区块 "),e("em",[t._v("blockid")]),t._v(" 的确认数。")])]),t._v(" "),e("p",[e("code",[t._v("data")])]),t._v(" "),e("blockquote",[e("p",[t._v("如果指定了 "),e("code",[t._v("contentinfo=1")]),t._v("，则合约详情返回给该参数。")])])])])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{"results":\n  { \n    "hash1": {\n         "blockid": "3123",\n         "confirm": "5",\n     },\n     "hash2": {\n          "blockid": "3124",\n          "confirm": "3",\n     }\n   }\n }\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_HASHWRONG")])]),t._v(" "),e("h3",{attrs:{id:"page-validators-count-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#page-validators-count-name"}},[t._v("#")]),t._v(" /page/validators_count/{name} ")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("GET")])]),t._v(" "),e("p",[t._v("返回指定页面所需验证的节点数。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("带生态系统ID的页面名称，格式为 "),e("code",[t._v("@ecosystem_id%%page_name%")]),t._v("，例如 "),e("code",[t._v("@1main_page")]),t._v("。\n如果不带生态系统ID，则默认查找第一生态的页面。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/page/validators_count/@2page_name\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("validate_count")])]),t._v(" "),e("blockquote",[e("p",[t._v("指定页面所需验证的节点数。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{"validate_count":1}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND, E_SERVER")])]),t._v(" "),e("h3",{attrs:{id:"content-menu-page-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#content-menu-page-name"}},[t._v("#")]),t._v(" content/menu|page/{name} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("POST")])]),t._v(" "),e("p",[t._v("返回指定页面或菜单名称的代码JSON对象树，这是模版引擎处理的结果。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("name")]),t._v(" "),e("blockquote",[e("p",[t._v("带生态系统ID的页面名称或菜单名称，格式为 "),e("code",[t._v("@ecosystem_id%%page_name%")]),t._v("，例如 "),e("code",[t._v("@1main_page")]),t._v("。\n如果不带生态系统ID，则默认查找当前生态的页面或菜单。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/content/page/default\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("menu")]),t._v(" || "),e("code",[t._v("title")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求 "),e("em",[t._v("content/page/...")]),t._v(" 时，页面所属的菜单名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("menutree")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求 "),e("em",[t._v("content/page/...")]),t._v(" 时，页面的菜单JSON对象树。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("title")]),t._v(" --head for the menu "),e("em",[t._v("content/menu/...")])]),t._v(" "),e("blockquote",[e("p",[t._v("请求 "),e("em",[t._v("content/menu/...")]),t._v(" 时，菜单标题。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("tree")])]),t._v(" "),e("blockquote",[e("p",[t._v("页面或菜单JSON对象树。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "tree": {"type":"......", \n          "children": [\n               {...},\n               {...}\n          ]\n    },\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("code",[t._v("E_NOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"content-source-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#content-source-name"}},[t._v("#")]),t._v(" content/source/{name} ")]),t._v(" "),e("p",[e("a",{attrs:{href:"#authorization"}},[t._v("Authorization")])]),t._v(" "),e("p",[e("strong",[t._v("POST")])]),t._v(" "),e("p",[t._v("返回指定页面名称的代码JSON对象树。不执行任何函数或接收任何数据。返回的JSON对象树对应于页面模版，可以在可视化页面设计器中使用。\n如果找不到页面，则返回404错误。\n"),e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("带生态系统ID的页面名称，格式为 "),e("code",[t._v("@ecosystem_id%%page_name%")]),t._v("，例如 "),e("code",[t._v("@1main_page")]),t._v("。\n如果不带生态系统ID，则默认查找当前生态的页面。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/content/source/default\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("tree")])]),t._v(" "),e("blockquote",[e("p",[t._v("页面的JSON对象树。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "tree": {"type":"......", \n          "children": [\n               {...},\n               {...}\n          ]\n    },\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND, E_SERVER")])]),t._v(" "),e("h3",{attrs:{id:"content-hash-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#content-hash-name"}},[t._v("#")]),t._v(" content/hash/{name} ")]),t._v(" "),e("p",[e("strong",[t._v("POST")])]),t._v(" "),e("p",[t._v("返回指定页面名称的SHA256哈希，如果找不到页面，则返回404错误。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。要向其他节点发出请求时接收正确的哈希，还必须传递 "),e("em",[t._v("ecosystem,keyID,roleID")]),t._v(" 参数。\n要从其他生态系统接收页面，生态系统ID必须在页面名称中添加前缀。例如："),e("code",[t._v("@2mypage")]),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/content/hash/default\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("name")])]),t._v(" "),e("blockquote",[e("p",[t._v("带生态系统ID的页面名称。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("keyID")])]),t._v(" "),e("blockquote",[e("p",[t._v("账户地址。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("roleID")])]),t._v(" "),e("blockquote",[e("p",[t._v("角色ID。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("十六进制哈希值。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "hash": "b631b8c28761b5bf03c2cfbc2b49e4b6ade5a1c7e2f5b72a6323e50eae2a33c6"\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND, E_SERVER, E_HEAVYPAGE")])]),t._v(" "),e("h3",{attrs:{id:"content"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#content"}},[t._v("#")]),t._v(" content ")]),t._v(" "),e("p",[e("strong",[t._v("POST")])]),t._v(" "),e("p",[t._v("从 "),e("strong",[t._v("template")]),t._v(" 参数返回页面代码的JSON对象数，如果将可选参数 "),e("strong",[t._v("source")]),t._v(" 指定为"),e("code",[t._v("true或1")]),t._v("，则该JSON对象树不执行任何函数和接收数据。\n该JSON对象树可以在可视化页面设计器中使用。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("template")])]),t._v(" "),e("blockquote",[e("p",[t._v("页面代码。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("source")])]),t._v(" "),e("blockquote",[e("p",[t._v("如果指定为 "),e("code",[t._v("true或1")]),t._v("，则JSON对象树不执行任何函数和接收数据。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/content\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("tree")])]),t._v(" "),e("blockquote",[e("p",[t._v("JSON对象树。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "tree": {"type":"......", \n          "children": [\n               {...},\n               {...}\n          ]\n    },\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND, E_SERVER")])]),t._v(" "),e("h3",{attrs:{id:"maxblockid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#maxblockid"}},[t._v("#")]),t._v(" maxblockid ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回当前节点上的最高区块ID。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/maxblockid\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("max_block_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("当前节点上的最高区块ID。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "max_block_id" : 341,\n}\n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"block-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#block-id"}},[t._v("#")]),t._v(" block/{id} ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回指定区块ID的相关信息。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("区块ID。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/block/32\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("区块哈希值。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("key_id")])]),t._v(" "),e("blockquote",[e("p",[t._v("签署该区块的账户地址。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("time")])]),t._v(" "),e("blockquote",[e("p",[t._v("区块生成时间戳。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("tx_count")])]),t._v(" "),e("blockquote",[e("p",[t._v("该区块内的交易总数。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("rollbacks_hash")])]),t._v(" "),e("blockquote",[e("p",[t._v("区块回滚哈希值。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("node_position")])]),t._v(" "),e("blockquote",[e("p",[t._v("该区块在 荣誉节点 列表的位置。")])])])]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "hash": "1x4S5s/zNUTopP2YK43SppEyvT2O4DW5OHSpQfp5Tek=",\n    "key_id": -118432674655542910,\n    "time": 1551145365,\n    "tx_count": 3,\n    "rollbacks_hash": "47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=",\n    "node_position": 0,\n}      \n')])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND")])]),t._v(" "),e("h3",{attrs:{id:"avatar-ecosystem-member"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#avatar-ecosystem-member"}},[t._v("#")]),t._v(" avatar/{ecosystem}/{member} ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回 "),e("em",[t._v("member")]),t._v(" 表中用户的头像（无需登录即可使用）。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("ecosystem")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("member")])]),t._v(" "),e("blockquote",[e("p",[t._v("用户的账户地址。(xxxx-...-xxxx)")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/avatar/1/1234-2134-...-4321\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("p",[t._v("请求头 "),e("em",[t._v("Content-Type")]),t._v(" 为图像类型，图像数据在响应体中返回。")]),t._v(" "),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("200 (OK)\nContent-Type: image/png  \n")])])]),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_NOTFOUND")]),t._v(" "),e("em",[t._v("E_SERVER")])]),t._v(" "),e("h3",{attrs:{id:"config-centrifugo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#config-centrifugo"}},[t._v("#")]),t._v(" config/centrifugo ")]),t._v(" "),e("p",[e("strong",[t._v("GET")]),t._v("/ 返回centrifugo的主机地址和端口。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET\n/api/v2/config/centrifugo\n")])])]),e("p",[e("strong",[t._v("响应")])]),t._v(" "),e("p",[t._v("响应结果格式 "),e("code",[t._v("http://address:port")]),t._v("，例如: "),e("code",[t._v("http://127.0.0.1:8100")]),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("错误响应")])]),t._v(" "),e("p",[e("em",[t._v("E_SERVER")])]),t._v(" "),e("h3",{attrs:{id:"updnotificator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#updnotificator"}},[t._v("#")]),t._v(" updnotificator ")]),t._v(" "),e("p",[e("strong",[t._v("POST")]),t._v("/")]),t._v(" "),e("p",[t._v("(已弃用)")]),t._v(" "),e("p",[t._v("发送尚未发送到centrifugo通知服务的所有消息。仅发送指定生态系统和成员的消息。")]),t._v(" "),e("p",[t._v("该请求不需要登录授权。")]),t._v(" "),e("p",[e("strong",[t._v("请求")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("id")])]),t._v(" "),e("blockquote",[e("p",[t._v("成员的账户地址。")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ecosystem")])]),t._v(" "),e("blockquote",[e("p",[t._v("生态系统ID。")])])])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("POST\n/api/v2/updnotificator\n")])])]),e("p",[e("strong",[t._v("响应示例")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200 (OK)\nContent-Type: application/json\n{\n    "result": true\n}      \n')])])]),e("h3",{attrs:{id:"special-instructions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#special-instructions"}},[t._v("#")]),t._v(" 特殊说明 ")]),t._v(" "),e("h4",{attrs:{id:"omitempty"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#omitempty"}},[t._v("#")]),t._v(" Omitempty ")]),t._v(" "),e("p",[t._v("如字段带有omitempty属性，表示此字段为可选参数")]),t._v(" "),e("h4",{attrs:{id:"authorization"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authorization"}},[t._v("#")]),t._v(" Authorization ")]),t._v(" "),e("p",[t._v("如接口带有Authorization标签，表示此接口需要login授权，请求头添加Authorization，示例：")]),t._v(" "),e("p",[t._v('key = Authorization\nvalue = "Bearer +'),e("a",{attrs:{href:"#login"}},[t._v("login token")]),t._v('"')]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("    Authorization   Bearer eyJhbGciOiJI.....kBZgGIlPhfXNZJ73RiZtM\n")])])])])}),[],!1,null,null,null);e.default=_.exports}}]);