(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{376:function(t,s,a){"use strict";a.r(s);var e=a(14),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ibax-development-tutorial"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ibax-development-tutorial"}},[t._v("#")]),t._v(" IBAX 開発チュートリアル ")]),t._v(" "),s("h2",{attrs:{id:"getting-started-guide"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-started-guide"}},[t._v("#")]),t._v(" 初めての利用ガイド ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#deploy-first-smart-contract-via-command-line-tool"}},[t._v("コマンドラインツールを使用して最初のスマートコントラクトをデプロイする")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#command-line-tool-eco-development"}},[t._v("コマンドラインツールを使用したエコ開発")])])]),t._v(" "),s("h2",{attrs:{id:"deployment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deployment"}},[t._v("#")]),t._v(" デプロイ ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#deploy-application-using-command-line-tools"}},[t._v("コマンドラインツールを使用してアプリケーションをデプロイする")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#ecosystem-configuration-using-command-line-tool"}},[t._v("コマンドラインツールを使用したエコ設定")])])]),t._v(" "),s("h2",{attrs:{id:"advanced-guide"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#advanced-guide"}},[t._v("#")]),t._v(" 高度なガイド ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#deploy-applications-using-application-packaging-tool"}},[t._v("アプリケーションパッケージングツールを使用してアプリケーションをデプロイする")])])]),t._v(" "),s("h2",{attrs:{id:"deploy-first-smart-contract-via-command-line-tool"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy-first-smart-contract-via-command-line-tool"}},[t._v("#")]),t._v(" コマンドラインツールを使用して最初のスマートコントラクトをデプロイする ")]),t._v(" "),s("p",[t._v("IBAX ブロックチェーン上にスマートコントラクトをデプロイし、スマートコントラクトの呼び出し方を学ぶために、"),s("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("コマンドラインツール"),s("OutboundLink")],1),t._v("を使用します。\n最初のスマートコントラクトとして、それを"),s("RouterLink",{attrs:{to:"/ja/concepts/blockchain-layers.html"}},[t._v("ローカルテストネットワーク")]),t._v("にデプロイします。ローカルネットワークのデプロイ方法については、"),s("RouterLink",{attrs:{to:"/ja/howtos/deployment.html"}},[t._v("ネットワークデプロイ")]),t._v("を参照してください。\nこれにより、オーバーヘッドなしで自由にデプロイして実行できます。")],1),t._v(" "),s("h3",{attrs:{id:"create-application"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-application"}},[t._v("#")]),t._v(" アプリケーションの作成  ")]),t._v(" "),s("p",[t._v("@1NewApplication というコントラクトを呼び出して、アプリケーションを作成します。アプリケーション名のパラメータと"),s("RouterLink",{attrs:{to:"/ja/concepts/about-the-platform.html#access-rights-control-mechanism"}},[t._v("アクセス権制御メカニズム")]),t._v("の修正パラメータがあります。")],1),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('1  $ ibax-cli console\n2    \n3  Welcome to the IBAX console!\n4  To exit, press ctrl-d or type exit\n5  >callContract @1NewApplication {"Name": "testapp", "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"}\n6  \n7  {\n8    "block_id": 1217,\n9    "hash": "6327161d2202c33c06d34ab4ed9b509c05fc2cbb15cf260c6d3d404a6f640028",\n10   "penalty": 0,\n11   "err": "31"\n12 }\n')])])]),s("p",[t._v("以下は行ごとに説明されています：")]),t._v(" "),s("ul",[s("li",[t._v("1行目、コマンドラインターミナルを起動します。")]),t._v(" "),s("li",[t._v("5行目、@1NewApplication コントラクトを呼び出して、アプリケーション名を "),s("code",[t._v("testapp")]),t._v("、アプリケーションの修正権限を "),s("code",[t._v("@1DeveloperCondition")]),t._v("（開発者権限）で作成します。")]),t._v(" "),s("li",[t._v("8行目、トランザクションによって生成されたブロックIDです。")]),t._v(" "),s("li",[t._v("9行目、トランザクションによって生成されたブロックハッシュです。")]),t._v(" "),s("li",[t._v("10行目、トランザクションの実行が失敗した場合は (0: ペナルティなし 1: ペナルティあり) です。")]),t._v(" "),s("li",[t._v("11行目、トランザクションの実行が失敗した場合はエラーテキストメッセージが返され、ブロックIDが返される場合は err フィールドがアプリケーションのIDです。")])]),t._v(" "),s("p",[t._v("もちろん、このコントラクトで利用可能なフィールドやフィールドのタイプを確認したい場合は、"),s("code",[t._v("getContractInfo")]),t._v(" メソッドを呼び出すことができます。以下はコントラクト情報の返り値です：")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('>getContractInfo @1NewApplication\n\n{\n    "id": 5022,\n    "state": 1,\n    "tableid": "22",\n    "walletid": "0",\n    "tokenid": "1",\n    "address": "0000-0000-0000-0000-0000",\n    "fields": [\n        {\n            "name": "Name",\n            "type": "string",\n            "optional": false\n        },\n        {\n            "name": "Conditions",\n            "type": "string",\n            "optional": false\n        },\n        {\n            "name": "VotingId",\n            "type": "int",\n            "optional": true\n        }\n    ],\n    "name": "@1NewApplication",\n    "app_id": 1,\n    "ecosystem": 1,\n    "conditions": "ContractConditions(\\"@1DeveloperCondition\\")"\n}\n')])])]),s("p",[s("code",[t._v("fields")]),t._v(" フィールドは、コントラクトのパラメータを含みます。パラメータの名前 "),s("code",[t._v("name")]),t._v("、"),s("code",[t._v("type")]),t._v("、"),s("code",[t._v("optional")]),t._v(" が含まれています。\n"),s("code",[t._v("Name")]),t._v(" と "),s("code",[t._v("Conditions")]),t._v(" は必須であり、"),s("code",[t._v("VotingId")]),t._v(" はオプションです。"),s("RouterLink",{attrs:{to:"/ja/reference/api2.html#contract-name"}},[t._v("contract/name")]),t._v(" API メソッドを参照してください。")],1),t._v(" "),s("h3",{attrs:{id:"writing-contracts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#writing-contracts"}},[t._v("#")]),t._v(" コントラクトの記述 ")]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/ja/topics/script.html#needle-contract-language"}},[t._v("Needle")]),t._v(" を使用して、以下のような簡単な足し算の操作を行うスマートコントラクトを記述します。コントラクトのソースコードは以下の通りであり、"),s("code",[t._v("SumMath.sim")]),t._v(" として保存します。")],1),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("1    contract SumMath {\n2        data {\n3            A int\n4            B int\n5        }\n6        conditions {\n7    \n8        }\n9        action {\n10            var sum int\n11            sum = $A + $B\n12            $result = sum\n13        }\n14    }\n")])])]),s("p",[t._v("以下は、行ごとに説明されています：")]),t._v(" "),s("ul",[s("li",[t._v("1行目では、SumMathという名前のコントラクトを定義しています。")]),t._v(" "),s("li",[t._v("2行目では、"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#data-section"}},[t._v("Dataセクション")]),t._v("を定義しています。")],1),t._v(" "),s("li",[t._v("3-4行目では、2つの入力64ビット整数型パラメータ "),s("code",[t._v("A B")]),t._v(" を定義しています。")]),t._v(" "),s("li",[t._v("6行目では、"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#conditions-section"}},[t._v("Conditionalセクション")]),t._v("を定義しています。")],1),t._v(" "),s("li",[t._v("9行目では、"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#action-section"}},[t._v("Operationsセクション")]),t._v("を定義しています。変数sumを定義し、A+Bの結果を受け取ります。")],1)]),t._v(" "),s("p",[t._v("sumの値を$resultに代入し、コントラクトの結果として表示します。もちろん、A+Bの値を直接$resultに代入することも可能ですが、例として示すことができます。")]),t._v(" "),s("h3",{attrs:{id:"create-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-contract"}},[t._v("#")]),t._v(" コントラクトの作成 ")]),t._v(" "),s("p",[t._v("コントラクトの作成方法は2つありますが、最初の方法は以下の通りです：\n最初のステップでは、json形式のコントラクトパラメータファイルを作成します：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ApplicationId"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contract SumMath {\\n    data {\\n        A int\\n        B int\\n    }\\n    conditions {\\n\\n    }\\n    action {\\n        var sum int\\n        sum = $A + $B\\n        $result = sum\\n    }\\n}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Conditions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractConditions(\\"@1DeveloperCondition\\")"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、"),s("code",[t._v("ApplicationId")]),t._v(" はアプリケーション ID、"),s("code",[t._v("Value")]),t._v(" はコントラクトのソース コード、特殊文字をエスケープする必要があります、"),s("code",[t._v("Conditions")]),t._v(" はコントラクトの変更権限です")]),t._v(" "),s("p",[t._v("SumMathParams.json という名前を付けました。")]),t._v(" "),s("p",[t._v("2 番目のステップでは、コントラクトを作成する @1NewContract を呼び出します。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('1    >callContract @1NewContract -f=./data/SumMathParams.json\n2    {\n3        "block_id": 1238,\n4        "hash": "f3fe7aff8a613c96299723b7e9af0682aa8cabe7becf67a485e2a77a974f58b6",\n5        "penalty": 0,\n6        "err": "328"\n7    }\n')])])]),s("p",[t._v("2 番目の方法:\n保存されたコントラクト ソース ファイルは、次のようにパラメータ形式 "),s("code",[t._v("paramsName")]),t._v(" + "),s("code",[t._v("-")]),t._v(' + "file",'),s("code",[t._v("paramsName-file")]),t._v(" でコントラクト パラメータに直接渡されます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1NewContract "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ApplicationId"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Value-file"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SumMath.sim"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Conditions"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2055")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cdf25060669cf7cba137278...26ca463fd5d458f3402a5f0137f693db"')]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"penalty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"err"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"368"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("以下を行ごとに説明します。")]),t._v(" "),s("ul",[s("li",[t._v("行 1: コントラクト @1NewContract を呼び出してコントラクトを作成します。 -f はファイルを使用してコントラクト パラメーターをインポートします。")]),t._v(" "),s("li",[t._v("行 3、トランザクションによって生成されたブロック ID")]),t._v(" "),s("li",[t._v("行 4、トランザクションによって生成されたブロック ハッシュ")]),t._v(" "),s("li",[t._v("5 行目、トランザクションの実行が失敗した場合 (0: ペナルティなし 1: ペナルティ)")]),t._v(" "),s("li",[t._v("6 行目、トランザクションの実行が失敗した場合、エラー テキスト メッセージが返され、ブロック ID が返された場合、err フィールドはコントラクトの ID になります。")])]),t._v(" "),s("p",[t._v("デプロイしたばかりのコントラクトを呼び出してみましょう")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @5SumMath "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A"')]),t._v(":1, "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"B"')]),t._v(":2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1239")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7fa09da0b9f65634119a910f9d91aaf4927208278efd62961499ef7e4f4c8c9c"')]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"penalty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"err"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("呼び出しは完了し、以下の行ごとに説明されているように、結果は期待どおりになります。")]),t._v(" "),s("ul",[s("li",[t._v("最初の行はコントラクトを呼び出します。ここでは、エコロジー ID 5 のエコロジーにコントラクトをデプロイします。もちろん、現在のエコロジー ID が 5 の場合は、同じエコロジー内で "),s("code",[t._v('callContract SumMath {"A":1 を呼び出すこともできます。 , "B":2}')]),t._v(" このように")]),t._v(" "),s("li",[t._v("行 3、トランザクションによって生成されたブロック ID")]),t._v(" "),s("li",[t._v("行 4、トランザクションによって生成されたブロック ハッシュ")]),t._v(" "),s("li",[t._v("5 行目、トランザクションの実行が失敗した場合 (0: ペナルティなし 1: ペナルティ)")]),t._v(" "),s("li",[t._v("6 行目、トランザクションの実行が失敗した場合、エラー テキスト メッセージが返され、ブロック ID が返された場合、err フィールドはコントラクトの結果、つまり "),s("code",[t._v("$result")]),t._v(" の値になります。")])]),t._v(" "),s("h2",{attrs:{id:"command-line-tool-eco-development"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#command-line-tool-eco-development"}},[t._v("#")]),t._v(" コマンドラインツールのエコ開発 ")]),t._v(" "),s("p",[t._v("このチュートリアルでは、次の方法を学びます。")]),t._v(" "),s("ul",[s("li",[t._v("1."),s("a",{attrs:{href:"#step-1-create-ecosystem"}},[t._v("エコシステムの作成")])]),t._v(" "),s("li",[t._v("2."),s("a",{attrs:{href:"#step-2-create-application"}},[t._v("アプリケーションの作成")])]),t._v(" "),s("li",[t._v("3."),s("a",{attrs:{href:"#step-3-create-table"}},[t._v("テーブルの作成")])]),t._v(" "),s("li",[t._v("4."),s("a",{attrs:{href:"#step-4-create-application-parameters"}},[t._v("アプリケーションパラメータの作成")])]),t._v(" "),s("li",[t._v("5."),s("a",{attrs:{href:"#step-5-create-contract-deploy-contract"}},[t._v("コントラクトの作成とデプロイ")])]),t._v(" "),s("li",[t._v("6."),s("a",{attrs:{href:"#step-6-create-ecosystem-parameters"}},[t._v("生態パラメータの作成")])]),t._v(" "),s("li",[t._v("7."),s("a",{attrs:{href:"#step-7-add-localization"}},[t._v("ローカリゼーションを追加")])]),t._v(" "),s("li",[t._v("8."),s("a",{attrs:{href:"#step-8-modify-the-contract"}},[t._v("契約変更")])]),t._v(" "),s("li",[t._v("9."),s("a",{attrs:{href:"#step-9-modify-data-table-permissions"}},[t._v("データテーブル権限の変更")])])]),t._v(" "),s("p",[t._v("以下は、IBAXのエコロジーとアプリケーションがどのようなものであり、それらが何をするのかをより明確に理解するために、エコロジーとアプリケーションがどこに所属するべきかを理解することが好ましいです。簡単なマインドマップでより良く理解できます:")]),t._v(" "),s("p",[s("img",{attrs:{src:"/ibax-eco.png",alt:"image"}})]),t._v(" "),s("p",[t._v("IBAXネットワークには複数の"),s("RouterLink",{attrs:{to:"/ja/concepts/about-the-platform.html#ecolib"}},[t._v("エコロジー")]),t._v("が存在することがわかります。\n各エコロジーには複数の"),s("RouterLink",{attrs:{to:"/ja/concepts/about-the-platform.html#applications"}},[t._v("アプリケーション")]),t._v("が存在することができます。\n各アプリケーションには"),s("RouterLink",{attrs:{to:"/ja/concepts/thesaurus.html#smart-contract"}},[t._v("スマートコントラクト")]),t._v("が存在します。\n"),s("RouterLink",{attrs:{to:"/ja/concepts/about-the-platform.html#tables"}},[t._v("テーブル")]),t._v("もあります。\nエコロジーにはエコロジーパラメータ、アプリケーションにはアプリケーションパラメータがあります。")],1),t._v(" "),s("h3",{attrs:{id:"step-1-create-ecosystem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-1-create-ecosystem"}},[t._v("#")]),t._v(" ステップ 1 エコシステムの作成  ")]),t._v(" "),s("p",[t._v("まず、"),s("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("コマンドラインツール"),s("OutboundLink")],1),t._v("を使用してエコシステムを作成します。@1NewEcosystemコントラクトを呼び出します。\nエコシステム名を変更したい場合は、"),s("code",[t._v("@1EditEcosystemName")]),t._v("コントラクトを呼び出すことができます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("    $ ibax-cli console\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("    Welcome to the IBAX console"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("    To exit, press ctrl-d or "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1NewEcosystem "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"goodBoy school"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("    \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1199")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a1dc90c1772545c16394b9521...227676b27b145743556a8973dd"')]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"penalty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"err"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("以下の内容を行ごとに説明します：")]),t._v(" "),s("ul",[s("li",[t._v("行1: コマンドラインコンソールプログラムを起動します。")]),t._v(" "),s("li",[t._v("行5: "),s("code",[t._v("@1NewEcosystem")]),t._v("コントラクトを呼び出して、テストエコシステムという名前のエコシステムを作成します。")]),t._v(" "),s("li",[t._v("行8: トランザクションによって生成されたブロックIDです。")]),t._v(" "),s("li",[t._v("行9: トランザクションによって生成されたブロックハッシュです。")]),t._v(" "),s("li",[t._v("行10: トランザクションの実行が失敗した場合のステータスです（0: ペナルティなし 1: ペナルティあり）。")]),t._v(" "),s("li",[t._v("行11: トランザクションの実行が失敗した場合、エラーテキストメッセージが返されます。ブロックIDが返された場合、エラーフィールドはエコロジーのIDとなります（18）。")])]),t._v(" "),s("p",[t._v("次に、コマンドツールの"),s("code",[t._v("config.yml")]),t._v("を設定し、作成したエコシステムのecid（18）を"),s("code",[t._v("ecosystem")]),t._v("に設定し、コマンドラインコンソールプログラムを再起動します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("exit\nINFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("0002"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Exit\n\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" data/config.yml\n\n$ ibax-cli console\n\nWelcome to the IBAX console"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nTo exit, press ctrl-d or "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h3",{attrs:{id:"step-2-create-application"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-2-create-application"}},[t._v("#")]),t._v(" ステップ 2 アプリケーションの作成 ")]),t._v(" "),s("p",[s("code",[t._v("@1NewApplication")]),t._v("コントラクトを呼び出して、アプリケーションを作成します。このコントラクトにはアプリケーション名のパラメータと変更権限のパラメータがあります。")]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/ja/concepts/about-the-platform.html#access-rights-control-mechanism"}},[t._v("Permission Parameter")]),t._v("については、アクセス権制御メカニズムのドキュメントを参照してください。")],1),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('1  >callContract @1NewApplication {"Name": "GradesRecorder", "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"}\n2  \n3  {\n4     "block_id": 1246,\n5     "hash": "85ab8953d26d0d1047fc610866115331babfaf88c80792d50b41826185c9f6f8",\n6     "penalty": 0,\n7     "err": "47"\n8  }\n')])])]),s("p",[t._v("アプリケーションの権限を変更する必要がある場合は、"),s("code",[t._v("EditApplication")]),t._v(" コントラクトを呼び出すことができます。")]),t._v(" "),s("p",[t._v("以下を行ごとに説明します。")]),t._v(" "),s("ul",[s("li",[t._v("1 行目、コントラクト @1NewApplication を呼び出してアプリケーションを作成します。アプリケーション名は "),s("code",[t._v("GradesRecorder")]),t._v("、アプリケーションの変更権限は開発者権限 "),s("code",[t._v("@1DeveloperCondition")]),t._v(" です。")]),t._v(" "),s("li",[t._v("行 4、トランザクションによって生成されたブロック ID")]),t._v(" "),s("li",[t._v("行 5、トランザクションによって生成されたブロック ハッシュ")]),t._v(" "),s("li",[t._v("6 行目、トランザクションの実行が失敗した場合 (0: ペナルティなし 1: ペナルティ)")]),t._v(" "),s("li",[t._v("7 行目、トランザクションの実行が失敗した場合はエラー テキスト メッセージが返され、ブロック ID が返された場合は、アプリケーションの ID である err フィールドは "),s("code",[t._v("47")]),t._v(" になります。")])]),t._v(" "),s("p",[t._v("学生の成績を記録するアプリケーションのシンプルな例を書いてみましょう。\nデータテーブルのフィールドには、学生情報、成績（"),s("code",[t._v("grade")]),t._v("）、クラス（"),s("code",[t._v("class")]),t._v("）、科目の成績（"),s("code",[t._v("mathematics")]),t._v("、"),s("code",[t._v("physics")]),t._v("、"),s("code",[t._v("literature")]),t._v("）、総合スコア（"),s("code",[t._v("overall_score")]),t._v("）、評価（"),s("code",[t._v("score")]),t._v("）、作成タイムスタンプ（ミリ秒）（"),s("code",[t._v("created_at")]),t._v("）が含まれます。")]),t._v(" "),s("h3",{attrs:{id:"step-3-create-table"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-3-create-table"}},[t._v("#")]),t._v(" ステップ 3 テーブルの作成 ")]),t._v(" "),s("p",[t._v("最初のステップでは、コントラクト パラメータ ファイルを json 形式で作成します。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ApplicationId"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("47")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grade_info"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ColumnsArr"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"student"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"class"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mathematics"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"physics"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"literature"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"overall_score"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"score"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"TypesArr"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"varchar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"varchar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"InsertPerm"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractConditions(\\"MainCondition\\")"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"UpdatePerm"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractConditions(\\"MainCondition\\")"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ReadPerm"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"NewColumnPerm"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractConditions(\\"MainCondition\\")"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、"),s("code",[t._v("ApplicationId")]),t._v(" はアプリケーション ID、"),s("code",[t._v("Name")]),t._v(" は作成されたデータ テーブル "),s("code",[t._v("test_teble")]),t._v(" の名前です。\n"),s("code",[t._v("ColumnsArr")]),t._v(" はデータ テーブル フィールドの配列であり、"),s("code",[t._v("TypesArr")]),t._v(" は 9 つの "),s("RouterLink",{attrs:{to:"/ja/concepts/about-the-platform.html#tables"}},[t._v("タイプ")]),t._v(" を含むデータ テーブル フィールドのタイプです。\n"),s("code",[t._v("varchar")]),t._v(","),s("code",[t._v("character")]),t._v(","),s("code",[t._v("json")]),t._v(","),s("code",[t._v("number")]),t._v(","),s("code",[t._v("datetime")]),t._v(","),s("code",[t._v("double")]),t._v(","),s("code",[t._v("money")]),t._v(","),s("code",[t._v("text")]),t._v(","),s("code",[t._v("bytea")]),t._v("、フィールド名とフィールド型は 1 対 1 に対応します 。\nデータテーブルの新規エントリ権限の場合は "),s("code",[t._v("InsertPerm")]),t._v("、データテーブルの更新エントリ権限の場合は "),s("code",[t._v("UpdatePerm")]),t._v("、データテーブルのデータ読み取り権限の場合は "),s("code",[t._v("ReadPerm")]),t._v("、データテーブルの新規フィールド権限の場合は "),s("code",[t._v("NewColumnPerm")]),t._v(" "),s("RouterLink",{attrs:{to:"/ja/concepts/about-the-platform.html#access-rights-control-mechanism"}},[t._v("Permission Control")]),t._v(' を参照すると、現在のエコシステム作成者はここで「ContractConditions("MainCondition")」を利用できます。')],1),t._v(" "),s("p",[t._v("これに createTable.json という名前を付け、データ テーブル "),s("code",[t._v("@1NewTableJoint")]),t._v(" を作成するコントラクトを呼び出します")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(">callContract @1NewTableJoint -f ./createTestTable.json\n")])])]),s("h4",{attrs:{id:"modify-data-table-field-permissions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modify-data-table-field-permissions"}},[t._v("#")]),t._v(" データテーブルフィールドの権限を変更する ")]),t._v(" "),s("p",[t._v("データ テーブル フィールドの権限を変更できます。データ テーブル フィールドの権限には、読み取り権限と更新権限が含まれます。読み取り権限には、\n"),s("code",[t._v("DBFind.Columns")]),t._v(" フィルター フィールドまたは "),s("RouterLink",{attrs:{to:"/ja/reference/api2.html#list-name-limit-offset-columns"}},[t._v("list")]),t._v(" クエリなどのインターフェイスを使用するコントラクト内で、\n権限がない場合は、権限エラーが報告されます。\n更新権限は、データテーブルのフィールドを更新する権限です。\nここでは"),s("code",[t._v("student")]),t._v("フィールドの読み取りおよび更新権限を「false」に設定していますが、もちろん、何らかの契約によって操作可能に設定することもできます。\n"),s("code",[t._v("@1EditColumn")]),t._v(" コントラクトを呼び出して、データ テーブルのフィールド権限を変更します")],1),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1EditColumn "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TableName"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grade_info"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"student"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UpdatePerm"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ReadPerm"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("いくつかのアプリケーションパラメータ"),s("code",[t._v("grade_best_type")]),t._v("、"),s("code",[t._v("grade_type_a+")]),t._v("、"),s("code",[t._v("grade_type_a")]),t._v("、"),s("code",[t._v("grade_type_b+")]),t._v("、"),s("code",[t._v("grade_type_b")]),t._v("、"),s("code",[t._v("grade_type_c")]),t._v("、グレード評価タイプを作成できます。")]),t._v(" "),s("h3",{attrs:{id:"step-4-create-application-parameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-4-create-application-parameters"}},[t._v("#")]),t._v(" ステップ 4 アプリケーションパラメータの作成 ")]),t._v(" "),s("p",[t._v("コントラクト "),s("code",[t._v("@1NewAppParam")]),t._v(" を呼び出してアプリケーション パラメータを作成します。アプリケーション パラメータを変更したい場合は、コントラクト "),s("code",[t._v("@1EditAppParam")]),t._v(" を呼び出すことができます。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_best_type", "Value": "A+", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_a+", "Value": "{\\"max\\": 101,\\"min\\": 90}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_a", "Value": "{\\"max\\": 90,\\"min\\": 80}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_b+", "Value": "{\\"max\\": 80,\\"min\\": 70}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_b", "Value": "{\\"max\\": 70,\\"min\\": 60}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_c", "Value": "{\\"max\\": 60,\\"min\\": 0}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n')])])]),s("p",[s("code",[t._v("grade_best_type")]),t._v("は最高の評価タイプです。\n"),s("code",[t._v("grade_type_a+")]),t._v("は"),s("code",[t._v("A+")]),t._v("の評価でトリガーされる条件で、スコアが90以上101未満の場合、評価は"),s("code",[t._v("A+")]),t._v("となります。他のパラメータも同様です。")]),t._v(" "),s("h3",{attrs:{id:"step-5-create-contract-deploy-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-5-create-contract-deploy-contract"}},[t._v("#")]),t._v(" ステップ 5 コントラクトの作成 コントラクトの展開 ")]),t._v(" "),s("p",[t._v("学生の成績情報と各教科の最終評価を記録するための契約を作成し、情報を入力する際には学生の成績クラスと成績を各教科ごとに入力します。\n各教科の入力スコアに基づいて平均計算を行い、総合スコア"),s("code",[t._v("overallScore")]),t._v("と最終評価"),s("code",[t._v("score")]),t._v("を取得します。\n契約が呼び出されると、私たちが作成したデータテーブル"),s("code",[t._v("grade_info")]),t._v("にレコードが作成されます。")]),t._v(" "),s("p",[t._v("まず、契約を作成し、"),s("code",[t._v("NewRecord.sim")]),t._v("という名前を付けます。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('1 contract NewRecord {\n2       data {\n3         Student string\n4         Grade int\n5         Class int\n6         Mathematics int\n7         Physics int\n8         Literature int\n9       }\n10     func getScore(a b c int) map{\n11          var m map\n12          var overallScore int\n13          overallScore = (a+b+c) / 3\n14          m["overallScore"] = overallScore\n15          if overallScore >= $gradeTypeABest["min"] &amp;&amp; overallScore &lt; $gradeTypeABest["max"] {\n16              m["score"] = "A+"\n17          }elif overallScore >= $gradeTypeA["min"] &amp;&amp; overallScore &lt; $gradeTypeA["max"] {\n18              m["score"] = "A"\n19          }elif overallScore >= $gradeTypeBBest["min"] &amp;&amp; overallScore &lt; $gradeTypeBBest["max"] {\n20              m["score"] = "B+"\n21          }elif overallScore >= $gradeTypeB["min"] &amp;&amp; overallScore &lt; $gradeTypeB["max"] {\n22              m["score"] = "B"\n23          }elif overallScore >= $gradeTypeC["min"] &amp;&amp; overallScore &lt; $gradeTypeC["max"]{\n24              m["score"] = "C"\n25          }else{\n26              m["score"] = "Notset"\n27          }\n28          return m\n29      }\n30      func safeJsonDecode(m string) map {\n31          var res map\n32          if Size(m) > 0 {\n33             res = JSONDecode(m)\n34          }\n35          return res\n36      }\n37\n38      conditions {\n39          if Size($Student) == 0 {\n40            warning "Student Can not be empty"\n41          }\n42          if $Class &lt;= 0{\n43              warning "Class cannot be less than or equal to zero"\n44          }\n45          if $Grade &lt;= 0{\n46              warning "Grade cannot be less than or equal to zero"\n47          }\n48          if $Mathematics &lt; 0 {\n49              warning "Mathematics cannot be less than zero"\n50          }\n51          if $Physics &lt; 0 {\n52              warning "Physics cannot be less than zero"\n53          }\n54          if $Literature &lt; 0 {\n55              warning "Literature cannot be less than zero"\n56          }\n57          if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\n58              warning "Score cannot exceed 100"\n59          }\n60          var app map\n61          app = DBFind("@1applications").Columns("id,ecosystem").Where({"ecosystem": 18,"name":"GradesRecorder","deleted":0}).Row()\n62          if !app {\n63              warning LangRes("@1app_not_found")\n64          }\n65\n66          var app_id int\n67          app_id = Int(app["id"])\n68          $eId = Int(app["ecosystem"])\n69          $gradeBestType = AppParam(app_id, "grade_best_type", $eId)\n70          $gradeTypeABest = safeJsonDecode(AppParam(app_id, "grade_type_a+", $eId))\n71          $gradeTypeA = safeJsonDecode(AppParam(app_id, "grade_type_a", $eId))\n72          $gradeTypeBBest = safeJsonDecode(AppParam(app_id, "grade_type_b+", $eId))\n73          $gradeTypeB = safeJsonDecode(AppParam(app_id, "grade_type_b", $eId))\n74          $gradeTypeC = safeJsonDecode(AppParam(app_id, "grade_type_c", $eId))\n75      }\n76      action {\n77          var m map\n78          m = getScore($Mathematics,$Physics,$Literature)\n79          var in map\n80          in["student"] = $Student\n81          in["class"] = $Class\n82          in["grade"] = $Grade\n83          in["mathematics"] = $Mathematics\n84          in["physics"] = $Physics\n85          in["literature"] = $Literature\n86          in["overall_score"] = m["overallScore"]\n87          in["score"] = m["score"]\n88          in["created_at"] = $time\n89          DBInsert("@"+ Str($eId)+"grade_info", in)\n90      }\n91  }\n')])])]),s("p",[t._v("以下は各行の説明です：")]),t._v(" "),s("ul",[s("li",[t._v("2行目は、"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#data-section"}},[t._v("データセクション")]),t._v("で、入力パラメータ"),s("code",[t._v("Student")]),t._v("（学生の名前）、"),s("code",[t._v("Grade")]),t._v("（成績）、"),s("code",[t._v("Class")]),t._v("（クラス）、"),s("code",[t._v("Mathematics")]),t._v("（数学の得点）、"),s("code",[t._v("Physics")]),t._v("（物理の得点）、"),s("code",[t._v("Literature")]),t._v("（文学の得点）を定義しています。")],1),t._v(" "),s("li",[t._v("10行目は、各教科の得点に基づいて総合スコアと最終評価を算出する"),s("code",[t._v("getScore")]),t._v("関数です。")]),t._v(" "),s("li",[t._v("30行目は、文字列をJSONデコードしてマップに変換する"),s("code",[t._v("safeJsonDecode")]),t._v("関数です。")]),t._v(" "),s("li",[t._v("38行目は、"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#conditions-section"}},[t._v("条件セクション")]),t._v("です。")],1),t._v(" "),s("li",[t._v("39行目は、"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#action-section"}},[t._v("操作セクション")]),t._v("です。")],1)]),t._v(" "),s("p",[t._v("契約が呼び出されると、まず条件部分を実行し、契約の入力パラメータが有効かどうかを検証します。たとえば、学生の名前"),s("code",[t._v("if Size($Student) == 0 {")]),t._v("が空であるかどうかを検証し、空である場合はエラーメッセージ"),s("code",[t._v('"Student Can not be empty"')]),t._v("を返します（30行目）。すべての入力パラメータが検証された後、61行目で"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#dbfind"}},[t._v("DBFind")]),t._v("を使用して、ecid "),s("code",[t._v("18")]),t._v("およびアプリケーション名"),s("code",[t._v("GradesRecorder")]),t._v("を持つアプリケーションのデータベースから情報を取得し、"),s("code",[t._v("deleted=0")]),t._v("で削除されていないアプリケーション情報を取得します。\n69行目から74行目では、"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#appparam"}},[t._v("AppParam")]),t._v("を使用してアプリケーションパラメータを取得します。たとえば、"),s("code",[t._v('$gradeBestType = AppParam(app_id, "grade_best_type", $eId)')]),t._v("（69行目）です。\nアプリケーションパラメータがJSON形式で格納されている場合は、"),s("code",[t._v("grade_type_a")]),t._v("などのように、"),s("code",[t._v('safeJsonDecode(AppParam(app_id, "grade_type_a+", $eId))')]),t._v("を参照して、safeJsonDecode関数でアプリケーションパラメータをマップ形式に変換できます。")],1),t._v(" "),s("p",[t._v("その後、操作部分に進み、getScore関数を呼び出して総合スコアと最終評価を取得します（10行目）。結果をマップに保存し、79行目で学生の成績情報を保存するためのマップを定義し、"),s("RouterLink",{attrs:{to:"/ja/topics/script.html#dbinsert"}},[t._v("DBInsert")]),t._v("を使用してデータをデータテーブル"),s("code",[t._v("@18grade_info")]),t._v("に挿入します。")],1),t._v(" "),s("p",[t._v("契約を作成する方法は2つありますが、最初の方法は次のとおりです。まず、JSON形式の契約パラメータファイルを作成します：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ApplicationId"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("47")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contract NewRecord {\\n    data {\\n        Student string\\n        Grade int\\n        Class int\\n        Mathematics int\\n        Physics int\\n        Literature int\\n    }\\n    func getScore(a b c int) map{\\n        var m map\\n        var overallScore int\\n        overallScore = (a+b+c) / 3\\n        m[\\"overallScore\\"] = overallScore\\n        if overallScore >= $gradeTypeABest[\\"min\\"] && overallScore < $gradeTypeABest[\\"max\\"] {\\n            m[\\"score\\"] = \\"A+\\"\\n        }elif overallScore >= $gradeTypeA[\\"min\\"] && overallScore < $gradeTypeA[\\"max\\"] {\\n            m[\\"score\\"] = \\"A\\"\\n        }elif overallScore >= $gradeTypeBBest[\\"min\\"] && overallScore < $gradeTypeBBest[\\"max\\"] {\\n            m[\\"score\\"] = \\"B+\\"\\n        }elif overallScore >= $gradeTypeB[\\"min\\"] && overallScore < $gradeTypeB[\\"max\\"] {\\n            m[\\"score\\"] = \\"B\\"\\n        }elif overallScore >= $gradeTypeC[\\"min\\"] && overallScore < $gradeTypeC[\\"max\\"]{\\n            m[\\"score\\"] = \\"C\\"\\n        }else{\\n            m[\\"score\\"] = \\"Notset\\"\\n        }\\n        return m\\n    }\\n    func safeJsonDecode(m string) map {\\n        var res map\\n        if Size(m) > 0 {\\n            res = JSONDecode(m)\\n        }\\n        return res\\n    }\\n\\n    conditions {\\n        if Size($Student) == 0 {\\n            warning \\"Student Can not be empty\\"\\n        }\\n        if $Class <= 0{\\n            warning \\"Class cannot be less than or equal to zero\\"\\n        }\\n         if $Grade <= 0{\\n            warning \\"Grade cannot be less than or equal to zero\\"\\n        }\\n        if $Mathematics < 0 {\\n            warning \\"Mathematics cannot be less than zero\\"\\n        }\\n        if $Physics < 0 {\\n            warning \\"Physics cannot be less than zero\\"\\n        }\\n        if $Literature < 0 {\\n            warning \\"Literature cannot be less than zero\\"\\n        }\\n        if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\\n            warning \\"Score cannot exceed 100\\"\\n        }\\n        var app map\\n        app = DBFind(\\"@1applications\\").Columns(\\"id,ecosystem\\").Where({\\"ecosystem\\": 18,\\"name\\":\\"GradesRecorder\\",\\"deleted\\":0}).Row()\\n        if !app {\\n            warning LangRes(\\"@1app_not_found\\")\\n        }\\n\\n        var app_id int\\n        app_id = Int(app[\\"id\\"])\\n        $eId = Int(app[\\"ecosystem\\"])\\n        $gradeBestType = AppParam(app_id, \\"grade_best_type\\", $eId)\\n        $gradeTypeABest = safeJsonDecode(AppParam(app_id, \\"grade_type_a+\\", $eId))\\n        $gradeTypeA = safeJsonDecode(AppParam(app_id, \\"grade_type_a\\", $eId))\\n        $gradeTypeBBest = safeJsonDecode(AppParam(app_id, \\"grade_type_b+\\", $eId))\\n        $gradeTypeB = safeJsonDecode(AppParam(app_id, \\"grade_type_b\\", $eId))\\n        $gradeTypeC = safeJsonDecode(AppParam(app_id, \\"grade_type_c\\", $eId))\\n    }\\n    action {\\n        var m map \\n        m = getScore($Mathematics,$Physics,$Literature)\\n        var in map\\n        in[\\"student\\"] = $Student\\n        in[\\"class\\"] = $Class\\n        in[\\"grade\\"] = $Grade\\n        in[\\"mathematics\\"] = $Mathematics\\n        in[\\"physics\\"] = $Physics \\n        in[\\"literature\\"] = $Literature \\n        in[\\"overall_score\\"] = m[\\"overallScore\\"]\\n        in[\\"score\\"] = m[\\"score\\"]\\n        in[\\"created_at\\"] = $time\\n        DBInsert(\\"@\\"+ Str($eId)+\\"grade_info\\", in)\\n    }\\n}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Conditions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractConditions(\\"@1DeveloperCondition\\")"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、"),s("code",[t._v("ApplicationId")]),t._v(" はアプリケーション ID であり、特殊文字を使用するにはエスケープする必要があります。また、"),s("code",[t._v("Conditions")]),t._v(" はコントラクト変更権限です。\n"),s("code",[t._v("Value")]),t._v("コントラクトのソース コード。"),s("code",[t._v("NewRecordParams.json")]),t._v("として保存します。")]),t._v(" "),s("p",[t._v("コントラクトを作成した後、CreateContract"),s("code",[t._v("@1NewContract")]),t._v(" を呼び出してコントラクトをデプロイする必要があります。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('1    >>callContract @1NewContract -f=./data/NewRecordParams.json\n2    {\n3        "block_id": 1262,\n4        "hash": "d896f12f685835f6cf71705e1ba...4d8bcc0a1406f7b0b6482b2d230fc",\n5        "penalty": 0,\n6        "err": "348"\n7    }\n')])])]),s("p",[t._v("以下は、行ごとに説明します：")]),t._v(" "),s("ul",[s("li",[t._v("1行目：契約を作成するために"),s("code",[t._v("@1NewContract")]),t._v("契約を呼び出します。-fオプションは、契約パラメータとして作成したファイル"),s("code",[t._v("NewRecord.json")]),t._v("をインポートするために使用されます。")]),t._v(" "),s("li",[t._v("3行目：トランザクションによって生成されたブロックID")]),t._v(" "),s("li",[t._v("4行目：トランザクションによって生成されたブロックハッシュ")]),t._v(" "),s("li",[t._v("5行目：トランザクションの実行が失敗した場合（0：ペナルティなし 1：ペナルティあり）")]),t._v(" "),s("li",[t._v("6行目：トランザクションの実行が失敗した場合、エラーテキストメッセージが返され、ブロックIDが返された場合、エラーフィールドに契約のIDが示されます（348）")])]),t._v(" "),s("p",[t._v("2番目の方法：\n保存された契約のソースファイルを、パラメータ形式の"),s("code",[t._v("paramsName")]),t._v(" + "),s("code",[t._v("-")]),t._v(' + "file"で直接契約のパラメータとして渡します。'),s("code",[t._v("paramsName-file")]),t._v("は次のようになります：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("callContract @1NewContract "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ApplicationId"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("47")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Value-file"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NewRecord.sim"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Conditions"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractConditions('),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('@1DeveloperCondition\\ "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v('"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("先ほど作成したコントラクトを呼び出してみましょう")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('1  >callContract @18NewRecord {"Student": "tom", "Grade": 1, "Class": 1, "Mathematics": 18, "Physics": 57, "Literature": 93}\n2  \n3  {\n4     "block_id": 1263,\n5     "hash": "1b964a47fe6c5fd43ea55a752d01edb5ad576432fd6f63315344d87999a0473d",\n6     "penalty": 0,\n7     "err": ""\n8  }\n')])])]),s("p",[t._v("呼び出しが完了したら、データテーブルにレコードが保存されているかどうかを確認します。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('>getList @18grade_info\n{\n    "count": 1,\n    "list": [\n        {\n            "class": "1",\n            "created_at": "1683698914109",\n            "grade": "1",\n            "id": "9",\n            "literature": "93",\n            "mathematics": "18",\n            "overall_score": "56",\n            "physics": "57",\n            "score": "C",\n            "student": "tom"\n        }\n    ]\n}\n')])])]),s("p",[t._v("データ テーブルには、総合評価 56、グレード C の「student」トムというレコードがすでに存在していることがわかります。")]),t._v(" "),s("p",[t._v("上記の例は調査研究のみを目的としており、データテーブルの書き込み権限や契約変更権限など、実際の状況に応じて関連パラメータを変更する必要があります。")]),t._v(" "),s("p",[t._v("たとえば、この新しいレコード コントラクトを 1 人だけが呼び出すことができ、他の人は呼び出せないように指定したい場合は、エコロジカル パラメータ "),s("code",[t._v("new_record_account")]),t._v(" を設定できます。")]),t._v(" "),s("h3",{attrs:{id:"step-6-create-ecosystem-parameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-6-create-ecosystem-parameters"}},[t._v("#")]),t._v(" ステップ 6 生態学的パラメータの作成 ")]),t._v(" "),s("p",[t._v("コントラクト "),s("code",[t._v("@1NewParameter")]),t._v(" を呼び出すと、エコパラメータが作成されます\n"),s("code",[t._v("@1parameters")]),t._v(" テーブルの "),s("code",[t._v("new_record_account")]),t._v(" で、エコパラメータを変更する必要がある場合は、"),s("code",[t._v("@1EditParameter")]),t._v(" を呼び出します。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('>callContract @1NewParameter {"Name": "new_record_account", "Value": "6667782293976713160", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n\n{\n    "block_id": 1416,\n    "hash": "12fc87ce6a70e2fc993ab9ffe623311f1c50edd1157595ce6183c38c93960cae",\n    "penalty": 0,\n    "err": "273"\n}\n')])])]),s("p",[t._v("エコロジカル パラメータ "),s("code",[t._v("new_record_account")]),t._v(" を作成し、値を keyId "),s("code",[t._v("6667782293976713160")]),t._v(" に設定し、権限を "),s("code",[t._v('ContractConditions("MainCondition")')]),t._v(" に変更します。これは、現在のエコロジカル作成者が変更できることを意味します。\nトランザクションが正常に実行された場合、「err」フィールドの生態パラメータ ID は「273」になります。")]),t._v(" "),s("h3",{attrs:{id:"step-7-add-localization"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-7-add-localization"}},[t._v("#")]),t._v(" ステップ 7 ローカリゼーションを追加する ")]),t._v(" "),s("p",[s("code",[t._v("@1NewLangJoint")]),t._v(" コントラクトを呼び出してローカリゼーション パラメーター"),s("code",[t._v("account_not_access")]),t._v(" を作成すると、"),s("code",[t._v("@1langages")]),t._v(" テーブルにパラメーターが作成され、"),s("code",[t._v("@1EditLangJoint")]),t._v(" を介してローカリゼーション パラメーターを変更できます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("callContract @1NewLangJoint "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"account_not_access"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LocaleArr"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ja"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ValueArr"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sorry, you do not have access to this action"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"申し訳ありませんが、このアクションにアクセスする権限がありません"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"step-8-modify-the-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-8-modify-the-contract"}},[t._v("#")]),t._v(" ステップ 8 契約を変更する ")]),t._v(" "),s("p",[t._v("次に、次のコードを "),s("code",[t._v("conditions")]),t._v(" に追加して、コントラクト ソース コードの "),s("code",[t._v("conditions")]),t._v(" セクションを変更する必要があります。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('conditions {\n  if EcosysParam("new_record_account") != $key_id {\n      warning LangRes("account_not_access")\n  }\n}\n')])])]),s("p",[t._v("コントラクト @1EditContract を変更するために呼び出します。"),s("code",[t._v("Id")]),t._v(" はコントラクト ID、"),s("code",[t._v("Value")]),t._v(": はコントラクトのソース コードです。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('>callContract @1EditContract {"Id": 348, "Value": "contract NewRecord {\\n    data {\\n        Student string\\n        Grade int\\n        Class int\\n        Mathematics int\\n        Physics int\\n        Literature int\\n    }\\n    func getScore(a b c int) map{\\n        var m map\\n        var overallScore int\\n        overallScore = (a+b+c) / 3\\n        m[\\"overallScore\\"] = overallScore\\n        if overallScore >= $gradeTypeABest[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeABest[\\"max\\"] {\\n            m[\\"score\\"] = \\"A+\\"\\n        }elif overallScore >= $gradeTypeA[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeA[\\"max\\"] {\\n            m[\\"score\\"] = \\"A\\"\\n        }elif overallScore >= $gradeTypeBBest[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeBBest[\\"max\\"] {\\n            m[\\"score\\"] = \\"B+\\"\\n        }elif overallScore >= $gradeTypeB[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeB[\\"max\\"] {\\n            m[\\"score\\"] = \\"B\\"\\n        }elif overallScore >= $gradeTypeC[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeC[\\"max\\"]{\\n            m[\\"score\\"] = \\"C\\"\\n        }else{\\n            m[\\"score\\"] = \\"Notset\\"\\n        }\\n        return m\\n    }\\n    func safeJsonDecode(m string) map {\\n        var res map\\n        if Size(m) > 0 {\\n            res = JSONDecode(m)\\n        }\\n        return res\\n    }\\n\\n    conditions {\\n        if EcosysParam(\\"new_record_account\\") != $key_id {\\n            warning LangRes(\\"account_not_access\\")\\n        }\\n        if Size($Student) == 0 {\\n            warning \\"Student Can not be empty\\"\\n        }\\n        if $Class &lt;= 0{\\n            warning \\"Class cannot be less than or equal to zero\\"\\n        }\\n         if $Grade &lt;= 0{\\n            warning \\"Grade cannot be less than or equal to zero\\"\\n        }\\n        if $Mathematics &lt; 0 {\\n            warning \\"Mathematics cannot be less than zero\\"\\n        }\\n        if $Physics &lt; 0 {\\n            warning \\"Physics cannot be less than zero\\"\\n        }\\n        if $Literature &lt; 0 {\\n            warning \\"Literature cannot be less than zero\\"\\n        }\\n        if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\\n            warning \\"Score cannot exceed 100\\"\\n        }\\n        var app map\\n        app = DBFind(\\"@1applications\\").Columns(\\"id,ecosystem\\").Where({\\"ecosystem\\": 18,\\"name\\":\\"GradesRecorder\\",\\"deleted\\":0}).Row()\\n        if !app {\\n            warning LangRes(\\"@1app_not_found\\")\\n        }\\n\\n        var app_id int\\n        app_id = Int(app[\\"id\\"])\\n        $eId = Int(app[\\"ecosystem\\"])\\n        $gradeBestType = AppParam(app_id, \\"grade_best_type\\", $eId)\\n        $gradeTypeABest = safeJsonDecode(AppParam(app_id, \\"grade_type_a+\\", $eId))\\n        $gradeTypeA = safeJsonDecode(AppParam(app_id, \\"grade_type_a\\", $eId))\\n        $gradeTypeBBest = safeJsonDecode(AppParam(app_id, \\"grade_type_b+\\", $eId))\\n        $gradeTypeB = safeJsonDecode(AppParam(app_id, \\"grade_type_b\\", $eId))\\n        $gradeTypeC = safeJsonDecode(AppParam(app_id, \\"grade_type_c\\", $eId))\\n    }\\n    action {\\n        var m map \\n        m = getScore($Mathematics,$Physics,$Literature)\\n        var in map\\n        in[\\"student\\"] = $Student\\n        in[\\"class\\"] = $Class\\n        in[\\"grade\\"] = $Grade\\n        in[\\"mathematics\\"] = $Mathematics\\n        in[\\"physics\\"] = $Physics \\n        in[\\"literature\\"] = $Literature \\n        in[\\"overall_score\\"] = m[\\"overallScore\\"]\\n        in[\\"score\\"] = m[\\"score\\"]\\n        in[\\"created_at\\"] = $time\\n        DBInsert(\\"@\\"+ Str($eId)+\\"grade_info\\", in)\\n    }\\n}"}\n')])])]),s("h4",{attrs:{id:"step-9-modify-data-table-permissions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-9-modify-data-table-permissions"}},[t._v("#")]),t._v(" ステップ 9 データテーブルの権限を変更する ")]),t._v(" "),s("p",[t._v("ここでは、データテーブルの挿入権限、ecreator の元の権限 "),s("code",[t._v('ContractConditions("MainCondition")')]),t._v("、および ecreator ではないコントラクト設定 "),s("code",[t._v("new_record_account")]),t._v(" を変更する必要があります。\nしたがって、"),s("code",[t._v('ContractConditions("MainCondition")')]),t._v(" を変更して、コントラクトが "),s("code",[t._v('ContractAccess("@18NewRecord")')]),t._v(" で操作できるように指定するだけです。\nデータ テーブルのアクセス許可を変更するには、コントラクト "),s("code",[t._v("@1EditTable")]),t._v(" を呼び出します。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('>callContract @1EditTable {"Name": "@18grade_info", "InsertPerm": "ContractAccess(\\"@18NewRecord\\")", "UpdatePerm": "ContractConditions(\\"MainCondition\\")", "ReadPerm": "true", "NewColumnPerm": "ContractConditions(\\"MainCondition\\")"}\n')])])]),s("p",[t._v("次に、変更したばかりのコントラクトを呼び出し、新しいレコードを作成します")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('1  >callContract @18NewRecord {"Student": "tom", "Grade": 1, "Class": 1, "Mathematics": 18, "Physics": 57, "Literature": 93}\n2  \n3  {\n4      "block_id": 1435,\n5      "hash": "7d4b06d3738133f9c2ec775935478cd2d6c20fd04eca275769afd0f8e6a4f687",\n6      "penalty": 1,\n7      "err": "{\\"type\\":\\"warning\\",\\"error\\":\\"Sorry, you do not have access to this action\\"}"\n8  }\n')])])]),s("p",[t._v("先ほど設定したローカリゼーション パラメータ"),s("code",[t._v("account_not_access")]),t._v("が機能していることがわかります。")]),t._v(" "),s("p",[t._v("権限エラーが報告され、現在のユーザーには操作権限がないことがわかりました。keyId "),s("code",[t._v("6667782293976713160")]),t._v(" のアカウントに切り替えます。コマンド ライン ツール "),s("code",[t._v("アカウント情報")]),t._v(" を使用して現在のユーザーの情報を取得できます。\nコマンド ライン ツール config.yml を設定し、keyId "),s("code",[t._v("6667782293976713160")]),t._v(" のアカウントに切り替えます。\n設定完了後、再度契約を呼び出します")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('>callContract @18NewRecord {"Student": "tini", "Grade": 1, "Class": 3, "Mathematics": 69, "Physics": 89, "Literature": 98}\n\n{\n    "block_id": 1436,\n    "hash": "93327dafb7bae9f9f66718eb87020a7bca4c00060f4bd0a243b49eea304c52e6",\n    "penalty": 0,\n    "err": ""\n}\n')])])]),s("p",[t._v("T呼び出しは完了し、"),s("code",[t._v("getList @18grade_info")]),t._v(" を介してデータテーブルをクエリし、結果は期待通りです。")]),t._v(" "),s("p",[t._v("この記事がIBAXネットワークの動作や明確で安全な"),s("code",[t._v("Needle")]),t._v("コードの書き方についての理解に役立つことを願っています。")]),t._v(" "),s("h2",{attrs:{id:"deploy-application-using-command-line-tools"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy-application-using-command-line-tools"}},[t._v("#")]),t._v(" コマンドラインツールを使用したアプリケーションの展開 ")]),t._v(" "),s("p",[t._v("このチュートリアルでは、以下の手順を学びます：")]),t._v(" "),s("ul",[s("li",[s("ol",[s("li",[s("a",{attrs:{href:"#export-application"}},[t._v("アプリケーションのエクスポート")])])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"2"}},[s("li",[s("a",{attrs:{href:"#import-application"}},[t._v("アプリケーションのインポート")])])])])]),t._v(" "),s("p",[t._v("このチュートリアルを始める前に、独自のアプリケーションを持っていてエコロジーとアプリケーションの概念を理解している必要があります。"),s("a",{attrs:{href:"#getting-started-guide"}},[t._v("はじめにガイド")]),t._v("を参照してください。\n"),s("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("コマンドラインツール"),s("OutboundLink")],1),t._v(" を使用してIBAXブロックチェーンにアプリケーションをインポートします。Export Application")]),t._v(" "),s("h3",{attrs:{id:"export-application"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#export-application"}},[t._v("#")]),t._v(" アプリケーションのエクスポート ")]),t._v(" "),s("p",[t._v("現在のアカウント情報をクエリするために "),s("code",[t._v("account info")]),t._v(" を呼び出します。ここでログインしているエコロジーIDは "),s("code",[t._v("9")]),t._v(" です。現在のエコロジーIDでアプリケーションをクエリするために "),s("code",[t._v("getList")]),t._v(" コマンドを呼び出します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ ibax-cli console\n   \nWelcome to the IBAX console"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nTo exit, press ctrl-d or "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("account info\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"public_key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"04d11ea197fe23152562c6f54c4...889c074dfd9080099982d8b2d4d100315e1cebc7"')]),t._v(",     \n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6660819")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".78795186,\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"account"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0666-0819-...-7879-5186"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("getList @1applications "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"conditions"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deleted"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"36"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testapp"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uuid"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"00000000-0000-0000-0000-000000000000"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("現在のエコロジーには 6 つのアプリケーションがあることがわかります。"),s("code",[t._v("export")]),t._v("コマンドを使用して、"),s("code",[t._v("id")]),t._v("が"),s("code",[t._v("36")]),t._v("のアプリケーションをエクスポートします。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("export "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("./data.json\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./data.json"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで -f パラメータを指定すると、エクスポートされたアプリケーションが現在のディレクトリの "),s("code",[t._v("data.json")]),t._v(" ファイルに保存されます。\n-f パラメータがない場合、アプリケーション データはコマンド ターミナルに出力されます。")]),t._v(" "),s("p",[s("code",[t._v("export")]),t._v("コマンドは、アプリケーションをエクスポートする手順をカプセル化します。 上記のコマンドを使用してアプリケーションをエクスポートすることも、次の手順を使用することもできます。\n新しいアプリケーションをエクスポートするためにコントラクト "),s("code",[t._v("@1ExportNewApp")]),t._v(" を呼び出すと、エクスポートされたアプリケーションのレコードが "),s("code",[t._v("1_buffer_data")]),t._v(" テーブルに生成されます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1ExportNewApp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ApplicationId"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("コントラクト "),s("code",[t._v("@1Export")]),t._v(" を呼び出してアプリケーションをエクスポートし、選択したアプリケーションを "),s("code",[t._v("1_buffer_data")]),t._v(" テーブルで見つけて、すべてのアプリケーション リソースを生成された JSON 文字列にエクスポートします。\n生成された JSON 文字列は、現在のエコシステムの「1_binaries」テーブルに書き込まれます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1Export\n")])])]),s("p",[s("code",[t._v("getList")]),t._v(" コマンドを使用して、"),s("code",[t._v("1_binaries")]),t._v(" テーブル内のデータをクエリします。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("getList @1binaries "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"export"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"account"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0666-0819-...-7879-5186"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id,hash"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8542cb57b77e0ae2c...92c3e05dbbe35ab646789be5b8ba8"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"14"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("バイナリIDとハッシュを取得する\n"),s("code",[t._v("binaryVerify")]),t._v(" コマンドを呼び出してバイナリ ファイルをエクスポートします")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("binaryVerify "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(" 8542cb57b77e0ae2c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".92c3e05dbbe35ab646789be5b8ba8 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("./data.json\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./data.json"')]),t._v(",     \n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"import-application"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-application"}},[t._v("#")]),t._v(" アプリケーションのインポート ")]),t._v(" "),s("p",[s("code",[t._v("import")]),t._v(" コマンドを使用してアプリケーションをインポートし、"),s("code",[t._v("-f")]),t._v(" パラメータを使用してインポートするアプリケーション ファイルを指定します")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ ibax-cli console\n\nWelcome to the IBAX console"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nTo exit, press ctrl-d or "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("import "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" /data.json\n")])])]),s("p",[s("code",[t._v("import")]),t._v("コマンドはアプリケーションをインポートする手順をカプセル化しています。上記のコマンドを使用してアプリケーションをインポートできます。")]),t._v(" "),s("p",[t._v("または、調査と研究を容易にするために、次の手順を使用します。")]),t._v(" "),s("ul",[s("li",[t._v("ステップ1\n新しいアプリケーションをインポートするためにコントラクト "),s("code",[t._v("@1ImportUpload")]),t._v(" を呼び出すと、エクスポートされたアプリケーションのレコードが "),s("code",[t._v("1_buffer_data")]),t._v(" テーブルに生成されます。\n"),s("code",[t._v("@1ImportUpload")]),t._v(" コントラクト パラメーター "),s("code",[t._v("Data")]),t._v(" は "),s("code",[t._v("file")]),t._v(" "),s("RouterLink",{attrs:{to:"/ja/topics/vm.html#types"}},[t._v("type")]),t._v(" です。\nキーワード「Name」ファイル名（文字列）、「MimeType」ファイルタイプ（文字列）、「Body」（[]バイト）ファイル内容が含まれます。\nアプリケーションファイルデータをbase64エンコードして「Body」に渡す必要があります。「base64Encode」コマンドを使用してbase64エンコードできます。")],1)]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("base64Encode "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("./data.json\n\nEncode:ewoJIm5hbWUiOiAid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".CQkJIlR5cGUiOiAiY29udHJhY3RzIiwKCQkJIk5hbWUiOiAiSGVsbG9Xb3JsZCIsCgkJCSJWYWx1ZSI6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1ImportUpload "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Data"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filename"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MimeType"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mimeType"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Body"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ewoJIm5hbWUiOiAid...CQkJIlR5cGUiOiAiY29udHJhY3RzIiwKCQkJIk5hbWUiOiAiSGVsbG9Xb3JsZCIsCgkJCSJWYWx1ZSI6..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("ステップ12\n呼び出しが完了したら、"),s("code",[t._v("getList")]),t._v("コマンドを使用して「1_buffer_data」テーブル内のデータをクエリします。")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("getList @1buffer_data "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"import"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"account"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0666-0819-xxxx-7879-5186"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"22"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value.data"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[{"')]),t._v("Data"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('": "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("a,b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}, {"')]),t._v("Data"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('": "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("c,d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}]"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("ステップ3\nvalue.data->Data のデータを 1 次元配列 [a,b,c,d] に組み立てます。\n次に、次の内容を含むコントラクト パラメーター ファイル"),s("code",[t._v("importParams.json")]),t._v("を作成します。")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[a,b,c,d]"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("ステップ4\nコントラクト "),s("code",[t._v("@1Import")]),t._v(" を呼び出してアプリケーション データをインポートします")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1Import "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("./importParams.json\n")])])]),s("h2",{attrs:{id:"ecosystem-configuration-using-command-line-tool"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ecosystem-configuration-using-command-line-tool"}},[t._v("#")]),t._v(" エコロジーの設定（コマンドラインツールを使用） ")]),t._v(" "),s("p",[t._v("このチュートリアルでは、以下の手順を実行します:")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"#apply-to-join-the-ecosystem"}},[t._v("エコロジーへの参加申請")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#add-ecosystem-members"}},[t._v("エコロジーメンバーの追加")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#freezing-of-accounts"}},[t._v("アカウントの凍結")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#role-management"}},[t._v("役割管理")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#issuance-of-token"}},[t._v("トークンの発行")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#eco-deduction"}},[t._v("エコロジー控除")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#dao-governance-ecosystem"}},[t._v("DAOガバナンスエコロジー")])])]),t._v(" "),s("p",[t._v("このチュートリアルを開始する前に、独自のアプリケーションを用意し、エコロジーとアプリケーションの概念を理解する必要があります。"),s("a",{attrs:{href:"#getting-started-guide"}},[t._v("スタート ガイド")]),t._v(" を参照してください。\n"),s("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("コマンドラインツール"),s("OutboundLink")],1),t._v(" を使用して、IBAX ブロックチェーン上でエコロジー構成を実行します。")]),t._v(" "),s("h3",{attrs:{id:"apply-to-join-the-ecosystem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apply-to-join-the-ecosystem"}},[t._v("#")]),t._v(" エコロジーへの参加を申請する ")]),t._v(" "),s("p",[s("code",[t._v("@1MembershipRequest")]),t._v(" コントラクトを呼び出して、エコロジーへの参加をリクエストできます。\n次の例:")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1MembershipRequest "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EcosystemId"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("エコロジー ID "),s("code",[t._v("19")]),t._v(" でエコロジーへの参加をリクエストする場合、"),s("code",[t._v("@1MembershipRequest")]),t._v(" コントラクトはエコロジーの呼び出しに制限を設けており、基本エコロジーでのみ呼び出すことができます。\n申請が成功すると対象エコロジー管理者に申請が届き、エコロジー管理者が申請を承認した場合のみ対象エコロジーに参加したとみなされます。\nもちろん、ターゲットのエコロジーが公開されている場合は、ターゲットのエコロジーに直接参加することもできます")]),t._v(" "),s("h3",{attrs:{id:"add-ecosystem-members"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-ecosystem-members"}},[t._v("#")]),t._v(" エコロジーメンバーを追加する  ")]),t._v(" "),s("p",[t._v("エコロジーが作成されたばかりの場合、エコロジー メンバーはエコロジー作成者のみです。他のメンバーを参加に招待する必要がある場合は、招待された人の公開鍵を知っていて、コントラクト "),s("code",[t._v("@1MembershipAdd")]),t._v(" を呼び出してメンバーを追加する必要があります。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1MembershipAdd "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Keys"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"04f2c1780ca0aa0f343d0e541c77811...3b0d5bf3a9903253aad6e78c966b5f91ffb32703884020"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("エコロジーがパブリックで誰でも参加できる場合は、エコロジー パラメーター "),s("code",[t._v("free_membership")]),t._v(" = 1 を設定できますが、これはデフォルトではパブリックではありません。\n一度設定したら、エコシステムへの参加を承認する必要はありません")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1NewParameter "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"free_membership"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Conditions"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractConditions('),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("MainCondition"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(')"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("パラメータ "),s("code",[t._v("free_membership")]),t._v(" を設定しない場合、他のメンバーがあなたのエコロジーへの参加を申請したときに、申請通知を受け取ります。")]),t._v(" "),s("p",[s("code",[t._v("@1MembershipDecide")]),t._v(" 契約承認アプリケーションを呼び出し、契約パラメータ "),s("code",[t._v("NotificId")]),t._v(" は通知 ID、'Accept' は解決マーク、解決マーク '1' が渡されます")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1MembershipDecide "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NotificId"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Accept"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"freezing-of-accounts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#freezing-of-accounts"}},[t._v("#")]),t._v(" アカウントの凍結 ")]),t._v(" "),s("p",[s("code",[t._v("@1DeleteMember")]),t._v(" コントラクトを呼び出してアカウントを凍結します。この操作は復元できないことに注意してください")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1DeleteMember "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MemberAccount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1539-2715-xxxx-1679-5385"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"role-management"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#role-management"}},[t._v("#")]),t._v(" 役割管理 ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#new-role-creation"}},[t._v("新しいロールの作成")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#adding-role-members"}},[t._v("ロールメンバーを追加")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#delete-role-members"}},[t._v("ロールメンバーを削除")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#modify-role-manager"}},[t._v("ロールマネージャーを変更")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#delete-role"}},[t._v("ロールの削除")])])]),t._v(" "),s("h4",{attrs:{id:"new-role-creation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#new-role-creation"}},[t._v("#")]),t._v(" 新しい役割の作成 ")]),t._v(" "),s("p",[s("code",[t._v("@1RolesCreate")]),t._v(" コントラクトを呼び出して、新しいロール、ロール名 "),s("code",[t._v("student")]),t._v("、タイプ "),s("code",[t._v("2")]),t._v(" (1 - 割り当て可能 2 - 投票タイプ 3 - システム) を作成します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1RolesCreate "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"student"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1685")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5321f2231a...d0d80158b62766395f14d0ff7"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"penalty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"err"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"21"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("返される結果にはロール ID "),s("code",[t._v("21")]),t._v(" が含まれます")]),t._v(" "),s("h4",{attrs:{id:"adding-role-members"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-role-members"}},[t._v("#")]),t._v(" ロールメンバーの追加 ")]),t._v(" "),s("p",[t._v("2 つのメソッドがあります。1 つ目のメソッドは、エコロジカル メンバーがアプリケーションを開始し、コントラクト "),s("code",[t._v("@1RolesRequest")]),t._v(" リクエストを呼び出してロールのメンバーとして追加するリクエストです。ここで、"),s("code",[t._v("Rid")]),t._v(" はロール ID です")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1RolesRequest "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Rid"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("2 番目の方法では、ロール マネージャーがロール メンバーを割り当て、ロール マネージャーがコントラクト "),s("code",[t._v("@1RolesAssign")]),t._v(" を呼び出してメンバーをロールに追加します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1RolesAssign "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MemberAccount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0666-7782-xxxx-7671- 3160"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Rid"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"delete-role-members"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#delete-role-members"}},[t._v("#")]),t._v(" ロールメンバーを削除する ")]),t._v(" "),s("p",[t._v("まず、ロールにどのようなメンバーが含まれているかを確認します。これは、次のように getList を介してクエリできます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("getList @1roles_participants "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role->id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"21"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deleted"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appointed"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("account"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("1273-2644-xxxx-5846-6598"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("image_id"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("0"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("member_name"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("founder"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"date_created"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1684916023"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"date_deleted"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deleted"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"21"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"member"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("account"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("1273-2644-xxxx-5846-6598"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("image_id"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("0"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("member_name"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("founder"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("id"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("20"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("name"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("teacher"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("type"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("1"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("image_id"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("0"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、"),s("code",[t._v("where")]),t._v("条件"),s("code",[t._v("ecosystem")]),t._v("はエコロジーを指定し、"),s("code",[t._v("role->id")]),t._v("はロール ID を指定し、"),s("code",[t._v("deleted")]),t._v(": 0 は削除されないことを指定します。\nメンバー "),s("code",[t._v("1273-2644-xxxx-5846-6598")]),t._v(" のロール、つまり "),s("code",[t._v("id")]),t._v(" が "),s("code",[t._v("21")]),t._v(" のロールを削除する場合、行が 3 つあることがわかります。\n管理者は、次のようにコントラクト "),s("code",[t._v("@1RolesUnassign")]),t._v(" を呼び出してロール メンバーを削除できます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1RolesUnassign "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RowId"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"modify-role-manager"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modify-role-manager"}},[t._v("#")]),t._v(" 役割マネージャーの変更 ")]),t._v(" "),s("p",[t._v("現在の生態学的役割を見てみましょう")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("getList @1roles "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"company_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"creator"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("account"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("1273-2644-xxxx-5846-6598"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("image_id"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("0"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("member_name"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("founder"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"date_created"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1684910917"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"date_deleted"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default_page"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deleted"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"image_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role_name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"teacher"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role_type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"roles_access"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[]"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、"),s("code",[t._v("roles_access")]),t._v("は現在のロールの管理ロールであり、配列であり、複数を持つことができます。\n"),s("code",[t._v("@1RolesAccessManager")]),t._v(" コントラクトを呼び出して、管理ロールをロール "),s("code",[t._v("Teacher")]),t._v(" に追加します。ここで、コントラクトのパラメータは "),s("code",[t._v("Action")]),t._v(" 管理演算子 ("),s("code",[t._v("clean")]),t._v("、"),s("code",[t._v("remove")]),t._v("、"),s("code",[t._v("add")]),t._v(")、"),s("code",[t._v("Rid")]),t._v(" のロール ID です。 管理対象の"),s("code",[t._v("ManagerRid")]),t._v("ロールの Rid マネージャー")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1RolesAccessManager "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Rid"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ManagerRid"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1745")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"e2eb8ff0dc309ec7652db...bbbe58bca4ca574804e46c2f63653eb73104"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"penalty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"err"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"delete-role"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#delete-role"}},[t._v("#")]),t._v(" 役割の削除 ")]),t._v(" "),s("p",[s("code",[t._v("@1RolesDelete")]),t._v(" コントラクトを呼び出してロールを削除できます。コントラクト パラメータの "),s("code",[t._v("Rid")]),t._v(" は管理対象のロールの ID、"),s("code",[t._v("Ops")]),t._v(" は演算子です ("),s("code",[t._v("D")]),t._v(" は削除、"),s("code",[t._v("R")]),t._v(" は復元)")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1RolesDelete "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Rid"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ops"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1785")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1ebf99a04f504fc3d2...4ecfbdfc419bf3dbf39df0013dca913f844"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"penalty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"err"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"issuance-of-token"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#issuance-of-token"}},[t._v("#")]),t._v(" トークンの発行 ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#create-ecosystem"}},[t._v("エコロジーをクリエイト")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#installing-basic-applications"}},[t._v("基本アプリケーションのインストール")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#token-issuance"}},[t._v("トークン発行")])])]),t._v(" "),s("h4",{attrs:{id:"create-ecosystem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-ecosystem"}},[t._v("#")]),t._v(" エコロジーを創造する ")]),t._v(" "),s("p",[t._v("エコロジーを作成し、"),s("code",[t._v("@1NewEcosystem")]),t._v(" コントラクトを呼び出します")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1NewEcosystem "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test Ecosystem"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"block_id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1787")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"384f35ef93243c9dd4f53b9298873b356b25b31cf7c6a6be7600ee7694d77006"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"penalty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"err"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"21"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("次に、コマンド ライン ツールの設定を変更して、この新しく作成されたエコシステムにログインします:「21」")]),t._v(" "),s("h4",{attrs:{id:"installing-basic-applications"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-basic-applications"}},[t._v("#")]),t._v(" 基本アプリケーションのインストール ")]),t._v(" "),s("p",[t._v("次のように、コントラクトを呼び出して基本アプリケーションをインストールします。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1PlatformAppsInstall\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1RolesInstall\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1AppInstall "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ApplicationId"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1AppInstall "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ApplicationId"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("1行目、プラットフォームアプリケーションをインストールします\n2行目、デフォルトの役割をインストールします\n行 3 ～ 4 では、エコ構成およびトークン発行アプリケーションをインストールします。ここで、アプリケーション ID "),s("code",[t._v("5,6")]),t._v(" は、次のように getList を介してクエリできます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("getList @1applications "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$or")]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Token emission"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ecosystems catalog"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name,ecosystem"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Token emission"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ecosystems catalog"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"token-issuance"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#token-issuance"}},[t._v("#")]),t._v(" トークンの発行 ")]),t._v(" "),s("p",[t._v("新しいエコロジーであるため、トークンの発行を設定する必要があります。"),s("code",[t._v("@1TeSettings")]),t._v(" コントラクトを呼び出して、トークンを発行できるロールを指定します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1TeSettings "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RoleDeveloper"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、"),s("code",[t._v("RoleDeveloper")]),t._v("は現在のエコロジー ロール ID であり、「@1roles」データ テーブルから取得できます。")]),t._v(" "),s("p",[s("strong",[t._v("トークンの発行")]),t._v(" "),s("code",[t._v("@1NewToken")]),t._v(" コントラクトを呼び出してトークンを発行します")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1NewToken "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Symbol"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEST"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEST Coin"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10000000000000000"')]),t._v(" ,"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Digits"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、コントラクトパラメータの "),s("code",[t._v("Symbol")]),t._v(" はトークンシンボル、"),s("code",[t._v("Name")]),t._v(" はトークン名、"),s("code",[t._v("Amount")]),t._v(" は合計金額、"),s("code",[t._v("Digits")]),t._v(" は精度です。")]),t._v(" "),s("p",[s("strong",[t._v("トークンの発行")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1TeEmission "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000000000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("トークンを破壊する")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1TeBurn "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000000000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("デフォルトのトークンの増分とトークンの破棄が許可されています。"),s("code",[t._v("@1TeChange")]),t._v(" によってそれをオフに設定できます。ここで、"),s("code",[t._v("TypeChange")]),t._v(" はタイプ ("),s("code",[t._v("emission")]),t._v(" の増分、"),s("code",[t._v("withdraw")]),t._v(" の破棄) です。\n"),s("code",[t._v("Value")]),t._v(" はオン/オフのステータス ("),s("code",[t._v("1")]),t._v(" がオン、"),s("code",[t._v("2")]),t._v(" がオフ) です。例:\n"),s("strong",[t._v("追加機能を閉じる")]),t._v(" 注: 閉じた後はオンにできません")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1TeChange "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TypeChange"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emission"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("破壊をオフにします")]),t._v("。再度破壊をオンにしたい場合は、"),s("code",[t._v("値")]),t._v("を"),s("code",[t._v("1")]),t._v("に設定するだけです。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1TeChange "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TypeChange"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"withdraw"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"eco-deduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eco-deduction"}},[t._v("#")]),t._v(" エコ控除 ")]),t._v(" "),s("p",[t._v("エコ控除を設定する前に、"),s("a",{attrs:{href:"https://github.com/IBAX-io/whitepaper",target:"_blank",rel:"noopener noreferrer"}},[t._v("ホワイトペーパー"),s("OutboundLink")],1),t._v(" に記載されている IBAX 料金モデルを理解する必要があります。")]),t._v(" "),s("p",[t._v("まずエコウォレットのアドレスを設定し、"),s("code",[t._v("@1EditParameter")]),t._v(" コントラクトを呼び出してエコパラメータを変更します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1EditParameter "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Id"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("334")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1273-2644-xxxx-5846-6598"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、"),s("code",[t._v("Id")]),t._v(" は ecowallet (エコシステムウォレット) の "),s("code",[t._v("ecosystem_wallet")]),t._v(" パラメーター ID であり、次のようにクエリできます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("getList @1parameters "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ecosystem_wallet"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("Value")]),t._v("値はバインドされるエコウォレットのアドレスであり、契約によりガス料金が生成され、そのアドレスによって支払われます。 アドレスには現在のエコロジーに十分なトークンが必要であり、変更が成功する前にバインドされたアドレスによって同意される必要があります。")]),t._v(" "),s("p",[t._v("次のように、"),s("code",[t._v("@1EcoFeeModeManage")]),t._v(" コントラクトを呼び出して、マルチエコロジー控除を設定します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1EcoFeeModeManage "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FollowFuel"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CombustionFlag"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"VmCostFlag"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"VmCostConversionRate"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"StorageConversionRate"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"StorageFlag"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ExpediteFlag"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、コントラクトパラメータフィールドは次のように定義されます。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("FollowFuel")]),t._v(" パラメータは、follow eco1 レートの倍数です。")]),t._v(" "),s("li",[s("code",[t._v("CombustionFlag")]),t._v(" エコトレードガス料金の燃焼をオンにするかどうか、1-いいえ、2-はい")]),t._v(" "),s("li",[s("code",[t._v("CombustionPercent")]),t._v(" 燃焼パーセンテージ。ガス料金燃焼がオンになっている場合にのみ有効です。値は 1 ～ 100 で、オンになっていない場合は 0 になります。")]),t._v(" "),s("li",[s("code",[t._v("VmCostFlag")]),t._v(" VM コスト フラグ、直接支払いまたは代理支払いを設定、1 - 直接支払い、2 - 代理支払い")]),t._v(" "),s("li",[s("code",[t._v("StorageFlag")]),t._v(" 保管料金フラグ、直接支払いまたは代理支払いを設定、1 - 直接支払い、2 - 代理支払い")]),t._v(" "),s("li",[s("code",[t._v("ExpediteFlag")]),t._v(" 急送料金フラグ、直接支払いまたは代理支払いを設定、1 - 直接支払い、2 - 代理支払い")]),t._v(" "),s("li",[s("code",[t._v("VmCostConversionRate")]),t._v(" 仮想マシンのコスト変換率、小数点以下 2 桁、代理支払いの場合にのみ有効、0 より大きい")]),t._v(" "),s("li",[s("code",[t._v("StorageConversionRate")]),t._v(" ストレージ コストの換算率（小数点以下 2 桁）、代理支払いの場合にのみ有効、0 より大きい")])]),t._v(" "),s("p",[t._v("上記の設定を使用する場合、ユーザーがエコロジー内でコントラクトを呼び出すことによって発生するすべての取引手数料は、現在のエコロジー設定のエコロジカル ウォレットによって支払われます。\nすべてのユーザーは、エコロジー内で発生するガス料金のみを支払う必要があります。 もちろん、実際のニーズに応じてコストパラメータを調整できます")]),t._v(" "),s("h3",{attrs:{id:"dao-governance-ecosystem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dao-governance-ecosystem"}},[t._v("#")]),t._v(" DAO ガバナンス エコロジー ")]),t._v(" "),s("p",[t._v("DAO ガバナンス エコロジーに変更する前に、現在のエコロジーがトークンを発行していることを確認する必要があります。DAO ガバナンス エコロジーに変更した後、エコロジーのすべての提案はガバナンス委員会のメンバーによって投票されます。\nDAO 統治委員会はもはやエコ開発業者だけによって運営されることはなく、エコホールディングスの上位 50 人の代表者が選出されます。")]),t._v(" "),s("p",[s("code",[t._v("@1EditControlMode")]),t._v(" コントラクトを呼び出して、エコ ガバナンス モードを DAO ガバナンス モードに変更します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1EditControlMode "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ここで、"),s("code",[t._v("Value")]),t._v("パラメータの"),s("code",[t._v("1")]),t._v("は作成者モデルを表し、「2」は DAO ガバナンス モデルを表します。")]),t._v(" "),s("p",[t._v("アプリケーションを作成してみます")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("callContract @1NewApplication "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testApp"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Conditions"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ContractConditions('),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("@1DeveloperCondition"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(')"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("この時点で、DAO ガバナンス提案が生成され、アプリケーションが作成される前に DAO ガバナンス委員会によって投票されます。 有効な提案には、投じられた投票の 75% のうち 68% の支持率が必要です。\nDAO ガバナンスの範囲には以下が含まれます。")]),t._v(" "),s("ol",[s("li",[t._v("アプリケーション、コントラクト、ページ、コード スニペット、タブ、メニュー、アプリケーション パラメータ、データ テーブルおよびフィールドの追加、削除、および変更")]),t._v(" "),s("li",[t._v("多言語の変更")]),t._v(" "),s("li",[t._v("DAOとクリエイターモデルの切り替え")]),t._v(" "),s("li",[t._v("生態パラメータを編集する")]),t._v(" "),s("li",[t._v("ロール、ロールメンバーの割り当てを削除")]),t._v(" "),s("li",[t._v("追加破壊通貨発行")]),t._v(" "),s("li",[t._v("プラットフォームパラメータを変更する")]),t._v(" "),s("li",[t._v("生態情報の変更")]),t._v(" "),s("li",[t._v("遅延した契約の変更")]),t._v(" "),s("li",[t._v("投票テンプレートを変更する")])]),t._v(" "),s("h2",{attrs:{id:"deploy-applications-using-application-packaging-tool"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy-applications-using-application-packaging-tool"}},[t._v("#")]),t._v(" アプリケーション パッケージング ツールを使用してアプリケーションをデプロイする ")]),t._v(" "),s("p",[t._v("このチュートリアルを開始する前に、"),s("a",{attrs:{href:"https://github.com/IBAX-io/app-tool",target:"_blank",rel:"noopener noreferrer"}},[t._v("IBAX アプリケーション パッケージング ツール"),s("OutboundLink")],1),t._v(" をダウンロードする必要があります。このツールを使用して IBAX アプリケーションをパッケージ化する必要があります。")]),t._v(" "),s("p",[t._v("次のディレクトリ構造に従ってアプリケーション ファイルを保存する必要があります。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("- APP Name\n    - app_params\n        params1.csv\n        params2.csv\n        ...\n    - contracts\n        contract1.sim\n        contract2.sim\n        ...\n    - tables\n        tableName1.json\n        tableName2.json\n        ...\n    config.json\n")])])]),s("p",[t._v("以下に示すように:")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("airdrop$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" *\nconfig.json\n\napp_params:\ndedicated_account.csv  lock_percent.csv  per_period_sec.csv  period_count.csv\n\ncontracts:\nAddAirdrop.sim  ClaimAirdrop.sim  SpeedAirdrop.sim\n\ntables:\nairdrop_info.json\n")])])]),s("p",[s("code",[t._v("app_params")]),t._v(" ディレクトリには、パラメータ名 + ファイル形式 "),s("code",[t._v(".csv")]),t._v(" を使用して名前が付けられたアプリケーション パラメータ ファイルが保存されます。ファイルの内容はパラメータ値です。\n"),s("code",[t._v("contracts")]),t._v(" ディレクトリには契約が "),s("code",[t._v(".sim")]),t._v(" ファイル形式で保持され、ファイルの内容は契約のソース コードです。\n"),s("code",[t._v("tables")]),t._v("ディレクトリには、次のようにアプリケーション データ テーブル構造が"),s("code",[t._v("json")]),t._v("ファイル形式で保持されます。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"account"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"conditions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"read\\": \\"true\\", \\"update\\": \\"ContractConditions(\\"MainCondition\\")\\"}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"varchar"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"balance_amount"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"conditions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"money"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stake_amount"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"conditions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"money"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"surplus"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"conditions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"total_amount"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"conditions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"money"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[s("code",[t._v("name")]),t._v(" はデータテーブルのフィールド名、"),s("code",[t._v("conditions")]),t._v(" はデータテーブルのフィールド権限、"),s("code",[t._v("type")]),t._v(" はフィールドのタイプです。")]),t._v(" "),s("p",[t._v("ステップ 1 では、config.json ファイルを生成し、次の内容で airdrop ディレクトリに保存します。")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n    "name": "Airdrop",\n    "conditions": "ContractConditions(\\"@1MainCondition\\")"\n}\n')])])]),s("p",[t._v("ここで、"),s("code",[t._v("name")]),t._v(" はアプリケーションの名前、"),s("code",[t._v("conditions")]),t._v(": はアプリケーションを変更して airdrop ディレクトリに保存する権限です。")]),t._v(" "),s("p",[t._v("ステップ 2: アプリケーションをパッケージ化します。次のコマンドにより、現在のディレクトリにアプリケーション "),s("code",[t._v("airdrop.json")]),t._v(" が生成されます。コントラクトまたはアプリケーションのパラメータを変更した場合は、アプリケーションを再パッケージ化する必要があります。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ ./app-tool airdrop/\n")])])]),s("p",[t._v("次のように、"),s("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("コマンド ライン ツール"),s("OutboundLink")],1),t._v(" を介してアプリケーションをインポートできます。\n"),s("code",[t._v("import")]),t._v(" コマンドを使用してアプリケーションをインポートし、"),s("code",[t._v("-f")]),t._v(" パラメータを使用してインポートするアプリケーション ファイルを指定します。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ ibax-cli console\n\nWelcome to the IBAX console"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nTo exit, press ctrl-d or "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("import "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" ./airdrop.json\n")])])]),s("p",[t._v("もちろん、アプリケーションをお持ちの場合は、次のコマンドを使用して完全なディレクトリ構造を生成することもできます。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ app-tool.exe airdrop.json\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);