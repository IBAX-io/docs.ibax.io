(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{343:function(e,t,s){"use strict";s.r(t);var a=s(14),n=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"ibax-development-tutorial"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ibax-development-tutorial"}},[e._v("#")]),e._v(" Tutoriel de développement IBAX ")]),e._v(" "),t("h2",{attrs:{id:"getting-started-guide"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getting-started-guide"}},[e._v("#")]),e._v(" Guide de démarrage ")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#deploy-first-smart-contract-via-command-line-tool"}},[e._v("Déployer le premier contrat intelligent via l'outil en ligne de commande")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#command-line-tool-eco-development"}},[e._v("Développement de l'écosystème de l'outil en ligne de commande")])])]),e._v(" "),t("h2",{attrs:{id:"deployment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deployment"}},[e._v("#")]),e._v(" Déploiement ")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#deploy-application-using-command-line-tools"}},[e._v("Déployer une application à l'aide des outils en ligne de commande")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#ecosystem-configuration-using-command-line-tool"}},[e._v("Configuration écologique à l'aide de l'outil en ligne de commande")])])]),e._v(" "),t("h2",{attrs:{id:"advanced-guide"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#advanced-guide"}},[e._v("#")]),e._v(" Guide Avancé ")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#deploy-applications-using-application-packaging-tool"}},[e._v("Déployer des applications à l'aide de l'outil d'emballage d'application")])])]),e._v(" "),t("h2",{attrs:{id:"deploy-first-smart-contract-via-command-line-tool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-first-smart-contract-via-command-line-tool"}},[e._v("#")]),e._v(" Déployer le premier smart contract via l'outil en ligne de commande ")]),e._v(" "),t("p",[e._v("Nous allons déployer des "),t("RouterLink",{attrs:{to:"/fr/concepts/thesaurus.html#smart-contract"}},[e._v("smart contracts")]),e._v(" sur la blockchain IBAX via l'"),t("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("outil en ligne de commande"),t("OutboundLink")],1),e._v(" et apprendre comment invoquer des smart contracts.\nEn tant que premier smart contract, nous l'avons déployé sur le "),t("RouterLink",{attrs:{to:"/fr/concepts/blockchain-layers.html"}},[e._v("réseau de test local")]),e._v(". Pour savoir comment déployer un réseau local, vous pouvez vous référer à "),t("RouterLink",{attrs:{to:"/fr/howtos/deployment.html"}},[e._v("Déploiement du réseau")]),e._v(",\nainsi vous pouvez le déployer et l'exécuter comme vous le souhaitez sans aucun surcoût.")],1),e._v(" "),t("h3",{attrs:{id:"create-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-application"}},[e._v("#")]),e._v(" Créer une application ")]),e._v(" "),t("p",[e._v("Appelez le contrat @1NewApplication pour créer l'application, qui a un paramètre de nom d'application et un paramètre de "),t("RouterLink",{attrs:{to:"/fr/concepts/about-the-platform.html#access-rights-control-mechanism"}},[e._v("permission de modification")]),e._v(".")],1),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('1  $ ibax-cli console\n2    \n3  Bienvenue dans la console IBAX !\n4  Pour quitter, appuyez sur ctrl-d ou tapez exit\n5  >callContract @1NewApplication {"Name": "testapp", "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"}\n6  \n7  {\n8    "block_id": 1217,\n9    "hash": "6327161d2202c33c06d34ab4ed9b509c05fc2cbb15cf260c6d3d404a6f640028",\n10   "penalty": 0,\n11   "err": "31"\n12 }\n')])])]),t("p",[e._v("Les éléments suivants sont expliqués par ligne :")]),e._v(" "),t("ul",[t("li",[e._v("Ligne 1, démarrer le terminal de ligne de commande")]),e._v(" "),t("li",[e._v("Ligne 5, appeler le contrat @1NewApplication pour créer une application avec le nom d'application "),t("code",[e._v("testapp")]),e._v(" et la permission de modification de l'application "),t("code",[e._v("@1DeveloperCondition")]),e._v(" avec la permission du développeur")]),e._v(" "),t("li",[e._v("Ligne 8, l'identifiant de bloc généré par la transaction")]),e._v(" "),t("li",[e._v("Ligne 9, le hachage de bloc généré par la transaction")]),e._v(" "),t("li",[e._v("Ligne 10, si l'exécution de la transaction échoue (0 : pas de pénalité, 1 : pénalité)")]),e._v(" "),t("li",[e._v("Ligne 11, si l'exécution de la transaction échoue, un message d'erreur est renvoyé, et si l'identifiant de bloc est renvoyé, le champ err est l'identifiant de l'application")])]),e._v(" "),t("p",[e._v("Bien sûr, si vous souhaitez voir quels champs et types de champs sont disponibles dans ce contrat, vous pouvez appeler la méthode "),t("code",[e._v("getContractInfo")]),e._v(", qui renverra les informations sur le contrat comme suit:")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('>getContractInfo @1NewApplication\n\n{\n    "id": 5022,\n    "state": 1,\n    "tableid": "22",\n    "walletid": "0",\n    "tokenid": "1",\n    "address": "0000-0000-0000-0000-0000",\n    "fields": [\n        {\n            "name": "Name",\n            "type": "string",\n            "optional": false\n        },\n        {\n            "name": "Conditions",\n            "type": "string",\n            "optional": false\n        },\n        {\n            "name": "VotingId",\n            "type": "int",\n            "optional": true\n        }\n    ],\n    "name": "@1NewApplication",\n    "app_id": 1,\n    "ecosystem": 1,\n    "conditions": "ContractConditions(\\"@1DeveloperCondition\\")"\n}\n')])])]),t("p",[e._v("Le champ "),t("code",[e._v("fields")]),e._v(" est constitué des paramètres du contrat, incluant le nom du paramètre "),t("code",[e._v("name")]),e._v(", "),t("code",[e._v("type")]),e._v(", "),t("code",[e._v("optional")]),e._v(", "),t("code",[e._v("Name")]),e._v(" et "),t("code",[e._v("Conditions")]),e._v(" sont requis, "),t("code",[e._v("VotingId")]),e._v(" est optionnel, consultez la méthode API "),t("RouterLink",{attrs:{to:"/fr/reference/api2.html#contract-name"}},[e._v("contract/name")])],1),e._v(" "),t("h3",{attrs:{id:"writing-contracts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#writing-contracts"}},[e._v("#")]),e._v(" Rédaction de contrats ")]),e._v(" "),t("p",[e._v("Nous utilisons "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#needle-contract-language"}},[e._v("Needle")]),e._v(" pour écrire un contrat intelligent.\nNous implémentons une opération d'addition simple, le code source du contrat est le suivant, nous enregistrons le contrat sous le nom "),t("code",[e._v("SumMath.sim")]),e._v(".")],1),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("1    contract SumMath {\n2        data {\n3            A int\n4            B int\n5        }\n6        conditions {\n7    \n8        }\n9        action {\n10            var sum int\n11            sum = $A + $B\n12            $result = sum\n13        }\n14    }\n")])])]),t("p",[e._v("Le suivant est expliqué par ligne :")]),e._v(" "),t("ul",[t("li",[e._v("À la ligne 1, nous définissons un contrat avec le nom SumMath.")]),e._v(" "),t("li",[e._v("Ligne 2, "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#data-section"}},[e._v("Section des données")]),e._v(".")],1),e._v(" "),t("li",[e._v("Aux lignes 3-4, nous définissons deux paramètres de type entier 64 bits en entrée, "),t("code",[e._v("A")]),e._v(" et "),t("code",[e._v("B")]),e._v(".")]),e._v(" "),t("li",[e._v("Ligne 6, "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#conditions-section"}},[e._v("Section conditionnelle")]),e._v(".")],1),e._v(" "),t("li",[e._v("Ligne 9, "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#action-section"}},[e._v("Section des opérations")]),e._v(". Nous définissons une variable "),t("code",[e._v("sum")]),e._v(" pour recevoir le résultat de A+B.\nNous assignons la valeur de "),t("code",[e._v("sum")]),e._v(" à "),t("code",[e._v("$result")]),e._v(", en tant que résultat du contrat. Bien sûr, il est possible d'assigner directement la valeur de A+B à "),t("code",[e._v("$result")]),e._v(", mais cela peut être montré comme un exemple.")],1)]),e._v(" "),t("h3",{attrs:{id:"create-contract"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-contract"}},[e._v("#")]),e._v(" Créer un contrat ")]),e._v(" "),t("p",[e._v("Il existe deux façons de créer un contrat, dont la première est la suivante :\nDans la première étape, nous rédigeons un fichier de paramètres de contrat au format json :")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ApplicationId"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("31")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"Value"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"contract SumMath {\\n    data {\\n        A int\\n        B int\\n    }\\n    conditions {\\n\\n    }\\n    action {\\n        var sum int\\n        sum = $A + $B\\n        $result = sum\\n    }\\n}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"Conditions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ContractConditions(\\"@1DeveloperCondition\\")"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("où "),t("code",[e._v("ApplicationId")]),e._v(" est l'identifiant de l'application, "),t("code",[e._v("Value")]),e._v(" est le code source du contrat, il est nécessaire d'échapper les caractères spéciaux, "),t("code",[e._v("Conditions")]),e._v(" sont les droits de modification du contrat.")]),e._v(" "),t("p",[e._v("Nous l'avons nommé SumMathParams.json.")]),e._v(" "),t("p",[e._v("La deuxième étape consiste à appeler la création d'un contrat @1NewContract:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('1    >callContract @1NewContract -f=./data/SumMathParams.json\n2    {\n3        "block_id": 1238,\n4        "hash": "f3fe7aff8a613c96299723b7e9af0682aa8cabe7becf67a485e2a77a974f58b6",\n5        "penalty": 0,\n6        "err": "328"\n7    }\n')])])]),t("p",[e._v("Deuxième méthode :\nLe fichier source du contrat enregistré est directement transmis aux paramètres du contrat dans le format de paramètre "),t("code",[e._v("nomParamètre")]),e._v(" + "),t("code",[e._v("-")]),e._v(' + "fichier", '),t("code",[e._v("nomParamètre-fichier")]),e._v(" comme suit :")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1NewContract "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ApplicationId"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("31")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Value-file"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"SumMath.sim"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Conditions"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("    \n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"block_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2055")]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("4")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cdf25060669cf7cba137278...26ca463fd5d458f3402a5f0137f693db"')]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"penalty"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"err"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"368"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7")]),e._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Le suivant est expliqué par ligne :")]),e._v(" "),t("ul",[t("li",[e._v("Ligne 1 : Appeler le contrat @1NewContract pour créer le contrat, -f utilise le fichier pour importer les paramètres du contrat")]),e._v(" "),t("li",[e._v("Ligne 3 : L'identifiant de bloc généré par la transaction")]),e._v(" "),t("li",[e._v("Ligne 4 : Le hachage de bloc généré par la transaction")]),e._v(" "),t("li",[e._v("Ligne 5 : Si l'exécution de la transaction échoue (0 : pas de pénalité, 1 : pénalité)")]),e._v(" "),t("li",[e._v("Ligne 6 : Si l'exécution de la transaction échoue, un message d'erreur est renvoyé, et si l'identifiant de bloc est renvoyé, le champ err est l'identifiant du contrat")])]),e._v(" "),t("p",[e._v("Essayons d'appeler le contrat que nous venons de déployer.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @5SumMath "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"A"')]),e._v(":1, "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"B"')]),e._v(":2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("4")]),e._v("      "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"block_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1239")]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v("      "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"7fa09da0b9f65634119a910f9d91aaf4927208278efd62961499ef7e4f4c8c9c"')]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v("      "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"penalty"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7")]),e._v("      "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"err"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"3"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("L'appel est terminé et le résultat est conforme aux attentes, comme expliqué ci-dessous par ligne :")]),e._v(" "),t("ul",[t("li",[e._v("La première ligne appelle le contrat, ici nous déployons le contrat dans l'écosystème avec l'identifiant écologique 5. Bien sûr, si l'identifiant écologique actuel est 5, dans le même écosystème, vous pouvez également appeler "),t("code",[e._v('callContract SumMath {"A":1, "B":2}')]),e._v(" de cette manière.")]),e._v(" "),t("li",[e._v("Ligne 3, l'identifiant de bloc généré par la transaction.")]),e._v(" "),t("li",[e._v("Ligne 4, le hachage de bloc généré par la transaction.")]),e._v(" "),t("li",[e._v("Ligne 5, si l'exécution de la transaction échoue (0 : pas de pénalité, 1 : pénalité).")]),e._v(" "),t("li",[e._v("Ligne 6, si l'exécution de la transaction échoue, un message d'erreur est renvoyé, et si l'identifiant de bloc est renvoyé, le champ err est le résultat du contrat, qui est la valeur de "),t("code",[e._v("$result")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"command-line-tool-eco-development"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#command-line-tool-eco-development"}},[e._v("#")]),e._v(" Outil en ligne de commande pour le développement écologique ")]),e._v(" "),t("p",[e._v("Dans ce tutoriel, vous apprendrez comment :")]),e._v(" "),t("ul",[t("li",[t("ol",[t("li",[t("a",{attrs:{href:"#step-1-create-ecosystem"}},[e._v("Créer un écosystème")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"2"}},[t("li",[t("a",{attrs:{href:"#step-2-create-application"}},[e._v("Créer une application")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"3"}},[t("li",[t("a",{attrs:{href:"#step-3-create-table"}},[e._v("Créer une table")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"4"}},[t("li",[t("a",{attrs:{href:"#step-4-create-application-parameters"}},[e._v("Créer des paramètres d'application")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"5"}},[t("li",[t("a",{attrs:{href:"#step-5-create-contract-deploy-contract"}},[e._v("Créer et déployer un contrat")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"6"}},[t("li",[t("a",{attrs:{href:"#step-6-create-ecological-parameters"}},[e._v("Créer des paramètres écologiques")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"7"}},[t("li",[t("a",{attrs:{href:"#step-7-add-localization"}},[e._v("Ajouter la localisation")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"8"}},[t("li",[t("a",{attrs:{href:"#step-8-modify-the-contract"}},[e._v("Modifier le contrat")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"9"}},[t("li",[t("a",{attrs:{href:"#step-9-modify-data-table-permissions"}},[e._v("Modifier les autorisations de la table de données")])])])])]),e._v(" "),t("p",[e._v("Afin de comprendre plus clairement à quoi ressemble l'écosystème et les applications IBAX et ce qu'ils font, il est préférable de comprendre où l'écosystème et les applications devraient appartenir, et nous pouvons mieux comprendre avec une carte mentale simple :\n"),t("img",{attrs:{src:"/ibax-eco.png",alt:"image"}})]),e._v(" "),t("p",[e._v("Il est possible de constater que les réseaux IBAX peuvent avoir de nombreux "),t("RouterLink",{attrs:{to:"/fr/concepts/about-the-platform.html#ecolib"}},[e._v("Écosystèmes")]),e._v(".\nChaque écosystème peut avoir plusieurs "),t("RouterLink",{attrs:{to:"/fr/concepts/about-the-platform.html#applications"}},[e._v("applications")]),e._v(".\nChaque application possède un "),t("RouterLink",{attrs:{to:"/fr/concepts/thesaurus.html#smart-contract"}},[e._v("contrat")]),e._v(".\n"),t("RouterLink",{attrs:{to:"/fr/concepts/about-the-platform.html#tables"}},[e._v("Tables")]),e._v(".\nChaque écosystème possède des paramètres écologiques, chaque application possède des paramètres d'application.")],1),e._v(" "),t("h3",{attrs:{id:"step-1-create-ecosystem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-create-ecosystem"}},[e._v("#")]),e._v(" Étape 1 : Créer un écosystème ")]),e._v(" "),t("p",[e._v("Nous commençons par créer un écosystème en utilisant l'outil en ligne de commande (https://github.com/IBAX-io/ibax-cli), en appelant le contrat @1NewEcosystem.\nSi vous souhaitez changer le nom de l'écosystème, vous pouvez appeler le contrat @1EditEcosystemName.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("    $ ibax-cli console\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("    \n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v("    Welcome to the IBAX console"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("4")]),e._v("    To exit, press ctrl-d or "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("type")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v("    "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1NewEcosystem "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"goodBoy school"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v("    \n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("7")]),e._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"block_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1199")]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("9")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"a1dc90c1772545c16394b9521...227676b27b145743556a8973dd"')]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v("       "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"penalty"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(",\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("11")]),e._v("       "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"err"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"18"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("12")]),e._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Les éléments suivants sont expliqués par ligne :")]),e._v(" "),t("ul",[t("li",[e._v("Ligne 1, qui lance le programme de console de ligne de commande")]),e._v(" "),t("li",[e._v("Ligne 5, appelle le contrat "),t("code",[e._v("@1NewEcosystem")]),e._v(' pour créer un écosystème avec le nom "test ecosystem"')]),e._v(" "),t("li",[e._v("Ligne 8, l'identifiant de bloc généré par la transaction")]),e._v(" "),t("li",[e._v("Ligne 9, le hachage de bloc généré par la transaction")]),e._v(" "),t("li",[e._v("Ligne 10, si l'exécution de la transaction échoue (0 : pas de pénalité, 1 : pénalité)")]),e._v(" "),t("li",[e._v("Ligne 11, si l'exécution de la transaction échoue, un message d'erreur est renvoyé, et si l'identifiant de bloc est renvoyé, le champ d'erreur est l'identifiant de l'écosystème en tant que "),t("code",[e._v("18")])])]),e._v(" "),t("p",[e._v("Ensuite, nous configurons l'outil de commande "),t("code",[e._v("config.yml")]),e._v(", nous définissons "),t("code",[e._v("ecosystem")]),e._v(" sur l'ecid créé "),t("code",[e._v("18")]),e._v(" et redémarrons le programme de console de ligne de commande:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("exit\nINFO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("0002"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" Exit\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" data/config.yml\n\n$ ibax-cli console\n\nWelcome to the IBAX console"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("\nTo exit, press ctrl-d or "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("type")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),t("h3",{attrs:{id:"step-2-create-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-create-application"}},[e._v("#")]),e._v(" Étape 2 : Créer une application ")]),e._v(" "),t("p",[e._v("Appeler le contrat "),t("code",[e._v("@1NewApplication")]),e._v(" pour créer l'application, qui a un paramètre de nom d'application et un paramètre de modification "),t("RouterLink",{attrs:{to:"/fr/concepts/about-the-platform.html#access-rights-control-mechanism"}},[e._v("Paramètre de Permission")])],1),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('1  >callContract @1NewApplication {"Name": "GradesRecorder", "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"}\n2  \n3  {\n4     "block_id": 1246,\n5     "hash": "85ab8953d26d0d1047fc610866115331babfaf88c80792d50b41826185c9f6f8",\n6     "penalty": 0,\n7     "err": "47"\n8  }\n')])])]),t("p",[e._v("Si vous devez modifier les autorisations de l'application, vous pouvez appeler le contrat "),t("code",[e._v("EditApplication")]),e._v(".")]),e._v(" "),t("p",[e._v("Ce qui suit est expliqué par ligne :")]),e._v(" "),t("ul",[t("li",[e._v("Ligne 1, appelez le contrat @1NewApplication pour créer une application, le nom de l'application est "),t("code",[e._v("GradesRecorder")]),e._v(", la permission de modification de l'application est la permission du développeur "),t("code",[e._v("@1DeveloperCondition")]),e._v(".")]),e._v(" "),t("li",[e._v("Ligne 4, l'ID de bloc généré par la transaction.")]),e._v(" "),t("li",[e._v("Ligne 5, le hachage de bloc généré par la transaction.")]),e._v(" "),t("li",[e._v("Ligne 6, si l'exécution de la transaction échoue (0 : pas de pénalité, 1 : pénalité).")]),e._v(" "),t("li",[e._v("Ligne 7, si l'exécution de la transaction échoue, un message d'erreur est renvoyé, et si l'ID de bloc est renvoyé, le champ err contient l'ID de l'application qui est "),t("code",[e._v("47")]),e._v(".")])]),e._v(" "),t("p",[e._v("Écrivons un exemple simple d'une application qui suit les notes des étudiants.\nLes champs de la table de données comprennent les informations sur l'étudiant, la note "),t("code",[e._v("grade")]),e._v(", la classe "),t("code",[e._v("class")]),e._v(", les notes de matières "),t("code",[e._v("mathématiques, physique, littérature")]),e._v(", le score global "),t("code",[e._v("overall_score")]),e._v(", la note "),t("code",[e._v("score")]),e._v(", le timestamp de création (ms) "),t("code",[e._v("created_at")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"step-3-create-table"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-3-create-table"}},[e._v("#")]),e._v(" Étape 3 : Créer une table ")]),e._v(" "),t("p",[e._v("Dans la première étape, nous rédigeons un fichier de paramètres de contrat au format json :")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ApplicationId"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("47")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"grade_info"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ColumnsArr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"student"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"grade"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"class"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"mathematics"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"physics"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"literature"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"overall_score"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"score"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"created_at"')]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"TypesArr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"varchar"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"varchar"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"InsertPerm"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ContractConditions(\\"MainCondition\\")"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"UpdatePerm"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ContractConditions(\\"MainCondition\\")"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ReadPerm"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"NewColumnPerm"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ContractConditions(\\"MainCondition\\")"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("où "),t("code",[e._v("ApplicationId")]),e._v(" est l'identifiant de l'application, "),t("code",[e._v("Name")]),e._v(" est le nom de la table de données créée "),t("code",[e._v("test_table")]),e._v(".\n"),t("code",[e._v("ColumnsArr")]),e._v(" est un tableau de champs de la table de données, "),t("code",[e._v("TypesArr")]),e._v(" est le type des champs de la table de données, comprenant 9 "),t("RouterLink",{attrs:{to:"/fr/concepts/about-the-platform.html#tables"}},[e._v("types")]),e._v(" "),t("code",[e._v("varchar")]),e._v(", "),t("code",[e._v("character")]),e._v(", "),t("code",[e._v("json")]),e._v(", "),t("code",[e._v("number")]),e._v(", "),t("code",[e._v("datetime")]),e._v(", "),t("code",[e._v("double")]),e._v(", "),t("code",[e._v("money")]),e._v(", "),t("code",[e._v("text")]),e._v(", "),t("code",[e._v("bytea")]),e._v(", le nom du champ et le type de champ sont en correspondance un à un. "),t("code",[e._v("InsertPerm")]),e._v(" pour la permission de nouvelle entrée dans la table de données, "),t("code",[e._v("UpdatePerm")]),e._v(" pour la permission de mise à jour des entrées de la table de données, "),t("code",[e._v("ReadPerm")]),e._v(" pour la permission de lecture des données de la table de données, "),t("code",[e._v("NewColumnPerm")]),e._v(" pour la permission de nouveau champ de la table de données.")],1),e._v(" "),t("p",[e._v("En référence au "),t("RouterLink",{attrs:{to:"/fr/concepts/about-the-platform.html#access-rights-control-mechanism"}},[e._v("Contrôle des autorisations")]),e._v(", ici "),t("code",[e._v('ContractConditions(\\"MainCondition\\")')]),e._v(" est disponible pour le créateur de l'écosystème actuel.")],1),e._v(" "),t("p",[e._v("Nous l'appelons createTable.json, puis nous appelons le contrat pour créer la table de données "),t("code",[e._v("@1NewTableJoint")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(">callContract @1NewTableJoint -f ./createTestTable.json\n")])])]),t("h4",{attrs:{id:"modify-data-table-field-permissions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modify-data-table-field-permissions"}},[e._v("#")]),e._v(" Modifier les autorisations des champs de la table de données ")]),e._v(" "),t("p",[e._v("Nous pouvons modifier les autorisations des champs de la table de données. Les autorisations des champs de la table de données comprennent les autorisations de lecture et de mise à jour. Les autorisations de lecture permettent d'utiliser le filtre "),t("code",[e._v("DBFind.Columns")]),e._v(" dans le contrat ou des interfaces telles que "),t("RouterLink",{attrs:{to:"/fr/reference/api2.html#list-name-limit-offset-columns"}},[e._v("list")]),e._v(' pour effectuer des requêtes. Si aucune autorisation n\'est accordée, une erreur de permission sera signalée.\nLa permission de mise à jour est la permission de modifier les champs de la table de données.\nNous avons défini les autorisations de lecture et de mise à jour du champ "student" sur "false", mais bien sûr, elles peuvent être rendues opérationnelles par certains contrats.\nAppelez le contrat '),t("code",[e._v("@1EditColumn")]),e._v(" pour modifier les autorisations des champs de la table de données.")],1),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1EditColumn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"TableName"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"grade_info"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"student"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"UpdatePerm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"false"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ReadPerm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"false"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Nous pouvons créer plusieurs paramètres d'application : "),t("code",[e._v("grade_best_type")]),e._v(", "),t("code",[e._v("grade_type_a+")]),e._v(", "),t("code",[e._v("grade_type_a")]),e._v(", "),t("code",[e._v("grade_type_b+")]),e._v(", "),t("code",[e._v("grade_type_b")]),e._v(", "),t("code",[e._v("grade_type_c")]),e._v(", type de notation des grades.")]),e._v(" "),t("h3",{attrs:{id:"step-4-create-application-parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-4-create-application-parameters"}},[e._v("#")]),e._v(" Étape 4 : Créer les paramètres de l'application ")]),e._v(" "),t("p",[e._v("Appelez le contrat "),t("code",[e._v("@1NewAppParam")]),e._v(" pour créer les paramètres de l'application. Si vous souhaitez modifier les paramètres de l'application, vous pouvez appeler le contrat "),t("code",[e._v("@1EditAppParam")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_best_type", "Value": "A+", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_a+", "Value": "{\\"max\\": 101,\\"min\\": 90}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_a", "Value": "{\\"max\\": 90,\\"min\\": 80}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_b+", "Value": "{\\"max\\": 80,\\"min\\": 70}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_b", "Value": "{\\"max\\": 70,\\"min\\": 60}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_c", "Value": "{\\"max\\": 60,\\"min\\": 0}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n')])])]),t("p",[e._v("Où "),t("code",[e._v("grade_best_type")]),e._v(" est le meilleur type de notation.")]),e._v(" "),t("p",[t("code",[e._v("grade_type_a+")]),e._v(" est la condition déclenchée par la notation "),t("code",[e._v("A+")]),e._v(", lorsque le score est supérieur ou égal à 90 et inférieur à 101, la notation est "),t("code",[e._v("A+")]),e._v(", les autres paramètres sont similaires.")]),e._v(" "),t("h3",{attrs:{id:"step-5-create-contract-deploy-contract"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-5-create-contract-deploy-contract"}},[e._v("#")]),e._v(" Étape 5 : Créer un contrat et le déployer. ")]),e._v(" "),t("p",[e._v("Nous créons un contrat pour enregistrer les informations de notes des étudiants et leur note finale pour chaque matière, et nous saisissons la classe et la note de l'étudiant pour chaque matière lors de la saisie des informations.")]),e._v(" "),t("p",[e._v("En fonction des notes saisies pour chaque matière, nous effectuons un calcul de moyenne pour obtenir la note globale "),t("code",[e._v("overallScore")]),e._v(" et la note finale "),t("code",[e._v("score")]),e._v(".\nLorsque le contrat est appelé, il créera un enregistrement dans la table de données que nous venons de créer "),t("code",[e._v("grade_info")]),e._v(".")]),e._v(" "),t("p",[e._v("D'abord, nous écrivons un contrat et le nommons "),t("code",[e._v("NewRecord.sim")])]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('1 contract NewRecord {\n2       data {\n3         Student string\n4         Grade int\n5         Class int\n6         Mathematics int\n7         Physics int\n8         Literature int\n9       }\n10     func getScore(a b c int) map{\n11          var m map\n12          var overallScore int\n13          overallScore = (a+b+c) / 3\n14          m["overallScore"] = overallScore\n15          if overallScore >= $gradeTypeABest["min"] &amp;&amp; overallScore &lt; $gradeTypeABest["max"] {\n16              m["score"] = "A+"\n17          }elif overallScore >= $gradeTypeA["min"] &amp;&amp; overallScore &lt; $gradeTypeA["max"] {\n18              m["score"] = "A"\n19          }elif overallScore >= $gradeTypeBBest["min"] &amp;&amp; overallScore &lt; $gradeTypeBBest["max"] {\n20              m["score"] = "B+"\n21          }elif overallScore >= $gradeTypeB["min"] &amp;&amp; overallScore &lt; $gradeTypeB["max"] {\n22              m["score"] = "B"\n23          }elif overallScore >= $gradeTypeC["min"] &amp;&amp; overallScore &lt; $gradeTypeC["max"]{\n24              m["score"] = "C"\n25          }else{\n26              m["score"] = "Notset"\n27          }\n28          return m\n29      }\n30      func safeJsonDecode(m string) map {\n31          var res map\n32          if Size(m) > 0 {\n33             res = JSONDecode(m)\n34          }\n35          return res\n36      }\n37\n38      conditions {\n39          if Size($Student) == 0 {\n40            warning "Student Can not be empty"\n41          }\n42          if $Class &lt;= 0{\n43              warning "Class cannot be less than or equal to zero"\n44          }\n45          if $Grade &lt;= 0{\n46              warning "Grade cannot be less than or equal to zero"\n47          }\n48          if $Mathematics &lt; 0 {\n49              warning "Mathematics cannot be less than zero"\n50          }\n51          if $Physics &lt; 0 {\n52              warning "Physics cannot be less than zero"\n53          }\n54          if $Literature &lt; 0 {\n55              warning "Literature cannot be less than zero"\n56          }\n57          if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\n58              warning "Score cannot exceed 100"\n59          }\n60          var app map\n61          app = DBFind("@1applications").Columns("id,ecosystem").Where({"ecosystem": 18,"name":"GradesRecorder","deleted":0}).Row()\n62          if !app {\n63              warning LangRes("@1app_not_found")\n64          }\n65\n66          var app_id int\n67          app_id = Int(app["id"])\n68          $eId = Int(app["ecosystem"])\n69          $gradeBestType = AppParam(app_id, "grade_best_type", $eId)\n70          $gradeTypeABest = safeJsonDecode(AppParam(app_id, "grade_type_a+", $eId))\n71          $gradeTypeA = safeJsonDecode(AppParam(app_id, "grade_type_a", $eId))\n72          $gradeTypeBBest = safeJsonDecode(AppParam(app_id, "grade_type_b+", $eId))\n73          $gradeTypeB = safeJsonDecode(AppParam(app_id, "grade_type_b", $eId))\n74          $gradeTypeC = safeJsonDecode(AppParam(app_id, "grade_type_c", $eId))\n75      }\n76      action {\n77          var m map\n78          m = getScore($Mathematics,$Physics,$Literature)\n79          var in map\n80          in["student"] = $Student\n81          in["class"] = $Class\n82          in["grade"] = $Grade\n83          in["mathematics"] = $Mathematics\n84          in["physics"] = $Physics\n85          in["literature"] = $Literature\n86          in["overall_score"] = m["overallScore"]\n87          in["score"] = m["score"]\n88          in["created_at"] = $time\n89          DBInsert("@"+ Str($eId)+"grade_info", in)\n90      }\n91  }\n')])])]),t("p",[e._v("Ce qui suit est expliqué par ligne:")]),e._v(" "),t("ul",[t("li",[e._v("Ligne 2, "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#data-section"}},[e._v("section des données")]),e._v(" définit les paramètres d'entrée "),t("code",[e._v("Student")]),e._v(" nom de l'étudiant, "),t("code",[e._v("Grade")]),e._v(" classe, "),t("code",[e._v("Class")]),e._v(" classe, "),t("code",[e._v("Mathematics")]),e._v(" score en mathématiques, "),t("code",[e._v("Physics")]),e._v(" score en physique, "),t("code",[e._v("Literature")]),e._v(" score en littérature.")],1),e._v(" "),t("li",[e._v("Ligne 10, la fonction getScore, produit un score composite et une note finale basée sur le score de chaque matière.")]),e._v(" "),t("li",[e._v("Ligne 30, la fonction safeJsonDecode, décode la chaîne JSON et la convertit en map.")]),e._v(" "),t("li",[e._v("Ligne 38, "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#conditions-section"}},[e._v("section conditionnelle")]),e._v(".")],1),e._v(" "),t("li",[e._v("Ligne 39, "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#action-section"}},[e._v("section des opérations")]),e._v(".")],1)]),e._v(" "),t("p",[e._v("Comme vous pouvez le voir, lorsque le contrat est appelé, il passe d'abord par la partie conditionnelle, vérifiant que les paramètres d'entrée du contrat sont valides, tels que le nom de l'étudiant "),t("code",[e._v("if Size($Student) == 0 {")]),e._v(" est vide (ligne 39), et s'il l'est, un message d'erreur est renvoyé "),t("code",[e._v('"L\'étudiant ne peut pas être vide"')]),e._v(" (ligne 30). Après avoir vérifié tous les paramètres d'entrée, à la ligne 61, utilisez "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#dbfind"}},[e._v("DBFind")]),e._v(" pour récupérer les informations de la base de données pour l'application avec l'ecid "),t("code",[e._v("18")]),e._v(" et le nom de l'application "),t("code",[e._v("GradesRecorder")]),e._v(" et les informations de l'application avec "),t("code",[e._v("deleted=0")]),e._v(" ne sont pas supprimées.")],1),e._v(" "),t("p",[e._v("Aux lignes 69-74, utilisez "),t("RouterLink",{attrs:{to:"/fr/topics/script.html#appparam"}},[e._v("AppParam")]),e._v(" pour récupérer les paramètres de l'application, par exemple "),t("code",[e._v('$gradeBestType = AppParam(app_id, "grade_best_type", $ eId)')]),e._v(" (ligne 69).")],1),e._v(" "),t("p",[e._v("Si le paramètre de l'application est stocké au format json, tel que "),t("code",[e._v("grade_type_a")]),e._v(", vous pouvez vous référer à "),t("code",[e._v('$gradeTypeABest = safeJsonDecode(AppParam(app_id, "grade_type_a+", $eId))')]),e._v(", qui obtiendra le paramètre de l'application par la fonction safeJsonDecode au format map.")]),e._v(" "),t("p",[e._v("Ensuite, passez à la partie opérationnelle, appelez la fonction getScore pour obtenir le score composite résultant et la note finale (ligne 10), utilisez une map pour stocker, ligne 79, définissez une map pour stocker les informations de réussite de l'étudiant, et\n"),t("RouterLink",{attrs:{to:"/fr/topics/script.html#dbinsert"}},[e._v("DBInsert")]),e._v(" Insérez les données dans la table de données "),t("code",[e._v("@18grade_info")]),e._v(".")],1),e._v(" "),t("p",[e._v("Il existe deux façons de créer un contrat, la première consiste à:\nTout d'abord, nous écrivons un fichier de paramètres de contrat au format json:")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ApplicationId"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("47")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"Value"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"contract NewRecord {\\n    data {\\n        Student string\\n        Grade int\\n        Class int\\n        Mathematics int\\n        Physics int\\n        Literature int\\n    }\\n    func getScore(a b c int) map{\\n        var m map\\n        var overallScore int\\n        overallScore = (a+b+c) / 3\\n        m[\\"overallScore\\"] = overallScore\\n        if overallScore >= $gradeTypeABest[\\"min\\"] && overallScore < $gradeTypeABest[\\"max\\"] {\\n            m[\\"score\\"] = \\"A+\\"\\n        }elif overallScore >= $gradeTypeA[\\"min\\"] && overallScore < $gradeTypeA[\\"max\\"] {\\n            m[\\"score\\"] = \\"A\\"\\n        }elif overallScore >= $gradeTypeBBest[\\"min\\"] && overallScore < $gradeTypeBBest[\\"max\\"] {\\n            m[\\"score\\"] = \\"B+\\"\\n        }elif overallScore >= $gradeTypeB[\\"min\\"] && overallScore < $gradeTypeB[\\"max\\"] {\\n            m[\\"score\\"] = \\"B\\"\\n        }elif overallScore >= $gradeTypeC[\\"min\\"] && overallScore < $gradeTypeC[\\"max\\"]{\\n            m[\\"score\\"] = \\"C\\"\\n        }else{\\n            m[\\"score\\"] = \\"Notset\\"\\n        }\\n        return m\\n    }\\n    func safeJsonDecode(m string) map {\\n        var res map\\n        if Size(m) > 0 {\\n            res = JSONDecode(m)\\n        }\\n        return res\\n    }\\n\\n    conditions {\\n        if Size($Student) == 0 {\\n            warning \\"Student Can not be empty\\"\\n        }\\n        if $Class <= 0{\\n            warning \\"Class cannot be less than or equal to zero\\"\\n        }\\n         if $Grade <= 0{\\n            warning \\"Grade cannot be less than or equal to zero\\"\\n        }\\n        if $Mathematics < 0 {\\n            warning \\"Mathematics cannot be less than zero\\"\\n        }\\n        if $Physics < 0 {\\n            warning \\"Physics cannot be less than zero\\"\\n        }\\n        if $Literature < 0 {\\n            warning \\"Literature cannot be less than zero\\"\\n        }\\n        if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\\n            warning \\"Score cannot exceed 100\\"\\n        }\\n        var app map\\n        app = DBFind(\\"@1applications\\").Columns(\\"id,ecosystem\\").Where({\\"ecosystem\\": 18,\\"name\\":\\"GradesRecorder\\",\\"deleted\\":0}).Row()\\n        if !app {\\n            warning LangRes(\\"@1app_not_found\\")\\n        }\\n\\n        var app_id int\\n        app_id = Int(app[\\"id\\"])\\n        $eId = Int(app[\\"ecosystem\\"])\\n        $gradeBestType = AppParam(app_id, \\"grade_best_type\\", $eId)\\n        $gradeTypeABest = safeJsonDecode(AppParam(app_id, \\"grade_type_a+\\", $eId))\\n        $gradeTypeA = safeJsonDecode(AppParam(app_id, \\"grade_type_a\\", $eId))\\n        $gradeTypeBBest = safeJsonDecode(AppParam(app_id, \\"grade_type_b+\\", $eId))\\n        $gradeTypeB = safeJsonDecode(AppParam(app_id, \\"grade_type_b\\", $eId))\\n        $gradeTypeC = safeJsonDecode(AppParam(app_id, \\"grade_type_c\\", $eId))\\n    }\\n    action {\\n        var m map \\n        m = getScore($Mathematics,$Physics,$Literature)\\n        var in map\\n        in[\\"student\\"] = $Student\\n        in[\\"class\\"] = $Class\\n        in[\\"grade\\"] = $Grade\\n        in[\\"mathematics\\"] = $Mathematics\\n        in[\\"physics\\"] = $Physics \\n        in[\\"literature\\"] = $Literature \\n        in[\\"overall_score\\"] = m[\\"overallScore\\"]\\n        in[\\"score\\"] = m[\\"score\\"]\\n        in[\\"created_at\\"] = $time\\n        DBInsert(\\"@\\"+ Str($eId)+\\"grade_info\\", in)\\n    }\\n}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"Conditions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ContractConditions(\\"@1DeveloperCondition\\")"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Où "),t("code",[e._v("ApplicationId")]),e._v(" est l'identifiant de l'application, qui doit être échappé pour les caractères spéciaux, et "),t("code",[e._v("Conditions")]),e._v(" est la permission de modification du contrat.")]),e._v(" "),t("p",[e._v("Code source du contrat "),t("code",[e._v("Value")]),e._v(", que nous enregistrons sous le nom "),t("code",[e._v("NewRecordParams.json")]),e._v(".")]),e._v(" "),t("p",[e._v("Après avoir rédigé le contrat, nous devons le déployer en appelant CreateContract"),t("code",[e._v("@1NewContract")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('1    >>callContract @1NewContract -f=./data/NewRecordParams.json\n2    {\n3        "block_id": 1262,\n4        "hash": "d896f12f685835f6cf71705e1ba...4d8bcc0a1406f7b0b6482b2d230fc",\n5        "penalty": 0,\n6        "err": "348"\n7    }\n')])])]),t("p",[e._v("La ligne suivante est expliquée par ligne :")]),e._v(" "),t("ul",[t("li",[e._v("Ligne 1 : appeler le contrat "),t("code",[e._v("@1NewContract")]),e._v(" pour créer le contrat, -f utilise le fichier pour importer le fichier "),t("code",[e._v("NewRecord.json")]),e._v(" nouvellement créé en tant que paramètre du contrat.")]),e._v(" "),t("li",[e._v("Ligne 3 : l'identifiant de bloc généré par la transaction.")]),e._v(" "),t("li",[e._v("Ligne 4 : le hachage de bloc généré par la transaction.")]),e._v(" "),t("li",[e._v("Ligne 5 : si l'exécution de la transaction échoue (0 : pas de pénalité, 1 : pénalité).")]),e._v(" "),t("li",[e._v("Ligne 6 : si l'exécution de la transaction échoue, un message d'erreur est renvoyé, et si l'identifiant de bloc est renvoyé, le champ d'erreur contient l'identifiant du contrat qui est "),t("code",[e._v("348")]),e._v(".")])]),e._v(" "),t("p",[e._v("Deuxième méthode :\nLe fichier source du contrat enregistré est directement transmis aux paramètres du contrat dans le format de paramètre "),t("code",[e._v("nomParamètre")]),e._v(" + "),t("code",[e._v("-")]),e._v(' + "fichier", '),t("code",[e._v("nomParamètre-fichier")]),e._v(" comme suit :")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("callContract @1NewContract "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ApplicationId"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("47")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Value-file"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"NewRecord.sim"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Conditions"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ContractConditions('),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v('@1DeveloperCondition\\ "')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v('"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Essayons d'appeler le contrat que nous venons de créer.")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('1  >callContract @18NewRecord {"Student": "tom", "Grade": 1, "Class": 1, "Mathematics": 18, "Physics": 57, "Literature": 93}\n2  \n3  {\n4     "block_id": 1263,\n5     "hash": "1b964a47fe6c5fd43ea55a752d01edb5ad576432fd6f63315344d87999a0473d",\n6     "penalty": 0,\n7     "err": ""\n8  }\n')])])]),t("p",[e._v("The call is complete, and then we check to see if the data table has saved a record")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('>getList @18grade_info\n{\n    "count": 1,\n    "list": [\n        {\n            "class": "1",\n            "created_at": "1683698914109",\n            "grade": "1",\n            "id": "9",\n            "literature": "93",\n            "mathematics": "18",\n            "overall_score": "56",\n            "physics": "57",\n            "score": "C",\n            "student": "tom"\n        }\n    ]\n}\n')])])]),t("p",[e._v("Vous pouvez voir qu'il y a déjà un enregistrement dans la table de données, "),t("code",[e._v("student")]),e._v(" tom avec une note globale de 56 et une note de C.")]),e._v(" "),t("p",[e._v("L'exemple ci-dessus est uniquement à des fins d'étude et de recherche, vous devez modifier les paramètres pertinents en fonction de la situation réelle, tels que la permission d'écriture dans la table de données, la permission de modification de contrat, etc.")]),e._v(" "),t("p",[e._v("Par exemple, si nous voulons spécifier qu'une seule personne peut appeler ce nouveau contrat et que personne d'autre ne peut l'appeler, nous pouvons définir un paramètre écologique "),t("code",[e._v("new_record_account")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"step-6-create-ecosystem-parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-6-create-ecosystem-parameters"}},[e._v("#")]),e._v(" Étape 6 : Créer des paramètres écologiques ")]),e._v(" "),t("p",[e._v("Appeler le contrat "),t("code",[e._v("@1NewParameter")]),e._v(" créera l'éco-paramètre "),t("code",[e._v("new_record_account")]),e._v(" dans la table "),t("code",[e._v("@1parameters")]),e._v(". Si vous avez besoin de modifier l'éco-paramètre, vous pouvez appeler "),t("code",[e._v("@1EditParameter")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('>callContract @1NewParameter {"Name": "new_record_account", "Value": "6667782293976713160", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n\n{\n    "block_id": 1416,\n    "hash": "12fc87ce6a70e2fc993ab9ffe623311f1c50edd1157595ce6183c38c93960cae",\n    "penalty": 0,\n    "err": "273"\n}\n')])])]),t("p",[e._v("Nous créons un paramètre d'écosystème appelé "),t("code",[e._v("new_record_account")]),e._v(", nous définissons la valeur sur la cléId "),t("code",[e._v("6667782293976713160")]),e._v(", nous modifions les permissions pour "),t("code",[e._v('ContractConditions("MainCondition")')]),e._v(', ce qui signifie que le créateur écologique actuel peut modifier.\nLorsque la transaction est exécutée avec succès, l\'identifiant du paramètre écologique dans le champ "err" est '),t("code",[e._v("273")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"step-7-add-localization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-7-add-localization"}},[e._v("#")]),e._v(" Étape 7 : ajouter la localisation ")]),e._v(" "),t("p",[e._v("Vous pouvez appeler le contrat "),t("code",[e._v("@1NewLangJoint")]),e._v(" pour créer le paramètre de localisation "),t("code",[e._v("account_not_access")]),e._v(", qui créera le paramètre dans la table "),t("code",[e._v("@1languages")]),e._v(", et vous pouvez modifier le paramètre de localisation via "),t("code",[e._v("@1EditLangJoint")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("callContract @1NewLangJoint "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"account_not_access"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"LocaleArr"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"en"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ja"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ValueArr"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Sorry, you do not have access to this action"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"申し訳ありませんが、このアクションにアクセスする権限がありません"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h3",{attrs:{id:"step-8-modify-the-contract"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-8-modify-the-contract"}},[e._v("#")]),e._v(" Étape 8 Modifier le contrat ")]),e._v(" "),t("p",[e._v("Ensuite, nous devons modifier la section "),t("code",[e._v("conditions")]),e._v(" du code source du contrat en ajoutant le code suivant aux "),t("code",[e._v("conditions")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('conditions {\n  if EcosysParam("new_record_account") != $key_id {\n      warning LangRes("account_not_access")\n  }\n}\n')])])]),t("p",[e._v("Appeler pour modifier le contrat @1EditContract, où "),t("code",[e._v("Id")]),e._v(" est l'identifiant du contrat, "),t("code",[e._v("Value")]),e._v(" est le code source du contrat.")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('>callContract @1EditContract {"Id": 348, "Value": "contract NewRecord {\\n    data {\\n        Student string\\n        Grade int\\n        Class int\\n        Mathematics int\\n        Physics int\\n        Literature int\\n    }\\n    func getScore(a b c int) map{\\n        var m map\\n        var overallScore int\\n        overallScore = (a+b+c) / 3\\n        m[\\"overallScore\\"] = overallScore\\n        if overallScore >= $gradeTypeABest[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeABest[\\"max\\"] {\\n            m[\\"score\\"] = \\"A+\\"\\n        }elif overallScore >= $gradeTypeA[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeA[\\"max\\"] {\\n            m[\\"score\\"] = \\"A\\"\\n        }elif overallScore >= $gradeTypeBBest[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeBBest[\\"max\\"] {\\n            m[\\"score\\"] = \\"B+\\"\\n        }elif overallScore >= $gradeTypeB[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeB[\\"max\\"] {\\n            m[\\"score\\"] = \\"B\\"\\n        }elif overallScore >= $gradeTypeC[\\"min\\"] &amp;&amp; overallScore &lt; $gradeTypeC[\\"max\\"]{\\n            m[\\"score\\"] = \\"C\\"\\n        }else{\\n            m[\\"score\\"] = \\"Notset\\"\\n        }\\n        return m\\n    }\\n    func safeJsonDecode(m string) map {\\n        var res map\\n        if Size(m) > 0 {\\n            res = JSONDecode(m)\\n        }\\n        return res\\n    }\\n\\n    conditions {\\n        if EcosysParam(\\"new_record_account\\") != $key_id {\\n            warning LangRes(\\"account_not_access\\")\\n        }\\n        if Size($Student) == 0 {\\n            warning \\"Student Can not be empty\\"\\n        }\\n        if $Class &lt;= 0{\\n            warning \\"Class cannot be less than or equal to zero\\"\\n        }\\n         if $Grade &lt;= 0{\\n            warning \\"Grade cannot be less than or equal to zero\\"\\n        }\\n        if $Mathematics &lt; 0 {\\n            warning \\"Mathematics cannot be less than zero\\"\\n        }\\n        if $Physics &lt; 0 {\\n            warning \\"Physics cannot be less than zero\\"\\n        }\\n        if $Literature &lt; 0 {\\n            warning \\"Literature cannot be less than zero\\"\\n        }\\n        if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\\n            warning \\"Score cannot exceed 100\\"\\n        }\\n        var app map\\n        app = DBFind(\\"@1applications\\").Columns(\\"id,ecosystem\\").Where({\\"ecosystem\\": 18,\\"name\\":\\"GradesRecorder\\",\\"deleted\\":0}).Row()\\n        if !app {\\n            warning LangRes(\\"@1app_not_found\\")\\n        }\\n\\n        var app_id int\\n        app_id = Int(app[\\"id\\"])\\n        $eId = Int(app[\\"ecosystem\\"])\\n        $gradeBestType = AppParam(app_id, \\"grade_best_type\\", $eId)\\n        $gradeTypeABest = safeJsonDecode(AppParam(app_id, \\"grade_type_a+\\", $eId))\\n        $gradeTypeA = safeJsonDecode(AppParam(app_id, \\"grade_type_a\\", $eId))\\n        $gradeTypeBBest = safeJsonDecode(AppParam(app_id, \\"grade_type_b+\\", $eId))\\n        $gradeTypeB = safeJsonDecode(AppParam(app_id, \\"grade_type_b\\", $eId))\\n        $gradeTypeC = safeJsonDecode(AppParam(app_id, \\"grade_type_c\\", $eId))\\n    }\\n    action {\\n        var m map \\n        m = getScore($Mathematics,$Physics,$Literature)\\n        var in map\\n        in[\\"student\\"] = $Student\\n        in[\\"class\\"] = $Class\\n        in[\\"grade\\"] = $Grade\\n        in[\\"mathematics\\"] = $Mathematics\\n        in[\\"physics\\"] = $Physics \\n        in[\\"literature\\"] = $Literature \\n        in[\\"overall_score\\"] = m[\\"overallScore\\"]\\n        in[\\"score\\"] = m[\\"score\\"]\\n        in[\\"created_at\\"] = $time\\n        DBInsert(\\"@\\"+ Str($eId)+\\"grade_info\\", in)\\n    }\\n}"}\n')])])]),t("h4",{attrs:{id:"step-9-modify-data-table-permissions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-9-modify-data-table-permissions"}},[e._v("#")]),e._v(" Étape 9 Modifier les autorisations de la table de données ")]),e._v(" "),t("p",[e._v("Ici, nous devons modifier l'autorisation d'insertion de la table de données, l'autorisation d'origine "),t("code",[e._v('ContractConditions("MainCondition")')]),e._v(" pour l'écréateur, et le paramètre de contrat "),t("code",[e._v("new_record_account")]),e._v(" n'est pas l'écréateur.")]),e._v(" "),t("p",[e._v("Donc, il suffit de modifier "),t("code",[e._v('ContractConditions("MainCondition")')]),e._v(" pour spécifier que le contrat peut opérer sur "),t("code",[e._v('ContractAccess("@18NewRecord")')]),e._v(".")]),e._v(" "),t("p",[e._v("Appelez le contrat "),t("code",[e._v("@1EditTable")]),e._v(" pour modifier les autorisations de la table de données.")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('>callContract @1EditTable {"Name": "@18grade_info", "InsertPerm": "ContractAccess(\\"@18NewRecord\\")", "UpdatePerm": "ContractConditions(\\"MainCondition\\")", "ReadPerm": "true", "NewColumnPerm": "ContractConditions(\\"MainCondition\\")"}\n')])])]),t("p",[e._v("Ensuite, appelez le contrat que vous venez de modifier et créez un nouvel enregistrement.")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('1  >callContract @18NewRecord {"Student": "tom", "Grade": 1, "Class": 1, "Mathematics": 18, "Physics": 57, "Literature": 93}\n2  \n3  {\n4      "block_id": 1435,\n5      "hash": "7d4b06d3738133f9c2ec775935478cd2d6c20fd04eca275769afd0f8e6a4f687",\n6      "penalty": 1,\n7      "err": "{\\"type\\":\\"warning\\",\\"error\\":\\"Sorry, you do not have access to this action\\"}"\n8  }\n')])])]),t("p",[e._v("Vous pouvez voir que le paramètre de localisation que nous venons de définir, "),t("code",[e._v("account_not_access")]),e._v(", fonctionne.")]),e._v(" "),t("p",[e._v("Nous avons constaté que l'erreur de permission est signalée, l'utilisateur actuel n'a pas l'autorisation d'effectuer des opérations. Nous passons au compte avec l'identifiant de clé "),t("code",[e._v("6667782293976713160")]),e._v(" et nous pouvons obtenir les informations de l'utilisateur actuel à l'aide de l'outil en ligne de commande "),t("code",[e._v("account info")]),e._v(".")]),e._v(" "),t("p",[e._v("Configurez le fichier de configuration de l'outil en ligne de commande config.yml et passez au compte avec l'identifiant de clé "),t("code",[e._v("6667782293976713160")]),e._v(".")]),e._v(" "),t("p",[e._v("Une fois la configuration terminée, appelez à nouveau le contrat.")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('>callContract @18NewRecord {"Student": "tini", "Grade": 1, "Class": 3, "Mathematics": 69, "Physics": 89, "Literature": 98}\n\n{\n    "block_id": 1436,\n    "hash": "93327dafb7bae9f9f66718eb87020a7bca4c00060f4bd0a243b49eea304c52e6",\n    "penalty": 0,\n    "err": ""\n}\n')])])]),t("p",[e._v("L'appel est terminé, interrogeant la table de données via "),t("code",[e._v("getList @18grade_info")]),e._v(", et le résultat est conforme aux attentes.")]),e._v(" "),t("p",[e._v("Nous espérons que cet article vous a aidé à en savoir plus sur le fonctionnement du réseau IBAX et sur la façon d'écrire un code "),t("code",[e._v("Needle")]),e._v(" clair et sécurisé.")]),e._v(" "),t("h2",{attrs:{id:"deploy-application-using-command-line-tools"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-application-using-command-line-tools"}},[e._v("#")]),e._v(" Déployer une application à l'aide d'outils en ligne de commande ")]),e._v(" "),t("p",[e._v("Dans ce tutoriel, vous apprendrez comment :")]),e._v(" "),t("ul",[t("li",[t("ol",[t("li",[t("a",{attrs:{href:"#export-application"}},[e._v("Exporter une application")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"2"}},[t("li",[t("a",{attrs:{href:"#import-application"}},[e._v("Importer une application")])])])])]),e._v(" "),t("p",[e._v("Avant de commencer ce tutoriel, vous devez avoir votre propre application et connaître le concept d'écosystème et d'application. Vous pouvez vous référer au "),t("a",{attrs:{href:"#getting-started-guide"}},[e._v("Guide de démarrage")]),e._v(".")]),e._v(" "),t("p",[e._v("Nous importerons l'application sur la blockchain IBAX via l'outil en ligne de commande "),t("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("ibax-cli"),t("OutboundLink")],1),e._v(". Exporter une application.")]),e._v(" "),t("h3",{attrs:{id:"export-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#export-application"}},[e._v("#")]),e._v(" Exporter l'application ")]),e._v(" "),t("p",[e._v("Appeler "),t("code",[e._v("account info")]),e._v(" pour interroger les informations du compte actuel, ici le login ecid est "),t("code",[e._v("9")]),e._v(", appeler la commande "),t("code",[e._v("getList")]),e._v(" pour interroger les applications associées à l'ecid actuel.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ ibax-cli console\n   \nWelcome to the IBAX console"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("\nTo exit, press ctrl-d or "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("type")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("account info\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"public_key"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"04d11ea197fe23152562c6f54c4...889c074dfd9080099982d8b2d4d100315e1cebc7"')]),e._v(",     \n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("9")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"key_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6660819")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".78795186,\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"account"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0666-0819-...-7879-5186"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("getList @1applications "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-w")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"count"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"list"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"conditions"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"true"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deleted"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"9"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"36"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"testapp"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"uuid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"00000000-0000-0000-0000-000000000000"')]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Nous pouvons voir que l'écosystème actuel compte 6 applications. Nous utilisons la commande "),t("code",[e._v("export")]),e._v(" pour exporter l'application avec l'"),t("code",[e._v("id")]),e._v(" de "),t("code",[e._v("36")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("export "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("36")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("./data.json\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"./data.json"')]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"application/json"')]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Le paramètre -f ici enregistre l'application exportée dans le fichier "),t("code",[e._v("data.json")]),e._v(" dans le répertoire actuel.\nSi aucun paramètre -f n'est spécifié, les données de l'application seront affichées dans le terminal de commande.")]),e._v(" "),t("p",[e._v("La commande "),t("code",[e._v("export")]),e._v(" encapsule les étapes pour exporter une application. Vous pouvez utiliser la commande ci-dessus pour exporter une application, ou suivre les étapes suivantes, comme suit :")]),e._v(" "),t("p",[e._v("Appeler le contrat "),t("code",[e._v("@1ExportNewApp")]),e._v(" pour exporter une nouvelle application générera un enregistrement dans la table "),t("code",[e._v("1_buffer_data")]),e._v(" pour l'application exportée.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1ExportNewApp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ApplicationId"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("36")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Appelez le contrat "),t("code",[e._v("@1Export")]),e._v(" pour exporter l'application, recherchez l'application sélectionnée dans la table "),t("code",[e._v("1_buffer_data")]),e._v(", et exportez toutes les ressources de l'application vers la chaîne JSON générée.")]),e._v(" "),t("p",[e._v("La chaîne JSON générée sera écrite dans la table "),t("code",[e._v("1_binaries")]),e._v(" de l'écosystème actuel.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1Export\n")])])]),t("p",[e._v("Interrogez les données dans la table "),t("code",[e._v("1_binaries")]),e._v(" avec la commande "),t("code",[e._v("getList")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("getList @1binaries "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-w")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"export"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"account"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0666-0819-...-7879-5186"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("9")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"app_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("36")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-l")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-c")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id,hash"')]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"count"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"list"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"8542cb57b77e0ae2c...92c3e05dbbe35ab646789be5b8ba8"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"14"')]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Obtenez l'identifiant binaire et le hachage.")]),e._v(" "),t("p",[e._v("Appelez la commande "),t("code",[e._v("binaryVerify")]),e._v(" pour exporter le fichier binaire.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("binaryVerify "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("14")]),e._v(" 8542cb57b77e0ae2c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".92c3e05dbbe35ab646789be5b8ba8 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("./data.json\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"./data.json"')]),e._v(",     \n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"application/json"')]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h3",{attrs:{id:"import-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-application"}},[e._v("#")]),e._v(" Importer l'application ")]),e._v(" "),t("p",[e._v("Utilisez la commande "),t("code",[e._v("import")]),e._v(" pour importer une application, avec le paramètre "),t("code",[e._v("-f")]),e._v(" pour spécifier le fichier d'application à importer.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ ibax-cli console\n\nWelcome to the IBAX console"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("\nTo exit, press ctrl-d or "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("type")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("import "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v(" /data.json\n")])])]),t("p",[e._v("The "),t("code",[e._v("import")]),e._v(" command encapsulates the steps to import an application, you can use the above command to import an application")]),e._v(" "),t("p",[e._v("Or use the following steps, which, for ease of study and research, are as follows:")]),e._v(" "),t("ul",[t("li",[e._v("Étape 1 :\nAppeler le contrat "),t("code",[e._v("@1ImportUpload")]),e._v(" pour importer une nouvelle application générera un enregistrement dans la table "),t("code",[e._v("1_buffer_data")]),e._v(" pour l'application exportée.\n"),t("code",[e._v("@1ImportUpload")]),e._v(" Le paramètre du contrat "),t("code",[e._v("Data")]),e._v(" est "),t("code",[e._v("file")]),e._v(" "),t("RouterLink",{attrs:{to:"/fr/topics/vm.html#types"}},[e._v("type")]),e._v(".\nIl contient les mots-clés "),t("code",[e._v("Name")]),e._v(" pour le nom du fichier (chaîne de caractères), "),t("code",[e._v("MimeType")]),e._v(" pour le type de fichier (chaîne de caractères), "),t("code",[e._v("Body")]),e._v(" pour le contenu du fichier ([]byte).\nVous devez encoder en base64 les données du fichier de l'application et les passer dans "),t("code",[e._v("Body")]),e._v(", vous pouvez utiliser la commande "),t("code",[e._v("base64Encode")]),e._v(" pour les encoder en base64.")],1)]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("base64Encode "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("./data.json\n\nEncode:ewoJIm5hbWUiOiAid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".CQkJIlR5cGUiOiAiY29udHJhY3RzIiwKCQkJIk5hbWUiOiAiSGVsbG9Xb3JsZCIsCgkJCSJWYWx1ZSI6"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1ImportUpload "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Data"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"filename"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"MimeType"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"mimeType"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Body"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ewoJIm5hbWUiOiAid...CQkJIlR5cGUiOiAiY29udHJhY3RzIiwKCQkJIk5hbWUiOiAiSGVsbG9Xb3JsZCIsCgkJCSJWYWx1ZSI6..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("ul",[t("li",[e._v("Étape 2 :\nAprès que l'appel est terminé, utilisez la commande "),t("code",[e._v("getList")]),e._v(" pour interroger les données dans la table "),t("code",[e._v("1_buffer_data")]),e._v(".")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("getList @1buffer_data "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-w")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"key"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"import"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"account"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0666-0819-xxxx-7879-5186"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("19")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-l")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-c")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("value-"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'data'")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"count"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"list"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"22"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"value.data"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"[{"')]),e._v("Data"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('": "')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("a,b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"}, {"')]),e._v("Data"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('": "')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("c,d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"}]"')]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("ul",[t("li",[e._v("Étape 3 :\nAssemblez les données de value.data->Data dans un tableau unidimensionnel, [a,b,c,d].\nEnsuite, créez un fichier de paramètres de contrat "),t("code",[e._v("importParams.json")]),e._v(", avec le contenu suivant :")])]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"Data"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"[a,b,c,d]"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("ul",[t("li",[e._v("Étape 4 : Appelez le contrat "),t("code",[e._v("@1Import")]),e._v(" pour importer les données de l'application.")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1Import "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("./importParams.json\n")])])]),t("h2",{attrs:{id:"ecosystem-configuration-using-command-line-tool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ecosystem-configuration-using-command-line-tool"}},[e._v("#")]),e._v(" Configuration écologique à l'aide d'un outil en ligne de commande ")]),e._v(" "),t("p",[e._v("Dans ce tutoriel, vous apprendrez comment :")]),e._v(" "),t("ul",[t("li",[t("ol",[t("li",[t("a",{attrs:{href:"#apply-to-join-the-ecosystem"}},[e._v("Postuler pour rejoindre l'écosystème")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"2"}},[t("li",[t("a",{attrs:{href:"#add-ecosystem-members"}},[e._v("Ajouter des membres de l'écosystème")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"3"}},[t("li",[t("a",{attrs:{href:"#role-management"}},[e._v("Gestion des rôles")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"4"}},[t("li",[t("a",{attrs:{href:"#issuance-of-token"}},[e._v("Émission de jetons")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"5"}},[t("li",[t("a",{attrs:{href:"#eco-deduction"}},[e._v("Déduction écologique")])])])]),e._v(" "),t("li",[t("ol",{attrs:{start:"6"}},[t("li",[t("a",{attrs:{href:"#dao-governance-ecosystem"}},[e._v("Écosystème de gouvernance DAO")])])])])]),e._v(" "),t("p",[e._v("Avant de commencer ce tutoriel, vous devez avoir votre propre application et connaître le concept d'écosystème et d'application. Vous pouvez vous référer au "),t("a",{attrs:{href:"#getting-started-guide"}},[e._v("Guide de démarrage")]),e._v(".")]),e._v(" "),t("p",[e._v("Nous allons effectuer la configuration écologique sur la blockchain IBAX via l'outil en ligne de commande "),t("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("ibax-cli"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"apply-to-join-the-ecosystem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apply-to-join-the-ecosystem"}},[e._v("#")]),e._v(" Postuler pour rejoindre l'écosystème{#apply-to-join-the-ecosystem}")]),e._v(" "),t("p",[e._v("Nous pouvons appeler le contrat "),t("code",[e._v("@1MembershipRequest")]),e._v(" pour demander à rejoindre l'écosystème.")]),e._v(" "),t("p",[e._v("L'exemple suivant:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1MembershipRequest "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"EcosystemId"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("19")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Demande de rejoindre l'écosystème avec l'identifiant écologique "),t("code",[e._v("19")]),e._v(", le contrat "),t("code",[e._v("@1MembershipRequest")]),e._v(" impose une restriction sur l'appel de l'écosystème, seul l'écosystème de base peut être appelé.")]),e._v(" "),t("p",[e._v("Lorsque la demande est acceptée, le gestionnaire de l'écosystème cible recevra une demande et elle ne sera considérée comme faisant partie de l'écosystème cible que lorsque la demande sera approuvée par le gestionnaire de l'écosystème.")]),e._v(" "),t("p",[e._v("Bien sûr, si l'écosystème cible est public, vous pouvez le rejoindre directement.")]),e._v(" "),t("h3",{attrs:{id:"add-ecosystem-members"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-ecosystem-members"}},[e._v("#")]),e._v(" Ajouter des membres de l'écosystème ")]),e._v(" "),t("p",[e._v("Lorsque l'écosystème vient d'être créé, le seul membre de l'écosystème est le créateur de l'écosystème. Lorsque vous souhaitez inviter d'autres membres à rejoindre, vous devez connaître la clé publique de la personne invitée, puis appeler le contrat "),t("code",[e._v("@1MembershipAdd")]),e._v(" pour ajouter des membres.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1MembershipAdd "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Keys"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"04f2c1780ca0aa0f343d0e541c77811...3b0d5bf3a9903253aad6e78c966b5f91ffb32703884020"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Si l'écosystème est public et permet à n'importe qui de rejoindre, vous pouvez définir le paramètre de l'écosystème "),t("code",[e._v("free_membership")]),e._v(" = 1, qui n'est pas public par défaut.")]),e._v(" "),t("p",[e._v("Une fois configuré, vous n'avez pas besoin d'être approuvé pour rejoindre votre écosystème.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1NewParameter "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"free_membership"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Conditions"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ContractConditions('),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("MainCondition"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(')"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Si vous ne définissez pas le paramètre "),t("code",[e._v("free_membership")]),e._v(", lorsque d'autres membres demandent à rejoindre votre écosystème, vous recevrez une notification de demande.")]),e._v(" "),t("p",[e._v("Appelez l'application d'approbation du contrat "),t("code",[e._v("@1MembershipDecide")]),e._v(", les paramètres du contrat "),t("code",[e._v("NotificId")]),e._v(" sont l'identifiant de la notification, 'Accept' est la marque de résolution, la marque de résolution "),t("code",[e._v("1")]),e._v(" est acceptée.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1MembershipDecide "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"NotificId"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Accept"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h4",{attrs:{id:"freezing-of-accounts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#freezing-of-accounts"}},[e._v("#")]),e._v(" Blocage des comptes ")]),e._v(" "),t("p",[e._v("Appeler le contrat "),t("code",[e._v("@1DeleteMember")]),e._v(" pour geler le compte, notez que cette opération ne peut pas être restaurée.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1DeleteMember "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"MemberAccount"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1539-2715-xxxx-1679-5385"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h3",{attrs:{id:"role-management"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#role-management"}},[e._v("#")]),e._v(" Gestion des rôles ")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#new-role-creation"}},[e._v("Création d'un nouveau rôle")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#adding-role-members"}},[e._v("Ajouter un membre au rôle")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#delete-role-members"}},[e._v("Supprimer un membre du rôle")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#modify-role-manager"}},[e._v("Modifier le gestionnaire du rôle")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#delete-role"}},[e._v("Supprimer le rôle")])])]),e._v(" "),t("h4",{attrs:{id:"new-role-creation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#new-role-creation"}},[e._v("#")]),e._v(" Création d'un nouveau rôle ")]),e._v(" "),t("p",[e._v("Appeler le contrat "),t("code",[e._v("@1RolesCreate")]),e._v(" pour créer un nouveau rôle, nom du rôle "),t("code",[e._v("student")]),e._v(", type "),t("code",[e._v("2")]),e._v(" (1 - Assignable 2 - Élu par vote 3 - Système).")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1RolesCreate "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"student"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"block_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1685")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"5321f2231a...d0d80158b62766395f14d0ff7"')]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"penalty"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"err"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"21"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Le résultat de retour contient l'identifiant de rôle "),t("code",[e._v("21")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"adding-role-members"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#adding-role-members"}},[e._v("#")]),e._v(" Ajout de membres de rôle ")]),e._v(" "),t("p",[e._v("Il existe deux méthodes, la première méthode consiste à ce que le membre de l'écosystème initie la demande d'application en appelant le contrat "),t("code",[e._v("@1RolesRequest")]),e._v(" pour demander à être ajouté en tant que membre du rôle, où "),t("code",[e._v("Rid")]),e._v(" est l'identifiant du rôle.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1RolesRequest "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Rid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("21")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Dans la deuxième méthode, le gestionnaire de rôles attribue des membres de rôle, et le gestionnaire de rôles appelle le contrat "),t("code",[e._v("@1RolesAssign")]),e._v(" pour ajouter des membres au rôle.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1RolesAssign "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"MemberAccount"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0666-7782-xxxx-7671- 3160"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Rid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("21")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h4",{attrs:{id:"delete-role-members"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-role-members"}},[e._v("#")]),e._v(" Supprimer les membres du rôle ")]),e._v(" "),t("p",[e._v("Tout d'abord, nous voyons quels membres un rôle possède, que nous pouvons interroger via getList, comme suit:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("getList @1roles_participants "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-w")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("18")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"role->id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"21"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deleted"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"count"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"list"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"appointed"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"{'),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("account"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("1273-2644-xxxx-5846-6598"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("image_id"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("0"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("member_name"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("founder"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v('}"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"date_created"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1684916023"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"date_deleted"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deleted"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"18"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"21"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"member"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"{'),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("account"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("1273-2644-xxxx-5846-6598"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("image_id"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("0"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("member_name"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("founder"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v('}"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"role"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"{'),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("id"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("20"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("name"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("teacher"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("type"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("1"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("image_id"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("0"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v('}"')]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Où la condition "),t("code",[e._v("where")]),e._v(" "),t("code",[e._v("ecosystem")]),e._v(" spécifie l'écosystème, "),t("code",[e._v("role->id")]),e._v(" spécifie l'identifiant du rôle et "),t("code",[e._v("deleted")]),e._v(": 0 spécifie non supprimé.")]),e._v(" "),t("p",[e._v("Nous pouvons voir que nous avons 3 lignes, si nous voulons supprimer le rôle avec le membre "),t("code",[e._v("1273-2644-xxxx-5846-6598")]),e._v(", c'est-à-dire le rôle avec l'"),t("code",[e._v("id")]),e._v(" de "),t("code",[e._v("21")]),e._v(".")]),e._v(" "),t("p",[e._v("Les administrateurs peuvent appeler le contrat "),t("code",[e._v("@1RolesUnassign")]),e._v(" pour supprimer les membres du rôle, comme suit:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1RolesUnassign "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"RowId"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("21")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h4",{attrs:{id:"modify-role-manager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modify-role-manager"}},[e._v("#")]),e._v(" Modifier le gestionnaire de rôles ")]),e._v(" "),t("p",[e._v("Regardons les rôles écologiques actuels :")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("getList @1roles "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-w")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("18")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"count"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"list"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"company_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"creator"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"{'),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("account"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("1273-2644-xxxx-5846-6598"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("image_id"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("0"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("member_name"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(": "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("founder"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v('}"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"date_created"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1684910917"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"date_deleted"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"default_page"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deleted"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"18"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"20"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"image_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"role_name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"teacher"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"role_type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"roles_access"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"[]"')]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("où "),t("code",[e._v("roles_access")]),e._v(" est le rôle administratif pour le rôle actuel, qui est un tableau et peut en avoir plusieurs.")]),e._v(" "),t("p",[e._v("Nous ajoutons un rôle administratif au rôle "),t("code",[e._v("teacher")]),e._v(" en appelant le contrat "),t("code",[e._v("@1RolesAccessManager")]),e._v(", où les paramètres du contrat sont "),t("code",[e._v("Action")]),e._v(" l'opérateur administratif ("),t("code",[e._v("clean")]),e._v(", "),t("code",[e._v("remove")]),e._v(", "),t("code",[e._v("add")]),e._v("), "),t("code",[e._v("Rid")]),e._v(" l'ID du rôle à gérer, "),t("code",[e._v("ManagerRid")]),e._v(" l'ID du gestionnaire de rôle.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1RolesAccessManager "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Action"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"add"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Rid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("20")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ManagerRid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("13")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"block_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1745")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"e2eb8ff0dc309ec7652db...bbbe58bca4ca574804e46c2f63653eb73104"')]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"penalty"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"err"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h4",{attrs:{id:"delete-role"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-role"}},[e._v("#")]),e._v(" Supprimer le rôle ")]),e._v(" "),t("p",[e._v("Nous pouvons appeler le contrat "),t("code",[e._v("@1RolesDelete")]),e._v(" pour supprimer des rôles, où les paramètres du contrat "),t("code",[e._v("Rid")]),e._v(" sont l'ID du rôle à gérer et "),t("code",[e._v("Ops")]),e._v(" est l'opérateur ("),t("code",[e._v("D")]),e._v(" pour supprimer, "),t("code",[e._v("R")]),e._v(" pour restaurer).")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1RolesDelete "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Rid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("24")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Ops"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"D"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"block_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1785")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1ebf99a04f504fc3d2...4ecfbdfc419bf3dbf39df0013dca913f844"')]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"penalty"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"err"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h3",{attrs:{id:"issuance-of-token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#issuance-of-token"}},[e._v("#")]),e._v(" Émission de jeton ")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#create-ecosystem"}},[e._v("Créer un écosystème")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#installing-basic-applications"}},[e._v("Installer des applications de base")])]),e._v(" "),t("li",[t("a",{attrs:{href:"#token-issuance"}},[e._v("Émission de jetons")])])]),e._v(" "),t("h4",{attrs:{id:"create-ecosystem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-ecosystem"}},[e._v("#")]),e._v(" Créer un écosystème ")]),e._v(" "),t("p",[e._v("Créez un écosystème, appelez le contrat "),t("code",[e._v("@1NewEcosystem")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1NewEcosystem "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Test Ecosystem"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"block_id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1787")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"384f35ef93243c9dd4f53b9298873b356b25b31cf7c6a6be7600ee7694d77006"')]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"penalty"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"err"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"21"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v('Ensuite, nous modifions la configuration de l\'outil en ligne de commande pour se connecter à cet écosystème nouvellement créé : "21".')]),e._v(" "),t("h4",{attrs:{id:"installing-basic-applications"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installing-basic-applications"}},[e._v("#")]),e._v(" Installation des applications de base ")]),e._v(" "),t("p",[e._v("Appelez le contrat pour installer l'application de base, comme suit :")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1PlatformAppsInstall\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1RolesInstall\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1AppInstall "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ApplicationId"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("4")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1AppInstall "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ApplicationId"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Ligne 1, installez l'application de plateforme ;")]),e._v(" "),t("p",[e._v("Ligne 2, installez le rôle par défaut ;")]),e._v(" "),t("p",[e._v("Ligne 3-4, installez l'application de configuration écologique et d'émission de jetons, où l'ID de l'application "),t("code",[e._v("5,6")]),e._v(" peut être consulté via getList comme suit :")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("getList @1applications "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-w")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$or")]),e._v('"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Token emission"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Ecosystems catalog"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-c")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name,ecosystem"')]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"count"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"list"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"5"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Token emission"')]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(",\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"6"')]),e._v(",\n            "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Ecosystems catalog"')]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h4",{attrs:{id:"token-issuance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#token-issuance"}},[e._v("#")]),e._v(" Émission de jetons ")]),e._v(" "),t("p",[e._v("Parce qu'il s'agit d'un nouvel écosystème, vous devez configurer l'émission de jetons, appelez le contrat "),t("code",[e._v("@1TeSettings")]),e._v(" pour spécifier les rôles pouvant émettre des jetons.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1TeSettings "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"RoleDeveloper"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Où "),t("code",[e._v("RoleDeveloper")]),e._v(" est l'identifiant actuel du rôle écologique, qui peut être obtenu via la table de données "),t("code",[e._v("@1roles")]),e._v(".")]),e._v(" "),t("p",[t("strong",[e._v("Émission de jetons")]),e._v(" Appeler le contrat "),t("code",[e._v("@1NewToken")]),e._v(" pour émettre des jetons.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1NewToken "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Symbol"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"TEST"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"TEST Coin"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Amount"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"10000000000000000"')]),e._v(" ,"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Digits"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"12"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Où les paramètres du contrat "),t("code",[e._v("Symbol")]),e._v(" sont le symbole du jeton, "),t("code",[e._v("Name")]),e._v(" est le nom du jeton, "),t("code",[e._v("Amount")]),e._v(" est le montant total et "),t("code",[e._v("Digits")]),e._v(" est la précision.")]),e._v(" "),t("p",[t("strong",[e._v("Émission de jetons")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1TeEmission "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Amount"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000000000000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[t("strong",[e._v("Détruire les jetons")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1TeBurn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Amount"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000000000000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Incrément de jeton par défaut et destruction de jeton sont autorisés, vous pouvez les désactiver en utilisant "),t("code",[e._v("@1TeChange")]),e._v(", où "),t("code",[e._v("TypeChange")]),e._v(" est le type ("),t("code",[e._v("emission")]),e._v(" pour l'incrément, "),t("code",[e._v("withdraw")]),e._v(" pour la destruction).")]),e._v(" "),t("p",[t("code",[e._v("Value")]),e._v(" est l'état activé/désactivé ("),t("code",[e._v("1")]),e._v(" activé, "),t("code",[e._v("2")]),e._v(" désactivé), par exemple:\n"),t("strong",[e._v("Ajouts fermés")]),e._v(".")]),e._v(" "),t("p",[e._v("Note: Ne peut pas être activé après la fermeture.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1TeChange "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"TypeChange"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"emission"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[t("strong",[e._v("Désactiver la destruction")]),e._v(", si vous souhaitez réactiver la destruction, il suffit de définir la valeur de "),t("code",[e._v("Value")]),e._v(" sur "),t("code",[e._v("1")]),e._v(".")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1TeChange "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"TypeChange"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"withdraw"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h3",{attrs:{id:"eco-deduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eco-deduction"}},[e._v("#")]),e._v(" Déduction de l'écosystème ")]),e._v(" "),t("p",[e._v("Avant de mettre en place des déductions écologiques, vous devez comprendre le modèle de frais IBAX, qui peut être trouvé dans le "),t("a",{attrs:{href:"https://github.com/IBAX-io/whitepaper",target:"_blank",rel:"noopener noreferrer"}},[e._v("livre blanc"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("Nous commençons par définir l'adresse du portefeuille écologique, appelons le contrat "),t("code",[e._v("@1EditParameter")]),e._v(" et modifions les paramètres écologiques.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1EditParameter "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Id"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("334")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1273-2644-xxxx-5846-6598"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Où "),t("code",[e._v("Id")]),e._v(" est l'identifiant du paramètre "),t("code",[e._v("ecosystem_wallet")]),e._v(" de l'ecowallet, qui peut être interrogé comme suit :")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("getList @1parameters "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-w")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("22")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ecosystem_wallet"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("La valeur "),t("code",[e._v("Value")]),e._v(" est l'adresse de l'ecowallet qui sera liée, et le contrat génère les frais de gaz, qui sont payés par cette adresse. L'adresse doit avoir suffisamment de jetons dans l'écosystème actuel et doit être approuvée par l'adresse liée avant que la modification ne soit réussie.")]),e._v(" "),t("p",[e._v("Appeler le contrat "),t("code",[e._v("@1EcoFeeModeManage")]),e._v(" pour configurer la déduction multi-écologique, comme suit :")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1EcoFeeModeManage "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"FollowFuel"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.01")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"CombustionFlag"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"VmCostFlag"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"VmCostConversionRate"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("100")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"StorageConversionRate"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("100")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"StorageFlag"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ExpediteFlag"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Où les champs de paramètres du contrat sont définis comme suit :")]),e._v(" "),t("ul",[t("li",[e._v("Le paramètre "),t("code",[e._v("FollowFuel")]),e._v(" est un multiple du taux d'éco-suivi 1.")]),e._v(" "),t("li",[t("code",[e._v("CombustionFlag")]),e._v(" indique s'il faut activer la combustion des frais de gaz d'éco-échange, 1 - non, 2 - oui.")]),e._v(" "),t("li",[t("code",[e._v("CombustionPercent")]),e._v(" est le pourcentage de combustion, uniquement valable lorsque la combustion des frais de gaz est activée, prend des valeurs de 1 à 100, 0 lorsque ce n'est pas activé.")]),e._v(" "),t("li",[t("code",[e._v("VmCostFlag")]),e._v(" est le drapeau des coûts de VM, définissant le paiement direct ou par procuration, 1 - paiement direct, 2 - paiement par procuration.")]),e._v(" "),t("li",[t("code",[e._v("StorageFlag")]),e._v(" est le drapeau des frais de stockage, définissant le paiement direct ou par procuration, 1 - paiement direct, 2 - paiement par procuration.")]),e._v(" "),t("li",[t("code",[e._v("ExpediteFlag")]),e._v(" est le drapeau des frais d'expédition accélérée, définissant le paiement direct ou par procuration, 1 - paiement direct, 2 - paiement par procuration.")]),e._v(" "),t("li",[t("code",[e._v("VmCostConversionRate")]),e._v(" est le taux de conversion des coûts de la machine virtuelle, avec 2 décimales, uniquement valable pour les paiements par procuration, supérieur à zéro.")]),e._v(" "),t("li",[t("code",[e._v("StorageConversionRate")]),e._v(" est le taux de conversion des coûts de stockage, avec 2 décimales, uniquement valable pour les paiements par procuration, supérieur à zéro.")])]),e._v(" "),t("p",[e._v("Si vous utilisez les paramètres ci-dessus, tous les frais de transaction encourus par les utilisateurs invoquant des contrats au sein de l'écosystème seront payés par le portefeuille écologique de la configuration écologique actuelle.")]),e._v(" "),t("p",[e._v("Tous les utilisateurs n'ont besoin de payer que les frais de gaz encourus au sein de l'écosystème. Bien sûr, vous pouvez ajuster les paramètres de coût selon vos besoins réels.")]),e._v(" "),t("h3",{attrs:{id:"dao-governance-ecosystem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dao-governance-ecosystem"}},[e._v("#")]),e._v(" Écosystème de gouvernance DAO ")]),e._v(" "),t("p",[e._v("Avant de modifier vers un écosystème de gouvernance DAO, vous devez vous assurer que l'écosystème actuel a émis des jetons, et après la modification vers un écosystème de gouvernance DAO, toutes les propositions de l'écosystème seront soumises au vote des membres du comité de gouvernance.")]),e._v(" "),t("p",[e._v("Le Conseil de gouvernance DAO n'est plus géré uniquement par les développeurs de l'écosystème, mais les 50 principaux représentants des détenteurs de l'écosystème sont élus.")]),e._v(" "),t("p",[e._v("Call the "),t("code",[e._v("@1EditControlMode")]),e._v(" contract to change the eco governance mode to DAO governance mode.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1EditControlMode "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("Où le paramètre "),t("code",[e._v("Value")]),e._v(" "),t("code",[e._v("1")]),e._v(" représente le modèle du créateur et "),t("code",[e._v("2")]),e._v(" représente le modèle de gouvernance DAO.")]),e._v(" "),t("p",[e._v("Nous pouvons essayer de créer une application.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("callContract @1NewApplication "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Name"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"testApp"')]),e._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Conditions"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ContractConditions('),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v("@1DeveloperCondition"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[e._v('\\"')]),e._v(')"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("À ce stade, une proposition de gouvernance DAO est générée et votée par le Conseil de gouvernance de la DAO avant la création de l'application. Une proposition valide nécessite un taux d'approbation de 68% sur 75% des votes exprimés.")]),e._v(" "),t("p",[e._v("Le champ d'application de la gouvernance DAO comprend :")]),e._v(" "),t("ol",[t("li",[e._v("Ajouter, supprimer et modifier des applications, des contrats, des pages, des extraits de code, des onglets, des menus, des paramètres d'application, des tables de données et des champs.")]),e._v(" "),t("li",[e._v("Modifier le multilingue.")]),e._v(" "),t("li",[e._v("Changer le modèle de DAO et de créateur.")]),e._v(" "),t("li",[e._v("Modifier les paramètres écologiques.")]),e._v(" "),t("li",[e._v("Rôle, assigner ou supprimer des membres de rôle.")]),e._v(" "),t("li",[e._v("Émettre une monnaie de destruction supplémentaire.")]),e._v(" "),t("li",[e._v("Modifier les paramètres de la plateforme.")]),e._v(" "),t("li",[e._v("Modifier les informations écologiques.")]),e._v(" "),t("li",[e._v("Modification des contrats différés.")]),e._v(" "),t("li",[e._v("Modifier le modèle de vote.")])]),e._v(" "),t("h2",{attrs:{id:"deploy-applications-using-application-packaging-tool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-applications-using-application-packaging-tool"}},[e._v("#")]),e._v(" Déployer des applications à l'aide d'un outil d'emballage d'applications ")]),e._v(" "),t("p",[e._v("Avant de commencer ce tutoriel, vous devez télécharger "),t("a",{attrs:{href:"https://github.com/IBAX-io/app-tool",target:"_blank",rel:"noopener noreferrer"}},[e._v("Outil de conditionnement d'application IBAX"),t("OutboundLink")],1),e._v(". Nous devons utiliser cet outil pour empaqueter l'application IBAX.")]),e._v(" "),t("p",[e._v("Nous devons stocker les fichiers de l'application selon la structure de répertoire suivante :")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("- APP Name\n    - app_params\n        params1.csv\n        params2.csv\n        ...\n    - contracts\n        contract1.sim\n        contract2.sim\n        ...\n    - tables\n        tableName1.json\n        tableName2.json\n        ...\n    config.json\n")])])]),t("p",[e._v("Comme indiqué ci-dessous:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("airdrop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" *\nconfig.json\n\napp_params:\ndedicated_account.csv  lock_percent.csv  per_period_sec.csv  period_count.csv\n\ncontracts:\nAddAirdrop.sim  ClaimAirdrop.sim  SpeedAirdrop.sim\n\ntables:\nairdrop_info.json\n")])])]),t("p",[e._v("Le répertoire "),t("code",[e._v("app_params")]),e._v(" stocke le fichier des paramètres de l'application, nommé en utilisant le nom du paramètre + le format de fichier "),t("code",[e._v(".csv")]),e._v(", le contenu du fichier étant la valeur du paramètre.")]),e._v(" "),t("p",[e._v("Le répertoire "),t("code",[e._v("contracts")]),e._v(" contient les contrats, au format de fichier "),t("code",[e._v(".sim")]),e._v(", et le contenu du fichier est le code source du contrat.")]),e._v(" "),t("p",[e._v("Le répertoire "),t("code",[e._v("tables")]),e._v(" contient la structure de la table de données de l'application au format de fichier "),t("code",[e._v("json")]),e._v(", comme suit:")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"account"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"conditions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"{\\"read\\": \\"true\\", \\"update\\": \\"ContractConditions(\\"MainCondition\\")\\"}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"varchar"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"balance_amount"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"conditions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"money"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"stake_amount"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"conditions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"money"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"surplus"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"conditions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"total_amount"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"conditions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"money"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),t("p",[t("code",[e._v("name")]),e._v(" est le nom du champ du tableau de données, "),t("code",[e._v("conditions")]),e._v(" est la permission du champ du tableau de données, et "),t("code",[e._v("type")]),e._v(" est le type de champ.")]),e._v(" "),t("p",[e._v("À l'étape 1, nous générons un fichier config.json et le sauvegardons dans le répertoire airdrop avec le contenu suivant :")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n    "name": "Airdrop",\n    "conditions": "ContractConditions(\\"@1MainCondition\\")"\n}\n')])])]),t("p",[e._v("Là où "),t("code",[e._v("name")]),e._v(" est le nom de l'application, "),t("code",[e._v("conditions")]),e._v(" : est l'autorisation de modifier l'application, puis l'enregistrer dans le répertoire airdrop.")]),e._v(" "),t("p",[e._v("Étape 2, empaquetez l'application, la commande suivante générera l'application "),t("code",[e._v("airdrop.json")]),e._v(" dans le répertoire actuel. Si vous modifiez le contrat ou les paramètres de l'application, vous devez reconditionner l'application.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ ./app-tool airdrop/\n")])])]),t("p",[e._v("Nous pouvons importer l'application via l'outil en ligne de commande "),t("a",{attrs:{href:"https://github.com/IBAX-io/ibax-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("command line tool"),t("OutboundLink")],1),e._v(" comme suit :")]),e._v(" "),t("p",[e._v("Utilisez la commande "),t("code",[e._v("import")]),e._v(" pour importer une application, avec le paramètre "),t("code",[e._v("-f")]),e._v(" pour spécifier le fichier d'application à importer.")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ ibax-cli console\n\nWelcome to the IBAX console"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("\nTo exit, press ctrl-d or "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("type")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("import "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" ./airdrop.json\n")])])]),t("p",[e._v("Bien sûr, si vous avez une application, vous pouvez également générer la structure complète du répertoire avec la commande suivante:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ app-tool.exe airdrop.json\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);