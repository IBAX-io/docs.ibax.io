(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{329:function(e,s,t){"use strict";t.r(s);var r=t(14),o=Object(r.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"synchronized-monitoring-tool"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#synchronized-monitoring-tool"}},[e._v("#")]),e._v(" Outil de surveillance synchronisée ")]),e._v(" "),s("p",[e._v("Desync_monitor est un outil spécial qui peut être utilisé pour vérifier si la base de données sur le nœud spécifié a été synchronisée.")]),e._v(" "),s("p",[e._v("L'outil peut être utilisé comme un démon ou peut être lancé pour effectuer une vérification ponctuelle.")]),e._v(" "),s("p",[e._v("Le principe de fonctionnement de l'outil est basé sur ce qui suit :")]),e._v(" "),s("ol",[s("li",[e._v("Chaque bloc contient le hachage de toutes les modifications de toutes les transactions, demandez au nœud spécifié de fournir son dernier ID de bloc ;")]),e._v(" "),s("li",[e._v("Ensuite, demandez un bloc avec cet ID à tous les nœuds et comparez les hachages ci-dessus ;")]),e._v(" "),s("li",[e._v("Si les hachages sont différents, un message d'erreur de synchronisation sera envoyé à l'adresse e-mail spécifiée dans la commande.")])]),e._v(" "),s("h2",{attrs:{id:"location"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#location"}},[e._v("#")]),e._v(" Emplacement ")]),e._v(" "),s("p",[e._v("L'outil est situé dans le répertoire "),s("code",[e._v("tools/desync_monitor/")]),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"command-prompt-flags"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#command-prompt-flags"}},[e._v("#")]),e._v(" Drapeaux de la ligne de commande ")]),e._v(" "),s("p",[e._v("Les drapeaux suivants peuvent être utilisés depuis l'invite de commande :")]),e._v(" "),s("blockquote",[s("ul",[s("li",[s("strong",[e._v("confPath")]),e._v(" -- Chemin du fichier de configuration. Le nom de fichier par défaut est "),s("code",[e._v("config.toml")]),e._v(";")]),e._v(" "),s("li",[s("strong",[e._v("nodesList")]),e._v(" -- Liste des nœuds du bloc demandé, séparés par des virgules. La valeur par défaut est "),s("code",[e._v("127.0.0.1:7079")]),e._v(";")]),e._v(" "),s("li",[s("strong",[e._v("daemonMode")]),e._v(" -- Démarré en tant que démon et doit être utilisé lorsque l'authentification est requise toutes les N secondes. Ce drapeau est par défaut défini sur "),s("code",[e._v("false")]),e._v(";")]),e._v(" "),s("li",[s("strong",[e._v("queryingPeriod")]),e._v(" -- Si l'outil est démarré en tant que démon, ce paramètre définit l'intervalle de temps (en secondes) entre les vérifications, "),s("code",[e._v("1")]),e._v(" seconde par défaut.")])])]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("alertMessageTo")]),e._v(" -- L'adresse e-mail à laquelle les erreurs de synchronisation seront envoyées.")]),e._v(" "),s("blockquote",[s("ul",[s("li",[s("strong",[e._v("alertMessageSubj")]),e._v(" -- Sujet du message dans le message d'avertissement, le problème de "),s("code",[e._v("synchronisation du nœud")]),e._v(" par défaut;")]),e._v(" "),s("li",[s("strong",[e._v("alertMessageFrom")]),e._v(" -- Adresse à partir de laquelle le message a été envoyé.")]),e._v(" "),s("li",[s("strong",[e._v("smtpHost")]),e._v(" -- Hôte du serveur SMTP utilisé pour envoyer des e-mails, "),s("code",[e._v('""')]),e._v(" par défaut;")]),e._v(" "),s("li",[s("strong",[e._v("smtpPort")]),e._v(" -- Port du serveur SMTP utilisé pour envoyer des messages électroniques, "),s("code",[e._v("25")]),e._v(" par défaut;")]),e._v(" "),s("li",[s("strong",[e._v("smtpUsername")]),e._v(" -- Nom d'utilisateur du serveur SMTP, "),s("code",[e._v('""')]),e._v(" par défaut;")]),e._v(" "),s("li",[s("strong",[e._v("smtpPassword")]),e._v(" -- Mot de passe du serveur SMTP, "),s("code",[e._v('""')]),e._v(" par défaut.")])])])])]),e._v(" "),s("h2",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration ")]),e._v(" "),s("p",[e._v("L'outil utilise un fichier de configuration au format toml.")]),e._v(" "),s("p",[e._v("Par défaut, il recherchera le fichier config.toml dans le dossier où démarrer le fichier binaire.")]),e._v(" "),s("p",[e._v("Le chemin du fichier peut être modifié avec "),s("strong",[e._v("configPath")]),e._v(".")]),e._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('nodes_list = ["http://127.0.0.1:7079", "http://127.0.0.1:7002"]\n\n[daemon]\ndaemon = false\nquerying_period = 1\n\n[alert_message]\nto = ""\nsubject = "problem with xxx nodes"\nfrom = ""\n\n[smtp]\nhost = ""\nport = 25\nusername = ""\npassword = ""\n')])])]),s("h3",{attrs:{id:"nodes-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodes-list"}},[e._v("#")]),e._v(" nodes_list ")]),e._v(" "),s("ul",[s("li",[e._v("nodes_list - Liste des nœuds (hôtes) demandant des informations.")])]),e._v(" "),s("h3",{attrs:{id:"daemon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#daemon"}},[e._v("#")]),e._v(" [daemon] ")]),e._v(" "),s("p",[e._v("Configuration du mode démon.")]),e._v(" "),s("blockquote",[s("ul",[s("li",[s("strong",[e._v("daemon_mode")]),e._v(" -- Un outil fonctionne comme un démon et effectue des vérifications de synchronisation.")]),e._v(" "),s("li",[s("strong",[e._v("querying_period")]),e._v(" -- Intervalle de temps entre les vérifications de synchronisation.")])])]),e._v(" "),s("h3",{attrs:{id:"alert-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alert-message"}},[e._v("#")]),e._v(" [alert_message] ")]),e._v(" "),s("p",[e._v("Paramètres du message d'avertissement.")]),e._v(" "),s("blockquote",[s("ul",[s("li",[s("strong",[e._v("to")]),e._v(" -- Destinataire des messages d'avertissement d'erreur de synchronisation ;")]),e._v(" "),s("li",[s("strong",[e._v("subject")]),e._v(" -- sujet du message;")]),e._v(" "),s("li",[s("strong",[e._v("from")]),e._v(" -- e-mail de l'expéditeur.")])])]),e._v(" "),s("h3",{attrs:{id:"smtp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smtp"}},[e._v("#")]),e._v(" [smtp] ")]),e._v(" "),s("p",[e._v("Paramètres du serveur de protocole de transfert de courrier simple (SMTP), utilisés pour envoyer des messages d'erreur de synchronisation.")]),e._v(" "),s("blockquote",[s("ul",[s("li",[s("strong",[e._v("host")]),e._v(" -- Serveur SMTP hébergé;")]),e._v(" "),s("li",[s("strong",[e._v("port")]),e._v(" -- Port du serveur SMTP;")]),e._v(" "),s("li",[s("strong",[e._v("username")]),e._v(" -- Nom d'utilisateur du serveur SMTP;")]),e._v(" "),s("li",[s("strong",[e._v("password")]),e._v(" -- Mot de passe du serveur SMTP;")])])])])}),[],!1,null,null,null);s.default=o.exports}}]);