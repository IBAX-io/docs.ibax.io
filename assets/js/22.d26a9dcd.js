(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{294:function(e,n,r){"use strict";r.r(n);var t=r(14),a=Object(t.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"synchronized-monitoring-tool"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#synchronized-monitoring-tool"}},[e._v("#")]),e._v(" Synchronisiertes Überwachungstool ")]),e._v(" "),n("p",[e._v("Desync_monitor ist ein spezielles Tool, mit dem überprüft werden kann, ob die Datenbank auf dem angegebenen Knoten synchronisiert wurde.")]),e._v(" "),n("p",[e._v("Das Tool kann als Daemon verwendet oder für eine einmalige Überprüfung gestartet werden.")]),e._v(" "),n("p",[e._v("Das Funktionsprinzip des Tools basiert auf Folgendem:")]),e._v(" "),n("p",[e._v("1.Jeder Block enthält den Hash aller Änderungen aller Transaktionen, fordern Sie den angegebenen Knoten auf, seine letzte Block-ID bereitzustellen;\n2. Fordern Sie dann einen Block mit dieser ID von allen Knoten an und vergleichen Sie die obigen Hashes;\n3.Wenn die Hashes unterschiedlich sind, wird eine Synchronisierungsfehlermeldung an die im Befehl angegebene E-Mail-Adresse gesendet.")]),e._v(" "),n("h2",{attrs:{id:"location"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#location"}},[e._v("#")]),e._v(" Standort ")]),e._v(" "),n("p",[e._v("Das Tool befindet sich im Verzeichnis "),n("code",[e._v("tools/desync_monitor/")]),e._v(".")]),e._v(" "),n("h1",{attrs:{id:"command-prompt-flags"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#command-prompt-flags"}},[e._v("#")]),e._v(" Befehlszeilen-Flags ")]),e._v(" "),n("p",[e._v("Die folgenden Flags können von der Eingabeaufforderung aus verwendet werden:")]),e._v(" "),n("ul",[n("li",[e._v("confPath - Pfad der Konfigurationsdatei. Der Standarddateiname ist "),n("code",[e._v("config.toml")]),e._v(";")]),e._v(" "),n("li",[e._v("nodesList - Knotenliste des angeforderten Blocks, getrennt durch Kommas. Der Standardwert ist "),n("code",[e._v("127.0.0.1:7079")]),e._v(";")]),e._v(" "),n("li",[e._v("daemonMode - Wird als Daemon gestartet und sollte verwendet werden, wenn alle N Sekunden eine Authentifizierung erforderlich ist. Dieses Flag ist standardmäßig auf "),n("code",[e._v("false")]),e._v(" gesetzt;")]),e._v(" "),n("li",[e._v('queryingPeriod - Wenn das Tool als Daemon gestartet wird, legt dieser Parameter das Zeitintervall (in Sekunden) zwischen den Prüfungen fest, standardmäßig "'),n("code",[e._v("1")]),e._v(" Sekunde.")]),e._v(" "),n("li",[e._v("alertMessageTo – Die E-Mail-Adresse, an die Synchronisierungswarnfehler gesendet werden.\n"),n("ul",[n("li",[e._v("alertMessageSubj - Betreff der Nachricht in der Warnmeldung, standardmäßig das Problem der "),n("code",[e._v("node synchronization")]),e._v(";")]),e._v(" "),n("li",[e._v("alertMessageFrom - Adresse, an die die Nachricht gesendet wurde.")]),e._v(" "),n("li",[e._v("smtpHost - SMTP-Server-Host, der zum Senden von E-Mails verwendet wird, standardmäßig "),n("code",[e._v('""')]),e._v(";")]),e._v(" "),n("li",[e._v("smtpPort - SMTP-Serverport, der zum Senden von E-Mail-Nachrichten verwendet wird, standardmäßig "),n("code",[e._v("25")]),e._v(";")]),e._v(" "),n("li",[e._v("smtpUsername - Benutzername des SMTP-Servers, standardmäßig "),n("code",[e._v('""')]),e._v(";")]),e._v(" "),n("li",[e._v("smtpPassword - SMTP-Serverpasswort, standardmäßig "),n("code",[e._v('""')]),e._v(".")])])])]),e._v(" "),n("h2",{attrs:{id:"configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Aufbau ")]),e._v(" "),n("p",[e._v("Das Tool verwendet eine Konfigurationsdatei im toml-Format.")]),e._v(" "),n("p",[e._v("Standardmäßig sucht es nach der Datei config.toml in dem Ordner, in dem die Binärdatei gestartet werden soll.")]),e._v(" "),n("p",[e._v("Der Dateipfad kann mit dem Flag configPath geändert werden.")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('nodes_list = ["http://127.0.0.1:7079", "http://127.0.0.1:7002"]\n\n[daemon]\ndaemon = false\nquerying_period = 1\n\n[alert_message]\nto = ""\nsubject = "problem with xxx nodes"\nfrom = ""\n\n[smtp]\nhost = ""\nport = 25\nusername = ""\npassword = ""\n')])])]),n("h3",{attrs:{id:"nodes-list"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nodes-list"}},[e._v("#")]),e._v(" nodes_list ")]),e._v(" "),n("ul",[n("li",[e._v("nodes_list - Liste der Knoten (Hosts), die Informationen anfordern.")])]),e._v(" "),n("h3",{attrs:{id:"daemon"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#daemon"}},[e._v("#")]),e._v(" [daemon] ")]),e._v(" "),n("p",[e._v("Konfiguration des Daemon-Modus.")]),e._v(" "),n("ul",[n("li",[e._v("daemon_mode – Ein Tool arbeitet als Daemon und führt Synchronisationsprüfungen durch.")]),e._v(" "),n("li",[e._v("querying_period - Zeitintervall zwischen Synchronisationsprüfungen.")])]),e._v(" "),n("h3",{attrs:{id:"alert-message"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#alert-message"}},[e._v("#")]),e._v(" [alert_message] ")]),e._v(" "),n("p",[e._v("Warnmeldungsparameter.")]),e._v(" "),n("ul",[n("li",[e._v("an - E-Mail-Adresse des Empfängers von Synchronisierungsfehler-Warnmeldungen;")]),e._v(" "),n("li",[e._v("Betreff - Betreff der Nachricht;")]),e._v(" "),n("li",[e._v("von - E-Mail des Absenders.")])]),e._v(" "),n("h3",{attrs:{id:"smtp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#smtp"}},[e._v("#")]),e._v(" [smtp] ")]),e._v(" "),n("p",[e._v("SMTP-Serverparameter (Simple Mail Transfer Protocol), die zum Senden von Synchronisierungsfehlermeldungen verwendet werden.")]),e._v(" "),n("ul",[n("li",[e._v("Host – SMTP-Serverschlauch;")]),e._v(" "),n("li",[e._v("port – SMTP-Server-Port;")]),e._v(" "),n("li",[e._v("Benutzername – Benutzername des SMTP-Servers;")]),e._v(" "),n("li",[e._v("Passwort – Passwort des SMTP-Servers;")])])])}),[],!1,null,null,null);n.default=a.exports}}]);