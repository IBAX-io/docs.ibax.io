<!DOCTYPE html>
<html lang="kr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IBAX 개발 튜토리얼  </a></li><li><a href="/kr/tutorials/tutorial.html" aria-current="page" class="active sidebar-link">IBAX 개발 튜토리얼  </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#getting-started-guide" class="sidebar-link">시작 가이드 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#deployment" class="sidebar-link">배포 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#advanced-guide" class="sidebar-link">고급 가이드 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#deploy-first-smart-contract-via-command-line-tool" class="sidebar-link">명령 줄 도구를 사용하여 첫 번째 스마트 계약 배포하기  </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#create-application" class="sidebar-link">애플리케이션 생성  </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#writing-contracts" class="sidebar-link">스마트 컨트랙트 작성 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#create-contract" class="sidebar-link">컨트랙트 생성 </a></li></ul></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#command-line-tool-eco-development" class="sidebar-link">명령줄 도구 에코 개발 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#step-1-create-ecosystem" class="sidebar-link">Step 1. 생태계 생성 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#step-2-create-application" class="sidebar-link">Step 2. 애플리케이션 만들기 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#step-3-create-table" class="sidebar-link">Step 3. 테이블 만들기 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#modify-data-table-field-permissions" class="sidebar-link">데이터 테이블 필드 권한 수정 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#step-4-create-application-parameters" class="sidebar-link">Step 4. 애플리케이션 매개 변수 생성하기 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#step-5-create-contract-deploy-contract" class="sidebar-link">Step 5. 계약 생성 및 배포 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#step-6-create-ecosystem-parameters" class="sidebar-link">Step 6. 생태 매개변수 생성 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#step-7-add-localization" class="sidebar-link">Step 7. 현지화 추가 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#step-8-modify-the-contract" class="sidebar-link">Step 8. 스마트 계약 수정 </a></li></ul></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#deploy-application-using-command-line-tools" class="sidebar-link">명령줄 도구를 사용하여 애플리케이션 배포 </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#export-application" class="sidebar-link">수출 신청 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#import-application" class="sidebar-link">수입 신청 </a></li></ul></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#ecosystem-configuration-using-command-line-tool" class="sidebar-link">생태 파라미터를 구성하기 위해 명령 줄 도구를 사용합니다. </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#apply-to-join-the-ecosystem" class="sidebar-link">생태계 가입 신청 (Apply to join the ecosystem) </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#add-ecosystem-members" class="sidebar-link">생태계 구성원 추가 (Add ecosystem members) </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#freezing-of-accounts" class="sidebar-link">계정 동결 (Freezing of accounts) </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#role-management" class="sidebar-link">역할 관리 (Role management) </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#issuance-of-token" class="sidebar-link">토큰 발행 (Issuance of Token) </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#eco-deduction" class="sidebar-link">생태계 공제 </a></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#dao-governance-ecosystem" class="sidebar-link">DAO 생태계 운영 </a></li></ul></li><li class="sidebar-sub-header"><a href="/kr/tutorials/tutorial.html#deploy-applications-using-application-packaging-tool" class="sidebar-link">명령 줄 도구를 사용하여 애플리케이션 배포하기 </a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ibax-development-tutorial"><a href="#ibax-development-tutorial" class="header-anchor">#</a> IBAX 개발 튜토리얼  </h1> <h2 id="getting-started-guide"><a href="#getting-started-guide" class="header-anchor">#</a> 시작 가이드 </h2> <ul><li><a href="#deploy-first-smart-contract-via-command-line-tool">명령 줄 도구를 사용하여 첫 번째 스마트 계약 배포하기</a></li> <li><a href="#command-line-tool-eco-development">명령 줄 도구 Eco 개발</a></li></ul> <h2 id="deployment"><a href="#deployment" class="header-anchor">#</a> 배포 </h2> <ul><li><a href="#deploy-application-using-command-line-tools">명령 줄 도구를 사용하여 애플리케이션 배포하기</a></li> <li><a href="#ecosystem-configuration-using-command-line-tool">명령 줄 도구를 사용하여 생태학적 구성하기</a></li></ul> <h2 id="advanced-guide"><a href="#advanced-guide" class="header-anchor">#</a> 고급 가이드 </h2> <ul><li><a href="#deploy-applications-using-application-packaging-tool">애플리케이션 패키징 도구를 사용하여 애플리케이션 배포하기</a></li></ul> <h2 id="deploy-first-smart-contract-via-command-line-tool"><a href="#deploy-first-smart-contract-via-command-line-tool" class="header-anchor">#</a> 명령 줄 도구를 사용하여 첫 번째 스마트 계약 배포하기  </h2> <p>우리는 <a href="https://github.com/IBAX-io/ibax-cli" target="_blank" rel="noopener noreferrer">명령 줄 도구<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 를 통해 IBAX 블록체인에 스마트 계약을 배포하고 스마트 계약을 호출하는 방법을 배우게 될 것입니다.
첫 번째 스마트 계약으로, <a href="/kr/concepts/blockchain-layers.html">로컬 테스트 네트워크</a> 에 배포했습니다. 로컬 네트워크 배포 방법은 <a href="/kr/howtos/deployment.html">네트워크 배포</a> 를 참조하시면 됩니다.
따라서 오버헤드 없이 원하는대로 배포하고 실행할 수 있습니다.</p> <h3 id="create-application"><a href="#create-application" class="header-anchor">#</a> 애플리케이션 생성  </h3> <p>애플리케이션을 생성하기 위해 contract @1NewApplication을 호출합니다. 이 contract에는 애플리케이션 이름 매개변수와 수정 권한 <a href="/kr/concepts/about-the-platform.html#access-rights-control-mechanism">매개변수</a> 가 있습니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>1  $ ibax-cli console
2    
3  Welcome to the IBAX console!
4  To exit, press ctrl-d or type exit
5  &gt;callContract @1NewApplication {&quot;Name&quot;: &quot;testapp&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;@1DeveloperCondition\&quot;)&quot;}
6  
7  {
8    &quot;block_id&quot;: 1217,
9    &quot;hash&quot;: &quot;6327161d2202c33c06d34ab4ed9b509c05fc2cbb15cf260c6d3d404a6f640028&quot;,
10   &quot;penalty&quot;: 0,
11   &quot;err&quot;: &quot;31&quot;
12 }
</code></pre></div><p>다음은 각 줄별로 설명되어 있습니다:</p> <ul><li>1행, 커맨드 라인 터미널 시작</li> <li>5행, contract @1NewApplication을 호출하여 애플리케이션 이름 <code>testapp</code>과 애플리케이션 수정 권한 <code>@1DeveloperCondition</code>과 함께 애플리케이션을 생성합니다.</li> <li>8행, 트랜잭션에 의해 생성된 블록 ID</li> <li>9행, 트랜잭션에 의해 생성된 블록 해시</li> <li>10행, 트랜잭션 실행 실패 시 (0: 벌금 없음, 1: 벌금 있음)</li> <li>11행, 트랜잭션 실행 실패 시 오류 텍스트 메시지를 반환하며, 블록 ID가 반환되면 err 필드는 애플리케이션 ID입니다.</li></ul> <p>물론 이 contract에서 사용 가능한 필드와 필드 유형을 확인하려면 <code>getContractInfo</code> 메서드를 호출하여 다음과 같은 contract 정보를 반환할 수 있습니다:</p> <div class="language-text extra-class"><pre class="language-text"><code>&gt;getContractInfo @1NewApplication

{
    &quot;id&quot;: 5022,
    &quot;state&quot;: 1,
    &quot;tableid&quot;: &quot;22&quot;,
    &quot;walletid&quot;: &quot;0&quot;,
    &quot;tokenid&quot;: &quot;1&quot;,
    &quot;address&quot;: &quot;0000-0000-0000-0000-0000&quot;,
    &quot;fields&quot;: [
        {
            &quot;name&quot;: &quot;Name&quot;,
            &quot;type&quot;: &quot;string&quot;,
            &quot;optional&quot;: false
        },
        {
            &quot;name&quot;: &quot;Conditions&quot;,
            &quot;type&quot;: &quot;string&quot;,
            &quot;optional&quot;: false
        },
        {
            &quot;name&quot;: &quot;VotingId&quot;,
            &quot;type&quot;: &quot;int&quot;,
            &quot;optional&quot;: true
        }
    ],
    &quot;name&quot;: &quot;@1NewApplication&quot;,
    &quot;app_id&quot;: 1,
    &quot;ecosystem&quot;: 1,
    &quot;conditions&quot;: &quot;ContractConditions(\&quot;@1DeveloperCondition\&quot;)&quot;
}
</code></pre></div><p><code>fields</code> 필드는 매개변수 <code>name</code>, <code>type</code>, <code>optional</code>,
<code>Name</code> 및 <code>Conditions</code>는 필수이고 <code>VotingId</code>는 선택 사항입니다. <a href="/kr/reference/api2.html#contract-name">contract/name</a> API 메서드를 참조하세요.</p> <h3 id="writing-contracts"><a href="#writing-contracts" class="header-anchor">#</a> 스마트 컨트랙트 작성 </h3> <p><a href="/kr/topics/script.html#needle-contract-language">Needle</a> 을 사용하여 스마트 컨트랙트를 작성합니다.
간단한 덧셈 연산을 구현합니다. 컨트랙트의 소스 코드는 다음과 같으며, 컨트랙트를 <code>SumMath.sim</code>으로 저장합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>1    contract SumMath {
2        data {
3            A int
4            B int
5        }
6        conditions {
7    
8        }
9        action {
10            var sum int
11            sum = $A + $B
12            $result = sum
13        }
14    }
</code></pre></div><p>다음은 각 줄에 대한 설명입니다:</p> <ul><li>1번째 줄에서 SumMath라는 이름의 컨트랙트를 정의합니다.</li> <li>2번째 줄은 <a href="/kr/topics/script.html#data-section">데이터 섹션</a> 입니다.</li> <li>3-4번째 줄에서는 두 개의 64비트 정수형 입력 매개변수 <code>A B</code>를 정의합니다.</li> <li>6번째 줄은 <a href="/kr/topics/script.html#conditions-section">조건 섹션</a> 입니다.</li> <li>9번째 줄은 <a href="/kr/topics/script.html#action-section">연산 섹션</a> 입니다. 우리는 변수 sum을 정의하여 A+B의 결과를 받습니다.
sum의 값을 $result에 할당하여 컨트랙트의 결과로 설정합니다. 물론 A+B의 값을 $result에 직접 할당하는 것도 가능하지만, 이는 예시로 보여주기 위한 것입니다.</li></ul> <h3 id="create-contract"><a href="#create-contract" class="header-anchor">#</a> 컨트랙트 생성 </h3> <p>컨트랙트를 생성하는 방법은 두 가지가 있으며, 첫 번째 방법은 다음과 같습니다:
첫 번째 단계에서는 json 형식의 컨트랙트 매개변수 파일을 작성합니다.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ApplicationId&quot;</span><span class="token operator">:</span> <span class="token number">31</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;contract SumMath {\n    data {\n        A int\n        B int\n    }\n    conditions {\n\n    }\n    action {\n        var sum int\n        sum = $A + $B\n        $result = sum\n    }\n}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Conditions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ContractConditions(\&quot;@1DeveloperCondition\&quot;)&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>ApplicationId</code>은 어플리케이션 ID이고, <code>Value</code>는 컨트랙트 소스 코드이며, 특수 문자를 이스케이프 처리해야 합니다. <code>Conditions</code>은 컨트랙트 수정 권한입니다.</p> <p>이를 <code>SumMathParams.json</code>이라고 이름 지었습니다.</p> <p>두 번째 단계에서는 <code>@1NewContract</code>를 호출하여 컨트랙트를 생성합니다.</p> <div class="language- extra-class"><pre class="language-text"><code>1    &gt;callContract @1NewContract -f=./data/SumMathParams.json
2    {
3        &quot;block_id&quot;: 1238,
4        &quot;hash&quot;: &quot;f3fe7aff8a613c96299723b7e9af0682aa8cabe7becf67a485e2a77a974f58b6&quot;,
5        &quot;penalty&quot;: 0,
6        &quot;err&quot;: &quot;328&quot;
7    }
</code></pre></div><p>두 번째 방법:
저장된 컨트랙트 소스 파일을 컨트랙트 매개변수에 직접 전달합니다. 매개변수 형식은 <code>paramsName</code> + <code>-</code> + &quot;file&quot;, <code>paramsName-file</code> 형식입니다. 예시로는 다음과 같습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">1</span>    <span class="token operator">&gt;</span>callContract @1NewContract <span class="token punctuation">{</span><span class="token string">&quot;ApplicationId&quot;</span><span class="token builtin class-name">:</span> <span class="token number">31</span>, <span class="token string">&quot;Value-file&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;SumMath.sim&quot;</span>, <span class="token string">&quot;Conditions&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>    
<span class="token number">2</span>    <span class="token punctuation">{</span>
<span class="token number">3</span>        <span class="token string">&quot;block_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2055</span>,
<span class="token number">4</span>        <span class="token string">&quot;hash&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;cdf25060669cf7cba137278...26ca463fd5d458f3402a5f0137f693db&quot;</span>,
<span class="token number">5</span>        <span class="token string">&quot;penalty&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
<span class="token number">6</span>        <span class="token string">&quot;err&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;368&quot;</span>
<span class="token number">7</span>    <span class="token punctuation">}</span>
</code></pre></div><p>다음은 각 줄별로 설명되어 있습니다:</p> <ul><li>1번째 줄: 컨트랙트 @1NewContract를 호출하여 컨트랙트를 생성합니다. -f는 파일을 사용하여 컨트랙트 매개변수를 가져옵니다.</li> <li>3번째 줄: 트랜잭션에 의해 생성된 블록 ID입니다.</li> <li>4번째 줄: 트랜잭션에 의해 생성된 블록 해시입니다.</li> <li>5번째 줄: 트랜잭션 실행 실패 여부입니다 (0: 패널티 없음, 1: 패널티 있음).</li> <li>6번째 줄: 트랜잭션 실행 실패 시 오류 텍스트 메시지가 반환되며, 블록 ID가 반환되면 err 필드는 컨트랙트의 ID입니다.</li></ul> <p>이제 방금 배포한 컨트랙트를 호출해 보겠습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">1</span>  <span class="token operator">&gt;</span>callContract @5SumMath <span class="token punctuation">{</span><span class="token string">&quot;A&quot;</span>:1, <span class="token string">&quot;B&quot;</span>:2<span class="token punctuation">}</span>
<span class="token number">2</span>  
<span class="token number">3</span>  <span class="token punctuation">{</span>
<span class="token number">4</span>      <span class="token string">&quot;block_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1239</span>,
<span class="token number">5</span>      <span class="token string">&quot;hash&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;7fa09da0b9f65634119a910f9d91aaf4927208278efd62961499ef7e4f4c8c9c&quot;</span>,
<span class="token number">6</span>      <span class="token string">&quot;penalty&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
<span class="token number">7</span>      <span class="token string">&quot;err&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">8</span>  <span class="token punctuation">}</span>
</code></pre></div><p>호출이 완료되었고, 결과는 다음과 같습니다. 각 줄별로 설명하겠습니다:</p> <ul><li>첫 번째 줄은 컨트랙트를 호출합니다. 여기서는 생태계 ID가 5인 생태계에 컨트랙트를 배포합니다. 물론 현재 생태계 ID가 5인 경우, 동일한 생태계 내에서는 <code>callContract SumMath {&quot;A&quot;:1, &quot;B&quot;:2}</code>와 같은 방식으로 호출할 수도 있습니다.</li> <li>3번째 줄은 트랜잭션에 의해 생성된 블록 ID입니다.</li> <li>4번째 줄은 트랜잭션에 의해 생성된 블록 해시입니다.</li> <li>5번째 줄은 트랜잭션 실행 실패 여부입니다 (0: 패널티 없음, 1: 패널티 있음).</li> <li>6번째 줄은 트랜잭션 실행 실패 시 오류 텍스트 메시지가 반환되며, 블록 ID가 반환되면 err 필드는 컨트랙트의 결과입니다. 이 값은 <code>$result</code>의 값입니다.</li></ul> <h2 id="command-line-tool-eco-development"><a href="#command-line-tool-eco-development" class="header-anchor">#</a> 명령줄 도구 에코 개발 </h2> <p>이 튜토리얼에서는 다음을 배우게 됩니다:</p> <ol><li><a href="#step-1-create-ecosystem">생태계 생성</a></li> <li><a href="#step-2-create-application">애플리케이션 생성</a></li> <li><a href="#step-3-create-table">데이터 테이블 생성</a></li> <li><a href="#step-4-create-application-parameters">애플리케이션 매개변수 생성</a></li> <li><a href="#step-5-create-contract-deploy-contract">컨트랙트 생성 및 배포</a></li> <li><a href="#step-6-create-ecosystem-parameters">생태계 매개변수 생성</a></li> <li><a href="#step-7-add-localization">로컬라이제이션 추가</a></li> <li><a href="#step-8-modify-the-contract">컨트랙트 수정</a></li> <li><a href="#step-9-modify-data-table-permissions">데이터 테이블 권한 수정</a></li></ol> <p>IBAX 생태계와 애플리케이션의 작동 방식과 위치를 더욱 명확히 이해하기 위해, 간단한 마인드 맵으로 더 잘 이해할 수 있습니다:
<img src="/ibax-eco.png" alt="image"></p> <p>IBAX 네트워크는 많은 <a href="/kr/concepts/about-the-platform.html#ecolib">생태계</a> 를 가질 수 있음을 알 수 있습니다.
각 생태계는 여러 <a href="/kr/concepts/about-the-platform.html#applications">응용 프로그램</a> 을 가질 수 있습니다.
각 애플리케이션에는 <a href="/kr/concepts/thesaurus.html#smart-contract">계약</a> 이 있습니다.
<a href="/kr/concepts/about-the-platform.html#tables">테이블</a>.
생태학에는 생태적 매개변수가 있고 애플리케이션에는 애플리케이션 매개변수가 있습니다.</p> <h3 id="step-1-create-ecosystem"><a href="#step-1-create-ecosystem" class="header-anchor">#</a> Step 1. 생태계 생성 </h3> <p>우리는 <a href="https://github.com/IBAX-io/ibax-cli" target="_blank" rel="noopener noreferrer">command line tool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 을 사용하여 @1NewEcosystem 컨트랙트를 호출하여 생태계를 생성하는 것으로 시작합니다.
생태계 이름을 변경하려면 다음을 호출하세요.</p> <p><code>@1EditEcosystemName</code> contract.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">1</span>    $ ibax-cli console
<span class="token number">2</span>    
<span class="token number">3</span>    Welcome to the IBAX console<span class="token operator">!</span>
<span class="token number">4</span>    To exit, press ctrl-d or <span class="token builtin class-name">type</span> <span class="token builtin class-name">exit</span>
<span class="token number">5</span>    <span class="token operator">&gt;</span>callContract @1NewEcosystem <span class="token punctuation">{</span><span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;goodBoy school&quot;</span><span class="token punctuation">}</span>
<span class="token number">6</span>    
<span class="token number">7</span>    <span class="token punctuation">{</span>
<span class="token number">8</span>        <span class="token string">&quot;block_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1199</span>,
<span class="token number">9</span>        <span class="token string">&quot;hash&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;a1dc90c1772545c16394b9521...227676b27b145743556a8973dd&quot;</span>,
<span class="token number">10</span>       <span class="token string">&quot;penalty&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
<span class="token number">11</span>       <span class="token string">&quot;err&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;18&quot;</span>
<span class="token number">12</span>   <span class="token punctuation">}</span>
</code></pre></div><p>다음은 각 줄에 대한 설명입니다:</p> <ul><li>1번 줄은 명령 줄 콘솔 프로그램을 시작합니다.</li> <li>5번 줄에서 <code>@1NewEcosystem</code> 컨트랙트를 호출하여 테스트 생태계라는 이름으로 생태계를 생성합니다.</li> <li>8번 줄은 트랜잭션으로 생성된 블록 ID입니다.</li> <li>9번 줄은 트랜잭션으로 생성된 블록 해시입니다.</li> <li>10번 줄은 트랜잭션 실행이 실패한 경우(0: 벌금 없음, 1: 벌금 있음)입니다.</li> <li>11번 줄은 트랜잭션 실행이 실패한 경우 오류 텍스트 메시지가 반환되며, 블록 ID가 반환되면 err 필드는 생태계의 ID로 설정됩니다(<code>18</code>).</li></ul> <p>그런 다음 명령 도구의 <code>config.yml</code>을 구성하여 <code>ecosystem</code>을 생성된 ecid <code>18</code>로 설정하고 명령 줄 콘솔 프로그램을 다시 시작하십시오.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>exit
INFO<span class="token punctuation">[</span>0002<span class="token punctuation">]</span> Exit

$ <span class="token function">vim</span> data/config.yml

$ ibax-cli console

Welcome to the IBAX console<span class="token operator">!</span>
To exit, press ctrl-d or <span class="token builtin class-name">type</span> <span class="token builtin class-name">exit</span>
<span class="token operator">&gt;</span>
</code></pre></div><h3 id="step-2-create-application"><a href="#step-2-create-application" class="header-anchor">#</a> Step 2. 애플리케이션 만들기 </h3> <p>계약 <code>@1NewApplication</code>을 호출하여 애플리케이션 이름 매개변수와 수정 <a href="/kr/concepts/about-the-platform.html#access-rights-control-mechanism">권한 매개변수</a> 가 있는 애플리케이션을 생성합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>1  &gt;callContract @1NewApplication {&quot;Name&quot;: &quot;GradesRecorder&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;@1DeveloperCondition\&quot;)&quot;}
2  
3  {
4     &quot;block_id&quot;: 1246,
5     &quot;hash&quot;: &quot;85ab8953d26d0d1047fc610866115331babfaf88c80792d50b41826185c9f6f8&quot;,
6     &quot;penalty&quot;: 0,
7     &quot;err&quot;: &quot;47&quot;
8  }
</code></pre></div><p>만약 애플리케이션 권한을 수정해야 한다면 <code>EditApplication</code> 컨트랙트를 호출할 수 있습니다.</p> <p>다음은 각 라인에 대한 설명입니다:</p> <ul><li>1번 라인: <code>@1NewApplication</code> 컨트랙트를 호출하여 <code>GradesRecorder</code>라는 애플리케이션을 생성합니다. 애플리케이션 수정 권한은 개발자 권한인 <code>@1DeveloperCondition</code>입니다.</li> <li>4번 라인: 트랜잭션으로 생성된 블록 ID입니다.</li> <li>5번 라인: 트랜잭션으로 생성된 블록 해시입니다.</li> <li>6번 라인: 트랜잭션 실행 실패 여부입니다 (0: 벌금 없음, 1: 벌금 있음).</li> <li>7번 라인: 트랜잭션 실행 실패 시 오류 메시지가 반환됩니다. 블록 ID가 반환되면, err 필드에는 애플리케이션의 ID인 <code>47</code>이 포함됩니다.</li></ul> <p>학생들의 성적을 기록하는 간단한 애플리케이션 예시를 작성해보겠습니다.
데이터 테이블 필드에는 학생 정보, 학년 <code>grade</code>, 반 <code>class</code>, 과목별 성적 <code>mathematics, physics, literature</code>, 종합 점수 <code>overall_score</code>, 평가 <code>score</code>, 생성 타임스탬프 (밀리초) <code>created_at</code>이 포함됩니다.</p> <h3 id="step-3-create-table"><a href="#step-3-create-table" class="header-anchor">#</a> Step 3. 테이블 만들기 </h3> <p>첫 번째 단계에서는 계약 매개변수 파일을 json 형식으로 작성합니다.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ApplicationId&quot;</span><span class="token operator">:</span> <span class="token number">47</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;grade_info&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ColumnsArr&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;student&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;grade&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;mathematics&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;physics&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;literature&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;overall_score&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;score&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;created_at&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;TypesArr&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;varchar&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;varchar&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;InsertPerm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;UpdatePerm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ReadPerm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;NewColumnPerm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>ApplicationId</code>는 애플리케이션 ID이고, <code>Name</code>은 생성된 데이터 테이블인 <code>test_table</code>의 이름입니다.
<code>ColumnsArr</code>는 데이터 테이블 필드의 배열이고, <code>TypesArr</code>는 데이터 테이블 필드의 타입을 나타냅니다. 이는 9가지 <a href="/kr/concepts/about-the-platform.html#tables">타입</a> 중 하나입니다.
<code>varchar</code>, <code>character</code>, <code>json</code>, <code>number</code>, <code>datetime</code>, <code>double</code>, <code>money</code>, <code>text</code>, <code>bytea</code>입니다. 필드 이름과 필드 타입은 일대일 대응입니다.
<code>InsertPerm</code>은 데이터 테이블의 새로운 항목 추가 권한을 나타내며, <code>UpdatePerm</code>은 데이터 테이블의 항목 수정 권한을 나타냅니다. <code>ReadPerm</code>은 데이터 테이블의 데이터 읽기 권한을 나타내며, <code>NewColumnPerm</code>은 데이터 테이블의 새로운 필드 추가 권한을 나타냅니다.
<a href="/kr/concepts/about-the-platform.html#access-rights-control-mechanism">권한 제어</a> 를 참조하면, 여기서는 현재 생태계 생성자에게 <code>ContractConditions(\&quot;MainCondition\&quot;)</code>을 사용할 수 있습니다.</p> <p>우리는 이를 createTable.json이라고 이름 지어주고, 그 후에 컨트랙트를 호출하여 데이터 테이블 <code>@1NewTableJoint</code>를 생성합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>&gt;callContract @1NewTableJoint -f ./createTestTable.json
</code></pre></div><h3 id="modify-data-table-field-permissions"><a href="#modify-data-table-field-permissions" class="header-anchor">#</a> 데이터 테이블 필드 권한 수정 </h3> <p>데이터 테이블 필드 권한을 수정할 수 있습니다. 데이터 테이블 필드 권한에는 읽기 권한과 업데이트 권한이 포함됩니다. 읽기 권한은 컨트랙트에서 <code>DBFind.Columns</code> 필터 필드 또는 <a href="/kr/reference/api2.html#list-name-limit-offset-columns">list</a> 쿼리와 같은 인터페이스를 사용하여 데이터를 조회할 때 사용되며, 권한이 없는 경우 권한 오류가 발생합니다. 업데이트 권한은 데이터 테이블 필드를 업데이트하는 권한입니다. <code>student</code> 필드의 읽기 및 업데이트 권한을 <code>false</code>로 설정하지만, 물론 일부 컨트랙트에서 조작할 수 있도록 설정할 수도 있습니다. <code>@1EditColumn</code> 컨트랙트를 호출하여 데이터 테이블 필드 권한을 수정합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1EditColumn <span class="token punctuation">{</span><span class="token string">&quot;TableName&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;grade_info&quot;</span>, <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;student&quot;</span>, <span class="token string">&quot;UpdatePerm&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;false&quot;</span>, <span class="token string">&quot;ReadPerm&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">}</span>
</code></pre></div><p>우리는 여러 개의 애플리케이션 매개 변수 <code>grade_best_type</code>, <code>grade_type_a+</code>, <code>grade_type_a</code>, <code>grade_type_b+</code>, <code>grade_type_b</code>, <code>grade_type_c</code>, 성적 등급 유형을 생성할 수 있습니다.</p> <h3 id="step-4-create-application-parameters"><a href="#step-4-create-application-parameters" class="header-anchor">#</a> Step 4. 애플리케이션 매개 변수 생성하기 </h3> <p><code>@1NewAppParam</code> 계약을 호출하여 애플리케이션 매개 변수를 생성합니다. 애플리케이션 매개 변수를 수정하려면 <code>@1EditAppParam</code> 계약을 호출할 수 있습니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>&gt;callContract @1NewAppParam {&quot;ApplicationId&quot;: 47, &quot;Name&quot;: &quot;grade_best_type&quot;, &quot;Value&quot;: &quot;A+&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;}
&gt;callContract @1NewAppParam {&quot;ApplicationId&quot;: 47, &quot;Name&quot;: &quot;grade_type_a+&quot;, &quot;Value&quot;: &quot;{\&quot;max\&quot;: 101,\&quot;min\&quot;: 90}&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;}
&gt;callContract @1NewAppParam {&quot;ApplicationId&quot;: 47, &quot;Name&quot;: &quot;grade_type_a&quot;, &quot;Value&quot;: &quot;{\&quot;max\&quot;: 90,\&quot;min\&quot;: 80}&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;}
&gt;callContract @1NewAppParam {&quot;ApplicationId&quot;: 47, &quot;Name&quot;: &quot;grade_type_b+&quot;, &quot;Value&quot;: &quot;{\&quot;max\&quot;: 80,\&quot;min\&quot;: 70}&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;}
&gt;callContract @1NewAppParam {&quot;ApplicationId&quot;: 47, &quot;Name&quot;: &quot;grade_type_b&quot;, &quot;Value&quot;: &quot;{\&quot;max\&quot;: 70,\&quot;min\&quot;: 60}&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;}
&gt;callContract @1NewAppParam {&quot;ApplicationId&quot;: 47, &quot;Name&quot;: &quot;grade_type_c&quot;, &quot;Value&quot;: &quot;{\&quot;max\&quot;: 60,\&quot;min\&quot;: 0}&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;}
</code></pre></div><p><code>grade_best_type</code>은 최상의 등급 유형입니다.
<code>grade_type_a+</code>은 등급이 <code>A+</code>인 조건을 트리거하는 등급 조건입니다. 점수가 90 이상 101 미만인 경우 등급은 <code>A+</code>이며, 다른 매개 변수들도 유사합니다.</p> <h3 id="step-5-create-contract-deploy-contract"><a href="#step-5-create-contract-deploy-contract" class="header-anchor">#</a> Step 5. 계약 생성 및 배포 </h3> <p>우리는 학생의 성적 정보와 각 과목에 대한 최종 평가를 기록하기 위한 계약을 생성하고, 정보를 입력할 때 각 과목의 학생의 성적 클래스와 등급을 입력합니다.
각 과목의 입력 점수를 기반으로 평균 계산을 수행하여 총점 <code>overallScore</code>과 최종 등급 <code>score</code>을 얻습니다.
계약이 호출되면 방금 생성한 데이터 테이블 <code>grade_info</code>에 레코드를 생성합니다.</p> <p>먼저 계약을 작성하고 <code>NewRecord.sim</code>으로 이름을 지정합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>1 contract NewRecord {
2       data {
3         Student string
4         Grade int
5         Class int
6         Mathematics int
7         Physics int
8         Literature int
9       }
10     func getScore(a b c int) map{
11          var m map
12          var overallScore int
13          overallScore = (a+b+c) / 3
14          m[&quot;overallScore&quot;] = overallScore
15          if overallScore &gt;= $gradeTypeABest[&quot;min&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeABest[&quot;max&quot;] {
16              m[&quot;score&quot;] = &quot;A+&quot;
17          }elif overallScore &gt;= $gradeTypeA[&quot;min&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeA[&quot;max&quot;] {
18              m[&quot;score&quot;] = &quot;A&quot;
19          }elif overallScore &gt;= $gradeTypeBBest[&quot;min&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeBBest[&quot;max&quot;] {
20              m[&quot;score&quot;] = &quot;B+&quot;
21          }elif overallScore &gt;= $gradeTypeB[&quot;min&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeB[&quot;max&quot;] {
22              m[&quot;score&quot;] = &quot;B&quot;
23          }elif overallScore &gt;= $gradeTypeC[&quot;min&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeC[&quot;max&quot;]{
24              m[&quot;score&quot;] = &quot;C&quot;
25          }else{
26              m[&quot;score&quot;] = &quot;Notset&quot;
27          }
28          return m
29      }
30      func safeJsonDecode(m string) map {
31          var res map
32          if Size(m) &gt; 0 {
33             res = JSONDecode(m)
34          }
35          return res
36      }
37
38      conditions {
39          if Size($Student) == 0 {
40            warning &quot;Student Can not be empty&quot;
41          }
42          if $Class &amp;lt;= 0{
43              warning &quot;Class cannot be less than or equal to zero&quot;
44          }
45          if $Grade &amp;lt;= 0{
46              warning &quot;Grade cannot be less than or equal to zero&quot;
47          }
48          if $Mathematics &amp;lt; 0 {
49              warning &quot;Mathematics cannot be less than zero&quot;
50          }
51          if $Physics &amp;lt; 0 {
52              warning &quot;Physics cannot be less than zero&quot;
53          }
54          if $Literature &amp;lt; 0 {
55              warning &quot;Literature cannot be less than zero&quot;
56          }
57          if $Mathematics &gt; 100 || $Physics &gt; 100 ||  $Literature &gt; 100{
58              warning &quot;Score cannot exceed 100&quot;
59          }
60          var app map
61          app = DBFind(&quot;@1applications&quot;).Columns(&quot;id,ecosystem&quot;).Where({&quot;ecosystem&quot;: 18,&quot;name&quot;:&quot;GradesRecorder&quot;,&quot;deleted&quot;:0}).Row()
62          if !app {
63              warning LangRes(&quot;@1app_not_found&quot;)
64          }
65
66          var app_id int
67          app_id = Int(app[&quot;id&quot;])
68          $eId = Int(app[&quot;ecosystem&quot;])
69          $gradeBestType = AppParam(app_id, &quot;grade_best_type&quot;, $eId)
70          $gradeTypeABest = safeJsonDecode(AppParam(app_id, &quot;grade_type_a+&quot;, $eId))
71          $gradeTypeA = safeJsonDecode(AppParam(app_id, &quot;grade_type_a&quot;, $eId))
72          $gradeTypeBBest = safeJsonDecode(AppParam(app_id, &quot;grade_type_b+&quot;, $eId))
73          $gradeTypeB = safeJsonDecode(AppParam(app_id, &quot;grade_type_b&quot;, $eId))
74          $gradeTypeC = safeJsonDecode(AppParam(app_id, &quot;grade_type_c&quot;, $eId))
75      }
76      action {
77          var m map
78          m = getScore($Mathematics,$Physics,$Literature)
79          var in map
80          in[&quot;student&quot;] = $Student
81          in[&quot;class&quot;] = $Class
82          in[&quot;grade&quot;] = $Grade
83          in[&quot;mathematics&quot;] = $Mathematics
84          in[&quot;physics&quot;] = $Physics
85          in[&quot;literature&quot;] = $Literature
86          in[&quot;overall_score&quot;] = m[&quot;overallScore&quot;]
87          in[&quot;score&quot;] = m[&quot;score&quot;]
88          in[&quot;created_at&quot;] = $time
89          DBInsert(&quot;@&quot;+ Str($eId)+&quot;grade_info&quot;, in)
90      }
91  }
</code></pre></div><p>다음은 라인별로 설명됩니다:</p> <ul><li>2번 라인, <a href="/kr/topics/script.html#data-section">데이터 섹션</a> 에서 입력 매개변수인 <code>Student</code> 학생 이름, <code>Grade</code> 학년, <code>Class</code> 학급, <code>Mathematics</code> 수학 점수, <code>Physics</code> 물리 점수, <code>Literature</code> 문학 점수를 정의합니다.</li> <li>10번 라인, getScore 함수는 각 과목의 점수를 기반으로 총점과 최종 등급을 생성합니다.</li> <li>30번 라인, safeJsonDecode 함수는 문자열을 json 디코딩하여 맵으로 변환합니다.</li> <li>38번 라인, <a href="/kr/topics/script.html#conditions-section">조건부 섹션</a></li> <li>39번 라인, <a href="/kr/topics/script.html#action-section">작업 섹션</a></li></ul> <p>계약이 호출되면 먼저 조건부 부분을 거쳐 계약의 입력 매개변수가 유효한지 확인합니다. 예를 들어 학생 이름 <code>$Student</code>이 비어 있는지 확인하는 부분 (39번 라인)과 그렇지 않으면 오류 메시지 <code>&quot;Student Can not be empty&quot;</code> (30번 라인)을 반환합니다.
모든 입력 매개변수가 확인되면 61번 라인에서 <a href="/kr/topics/script.html#dbfind">DBFind</a> 를 사용하여 ecid <code>18</code>과 애플리케이션 이름이 <code>GradesRecorder</code>인 애플리케이션의 데이터베이스에서 정보를 검색합니다. <code>deleted=0</code>인 애플리케이션 정보가 삭제되지 않은 경우입니다.
69번부터 74번 라인에서 <a href="/kr/topics/script.html#appparam">AppParam</a> 을 사용하여 애플리케이션 매개변수를 검색합니다. 예를 들어 <code>$gradeBestType = AppParam(app_id, &quot;grade_best_type&quot;, $eId)</code> (69번 라인)와 같이 사용합니다.
만약 애플리케이션 매개변수가 json 형식으로 저장된 경우, 예를 들어 <code>grade_type_a</code>라면, <code>$gradeTypeABest = safeJsonDecode(AppParam(app_id, &quot;grade_type_a+&quot;, $eId))</code>와 같이 사용하여 safeJsonDecode 함수를 통해 애플리케이션 매개변수를 맵 형식으로 가져올 수 있습니다.</p> <p>그런 다음 작업 부분으로 이동하여 getScore 함수를 호출하여 결과로 나온 총점과 최종 등급을 가져옵니다 (10번 라인). 맵을 사용하여 학생 성적 정보를 저장하기 위해 79번 라인에서 맵을 정의하고,
<a href="/kr/topics/script.html#dbinsert">DBInsert</a> 를 사용하여 데이터를 데이터 테이블 <code>@18grade_info</code>에 삽입합니다.</p> <p>계약을 생성하는 방법에는 두 가지가 있으며 그 중 첫 번째는 다음과 같습니다.
먼저 json 형식으로 계약 매개변수 파일을 작성합니다:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ApplicationId&quot;</span><span class="token operator">:</span> <span class="token number">47</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;contract NewRecord {\n    data {\n        Student string\n        Grade int\n        Class int\n        Mathematics int\n        Physics int\n        Literature int\n    }\n    func getScore(a b c int) map{\n        var m map\n        var overallScore int\n        overallScore = (a+b+c) / 3\n        m[\&quot;overallScore\&quot;] = overallScore\n        if overallScore &gt;= $gradeTypeABest[\&quot;min\&quot;] &amp;&amp; overallScore &lt; $gradeTypeABest[\&quot;max\&quot;] {\n            m[\&quot;score\&quot;] = \&quot;A+\&quot;\n        }elif overallScore &gt;= $gradeTypeA[\&quot;min\&quot;] &amp;&amp; overallScore &lt; $gradeTypeA[\&quot;max\&quot;] {\n            m[\&quot;score\&quot;] = \&quot;A\&quot;\n        }elif overallScore &gt;= $gradeTypeBBest[\&quot;min\&quot;] &amp;&amp; overallScore &lt; $gradeTypeBBest[\&quot;max\&quot;] {\n            m[\&quot;score\&quot;] = \&quot;B+\&quot;\n        }elif overallScore &gt;= $gradeTypeB[\&quot;min\&quot;] &amp;&amp; overallScore &lt; $gradeTypeB[\&quot;max\&quot;] {\n            m[\&quot;score\&quot;] = \&quot;B\&quot;\n        }elif overallScore &gt;= $gradeTypeC[\&quot;min\&quot;] &amp;&amp; overallScore &lt; $gradeTypeC[\&quot;max\&quot;]{\n            m[\&quot;score\&quot;] = \&quot;C\&quot;\n        }else{\n            m[\&quot;score\&quot;] = \&quot;Notset\&quot;\n        }\n        return m\n    }\n    func safeJsonDecode(m string) map {\n        var res map\n        if Size(m) &gt; 0 {\n            res = JSONDecode(m)\n        }\n        return res\n    }\n\n    conditions {\n        if Size($Student) == 0 {\n            warning \&quot;Student Can not be empty\&quot;\n        }\n        if $Class &lt;= 0{\n            warning \&quot;Class cannot be less than or equal to zero\&quot;\n        }\n         if $Grade &lt;= 0{\n            warning \&quot;Grade cannot be less than or equal to zero\&quot;\n        }\n        if $Mathematics &lt; 0 {\n            warning \&quot;Mathematics cannot be less than zero\&quot;\n        }\n        if $Physics &lt; 0 {\n            warning \&quot;Physics cannot be less than zero\&quot;\n        }\n        if $Literature &lt; 0 {\n            warning \&quot;Literature cannot be less than zero\&quot;\n        }\n        if $Mathematics &gt; 100 || $Physics &gt; 100 ||  $Literature &gt; 100{\n            warning \&quot;Score cannot exceed 100\&quot;\n        }\n        var app map\n        app = DBFind(\&quot;@1applications\&quot;).Columns(\&quot;id,ecosystem\&quot;).Where({\&quot;ecosystem\&quot;: 18,\&quot;name\&quot;:\&quot;GradesRecorder\&quot;,\&quot;deleted\&quot;:0}).Row()\n        if !app {\n            warning LangRes(\&quot;@1app_not_found\&quot;)\n        }\n\n        var app_id int\n        app_id = Int(app[\&quot;id\&quot;])\n        $eId = Int(app[\&quot;ecosystem\&quot;])\n        $gradeBestType = AppParam(app_id, \&quot;grade_best_type\&quot;, $eId)\n        $gradeTypeABest = safeJsonDecode(AppParam(app_id, \&quot;grade_type_a+\&quot;, $eId))\n        $gradeTypeA = safeJsonDecode(AppParam(app_id, \&quot;grade_type_a\&quot;, $eId))\n        $gradeTypeBBest = safeJsonDecode(AppParam(app_id, \&quot;grade_type_b+\&quot;, $eId))\n        $gradeTypeB = safeJsonDecode(AppParam(app_id, \&quot;grade_type_b\&quot;, $eId))\n        $gradeTypeC = safeJsonDecode(AppParam(app_id, \&quot;grade_type_c\&quot;, $eId))\n    }\n    action {\n        var m map \n        m = getScore($Mathematics,$Physics,$Literature)\n        var in map\n        in[\&quot;student\&quot;] = $Student\n        in[\&quot;class\&quot;] = $Class\n        in[\&quot;grade\&quot;] = $Grade\n        in[\&quot;mathematics\&quot;] = $Mathematics\n        in[\&quot;physics\&quot;] = $Physics \n        in[\&quot;literature\&quot;] = $Literature \n        in[\&quot;overall_score\&quot;] = m[\&quot;overallScore\&quot;]\n        in[\&quot;score\&quot;] = m[\&quot;score\&quot;]\n        in[\&quot;created_at\&quot;] = $time\n        DBInsert(\&quot;@\&quot;+ Str($eId)+\&quot;grade_info\&quot;, in)\n    }\n}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Conditions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ContractConditions(\&quot;@1DeveloperCondition\&quot;)&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>여기서 'ApplicationId'는 특수 문자에 대해 이스케이프해야 하는 애플리케이션 ID이고 'Conditions'는 계약 수정 권한입니다.
<code>NewRecordParams.json</code>으로 저장하는 <code>Value</code> 계약 소스 코드:</p> <p>계약을 작성한 후 CreateContract<code>@1NewContract</code>를 호출하여 계약을 배포해야 합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>1    &gt;&gt;callContract @1NewContract -f=./data/NewRecordParams.json
2    {
3        &quot;block_id&quot;: 1262,
4        &quot;hash&quot;: &quot;d896f12f685835f6cf71705e1ba...4d8bcc0a1406f7b0b6482b2d230fc&quot;,
5        &quot;penalty&quot;: 0,
6        &quot;err&quot;: &quot;348&quot;
7    }
</code></pre></div><p>다음은 행으로 설명됩니다.</p> <ul><li>1행: 컨트랙트 <code>@1NewContract</code>를 호출하여 컨트랙트를 생성하고, -f는 파일을 사용하여 방금 생성된 <code>NewRecord.json</code> 파일을 컨트랙트 매개변수로 가져옵니다.</li> <li>3행, 트랜잭션에 의해 생성된 블록 ID</li> <li>4행, 트랜잭션에 의해 생성된 블록 해시</li> <li>5행, 트랜잭션 실행 실패 시 (0: 페널티 없음 1: 페널티)</li> <li>6행에서 트랜잭션 실행이 실패하면 오류 문자 메시지가 리턴되고, 블록 ID가 리턴되면 컨트랙트의 id인 err 필드는 <code>348</code>입니다.</li></ul> <p>두 번째 방법:
저장된 계약 소스 파일은 다음과 같이 <code>paramsName</code> + <code>-</code> + &quot;file&quot;,<code>paramsName-file</code> 매개변수 형식으로 계약 매개변수에 직접 전달됩니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>callContract @1NewContract <span class="token punctuation">{</span><span class="token string">&quot;ApplicationId&quot;</span><span class="token builtin class-name">:</span> <span class="token number">47</span>, <span class="token string">&quot;Value-file&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;NewRecord.sim&quot;</span>, <span class="token string">&quot;Conditions&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ContractConditions(<span class="token entity" title="\&quot;">\&quot;</span>@1DeveloperCondition\ &quot;</span><span class="token punctuation">)</span>&quot;<span class="token punctuation">}</span>
</code></pre></div><p>방금 생성한 계약을 호출해 보겠습니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>1  &gt;callContract @18NewRecord {&quot;Student&quot;: &quot;tom&quot;, &quot;Grade&quot;: 1, &quot;Class&quot;: 1, &quot;Mathematics&quot;: 18, &quot;Physics&quot;: 57, &quot;Literature&quot;: 93}
2  
3  {
4     &quot;block_id&quot;: 1263,
5     &quot;hash&quot;: &quot;1b964a47fe6c5fd43ea55a752d01edb5ad576432fd6f63315344d87999a0473d&quot;,
6     &quot;penalty&quot;: 0,
7     &quot;err&quot;: &quot;&quot;
8  }
</code></pre></div><p>호출이 완료된 다음 데이터 테이블에 레코드가 저장되었는지 확인합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>&gt;getList @18grade_info
{
    &quot;count&quot;: 1,
    &quot;list&quot;: [
        {
            &quot;class&quot;: &quot;1&quot;,
            &quot;created_at&quot;: &quot;1683698914109&quot;,
            &quot;grade&quot;: &quot;1&quot;,
            &quot;id&quot;: &quot;9&quot;,
            &quot;literature&quot;: &quot;93&quot;,
            &quot;mathematics&quot;: &quot;18&quot;,
            &quot;overall_score&quot;: &quot;56&quot;,
            &quot;physics&quot;: &quot;57&quot;,
            &quot;score&quot;: &quot;C&quot;,
            &quot;student&quot;: &quot;tom&quot;
        }
    ]
}
</code></pre></div><p>전체 등급이 56이고 등급이 C인 <code>student</code> tom이라는 레코드가 데이터 테이블에 이미 있음을 알 수 있습니다.</p> <p>위의 예는 연구 및 연구 목적일 뿐이므로 데이터 테이블 쓰기 권한, 계약 수정 권한 등과 같은 실제 상황에 따라 관련 매개변수를 변경해야 합니다.</p> <p>예를 들어, 한 사람만 이 새 레코드 계약을 호출할 수 있고 다른 사람은 호출할 수 없도록 지정하려는 경우 생태학적 매개변수 <code>new_record_account</code>를 설정할 수 있습니다.</p> <h3 id="step-6-create-ecosystem-parameters"><a href="#step-6-create-ecosystem-parameters" class="header-anchor">#</a> Step 6. 생태 매개변수 생성 </h3> <p>계약 <code>@1NewParameter</code>를 호출하면 에코 매개변수가 생성됩니다.
<code>@1parameters</code> 테이블의 <code>new_record_account</code>, 에코 매개변수를 수정해야 하는 경우 <code>@1EditParameter</code>를 호출할 수 있습니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>&gt;callContract @1NewParameter {&quot;Name&quot;: &quot;new_record_account&quot;, &quot;Value&quot;: &quot;6667782293976713160&quot;, &quot;Conditions&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;}

{
    &quot;block_id&quot;: 1416,
    &quot;hash&quot;: &quot;12fc87ce6a70e2fc993ab9ffe623311f1c50edd1157595ce6183c38c93960cae&quot;,
    &quot;penalty&quot;: 0,
    &quot;err&quot;: &quot;273&quot;
}
</code></pre></div><p>우리는 생태 매개변수 <code>new_record_account</code>를 생성하고 값을 keyId <code>6667782293976713160</code>으로 설정하고 현재 생태 생성자가 수정할 수 있음을 의미하는<code>ContractConditions(&quot;MainCondition&quot;)</code>에 대한 권한을 수정합니다.
트랜잭션이 성공적으로 실행되면 &quot;err&quot; 필드의 생태 매개변수 id는 <code>273</code>입니다.</p> <h3 id="step-7-add-localization"><a href="#step-7-add-localization" class="header-anchor">#</a> Step 7. 현지화 추가 </h3> <p><code>@1NewLangJoint</code> 계약을 호출하여 <code>@1languages</code> 테이블에 매개변수를 생성하는 현지화 매개변수<code>account_not_access</code>를 생성하고 <code>@1EditLangJoint</code>를 통해 현지화 매개변수를 수정할 수 있습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>callContract @1NewLangJoint <span class="token punctuation">{</span><span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;account_not_access&quot;</span>, <span class="token string">&quot;LocaleArr&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;en&quot;</span>, <span class="token string">&quot;ja&quot;</span><span class="token punctuation">]</span>, <span class="token string">&quot;ValueArr&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Sorry, you do not have access to this action&quot;</span>, <span class="token string">&quot;申し訳ありませんが、このアクションにアクセスする権限がありません&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="step-8-modify-the-contract"><a href="#step-8-modify-the-contract" class="header-anchor">#</a> Step 8. 스마트 계약 수정 </h3> <p>다음으로 <code>conditions</code>에 다음 코드를 추가하여 계약 소스 코드의 <code>conditions</code> 섹션을 수정해야 합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>conditions {
  if EcosysParam(&quot;new_record_account&quot;) != $key_id {
      warning LangRes(&quot;account_not_access&quot;)
  }
}
</code></pre></div><p>계약 @1EditContract를 수정하기 위해 호출합니다. 여기서 <code>Id</code>는 계약 ID이고 <code>Value</code>:는 계약 소스 코드입니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>&gt;callContract @1EditContract {&quot;Id&quot;: 348, &quot;Value&quot;: &quot;contract NewRecord {\n    data {\n        Student string\n        Grade int\n        Class int\n        Mathematics int\n        Physics int\n        Literature int\n    }\n    func getScore(a b c int) map{\n        var m map\n        var overallScore int\n        overallScore = (a+b+c) / 3\n        m[\&quot;overallScore\&quot;] = overallScore\n        if overallScore &gt;= $gradeTypeABest[\&quot;min\&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeABest[\&quot;max\&quot;] {\n            m[\&quot;score\&quot;] = \&quot;A+\&quot;\n        }elif overallScore &gt;= $gradeTypeA[\&quot;min\&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeA[\&quot;max\&quot;] {\n            m[\&quot;score\&quot;] = \&quot;A\&quot;\n        }elif overallScore &gt;= $gradeTypeBBest[\&quot;min\&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeBBest[\&quot;max\&quot;] {\n            m[\&quot;score\&quot;] = \&quot;B+\&quot;\n        }elif overallScore &gt;= $gradeTypeB[\&quot;min\&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeB[\&quot;max\&quot;] {\n            m[\&quot;score\&quot;] = \&quot;B\&quot;\n        }elif overallScore &gt;= $gradeTypeC[\&quot;min\&quot;] &amp;amp;&amp;amp; overallScore &amp;lt; $gradeTypeC[\&quot;max\&quot;]{\n            m[\&quot;score\&quot;] = \&quot;C\&quot;\n        }else{\n            m[\&quot;score\&quot;] = \&quot;Notset\&quot;\n        }\n        return m\n    }\n    func safeJsonDecode(m string) map {\n        var res map\n        if Size(m) &gt; 0 {\n            res = JSONDecode(m)\n        }\n        return res\n    }\n\n    conditions {\n        if EcosysParam(\&quot;new_record_account\&quot;) != $key_id {\n            warning LangRes(\&quot;account_not_access\&quot;)\n        }\n        if Size($Student) == 0 {\n            warning \&quot;Student Can not be empty\&quot;\n        }\n        if $Class &amp;lt;= 0{\n            warning \&quot;Class cannot be less than or equal to zero\&quot;\n        }\n         if $Grade &amp;lt;= 0{\n            warning \&quot;Grade cannot be less than or equal to zero\&quot;\n        }\n        if $Mathematics &amp;lt; 0 {\n            warning \&quot;Mathematics cannot be less than zero\&quot;\n        }\n        if $Physics &amp;lt; 0 {\n            warning \&quot;Physics cannot be less than zero\&quot;\n        }\n        if $Literature &amp;lt; 0 {\n            warning \&quot;Literature cannot be less than zero\&quot;\n        }\n        if $Mathematics &gt; 100 || $Physics &gt; 100 ||  $Literature &gt; 100{\n            warning \&quot;Score cannot exceed 100\&quot;\n        }\n        var app map\n        app = DBFind(\&quot;@1applications\&quot;).Columns(\&quot;id,ecosystem\&quot;).Where({\&quot;ecosystem\&quot;: 18,\&quot;name\&quot;:\&quot;GradesRecorder\&quot;,\&quot;deleted\&quot;:0}).Row()\n        if !app {\n            warning LangRes(\&quot;@1app_not_found\&quot;)\n        }\n\n        var app_id int\n        app_id = Int(app[\&quot;id\&quot;])\n        $eId = Int(app[\&quot;ecosystem\&quot;])\n        $gradeBestType = AppParam(app_id, \&quot;grade_best_type\&quot;, $eId)\n        $gradeTypeABest = safeJsonDecode(AppParam(app_id, \&quot;grade_type_a+\&quot;, $eId))\n        $gradeTypeA = safeJsonDecode(AppParam(app_id, \&quot;grade_type_a\&quot;, $eId))\n        $gradeTypeBBest = safeJsonDecode(AppParam(app_id, \&quot;grade_type_b+\&quot;, $eId))\n        $gradeTypeB = safeJsonDecode(AppParam(app_id, \&quot;grade_type_b\&quot;, $eId))\n        $gradeTypeC = safeJsonDecode(AppParam(app_id, \&quot;grade_type_c\&quot;, $eId))\n    }\n    action {\n        var m map \n        m = getScore($Mathematics,$Physics,$Literature)\n        var in map\n        in[\&quot;student\&quot;] = $Student\n        in[\&quot;class\&quot;] = $Class\n        in[\&quot;grade\&quot;] = $Grade\n        in[\&quot;mathematics\&quot;] = $Mathematics\n        in[\&quot;physics\&quot;] = $Physics \n        in[\&quot;literature\&quot;] = $Literature \n        in[\&quot;overall_score\&quot;] = m[\&quot;overallScore\&quot;]\n        in[\&quot;score\&quot;] = m[\&quot;score\&quot;]\n        in[\&quot;created_at\&quot;] = $time\n        DBInsert(\&quot;@\&quot;+ Str($eId)+\&quot;grade_info\&quot;, in)\n    }\n}&quot;}
</code></pre></div><h4 id="step-9-modify-data-table-permissions"><a href="#step-9-modify-data-table-permissions" class="header-anchor">#</a> Step 9. 데이터 테이블 권한 수정 </h4> <p>여기서 데이터 테이블의 삽입 권한, ecreator에 대한 원래 권한 <code>ContractConditions(&quot;MainCondition&quot;)</code>, 계약 설정 <code>new_record_account</code>는 ecreator가 아닙니다.
따라서 <code>ContractConditions(&quot;MainCondition&quot;)</code>을 변경하여 계약이 <code>ContractAccess(&quot;@18NewRecord&quot;)</code>에서 작동할 수 있도록 지정하십시오.
계약 <code>@1EditTable</code>을 호출하여 데이터 테이블 권한을 수정하십시오.</p> <div class="language-text extra-class"><pre class="language-text"><code>&gt;callContract @1EditTable {&quot;Name&quot;: &quot;@18grade_info&quot;, &quot;InsertPerm&quot;: &quot;ContractAccess(\&quot;@18NewRecord\&quot;)&quot;, &quot;UpdatePerm&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;, &quot;ReadPerm&quot;: &quot;true&quot;, &quot;NewColumnPerm&quot;: &quot;ContractConditions(\&quot;MainCondition\&quot;)&quot;}
</code></pre></div><p>그런 다음 방금 수정한 계약을 호출하고 새 레코드를 만듭니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>1  &gt;callContract @18NewRecord {&quot;Student&quot;: &quot;tom&quot;, &quot;Grade&quot;: 1, &quot;Class&quot;: 1, &quot;Mathematics&quot;: 18, &quot;Physics&quot;: 57, &quot;Literature&quot;: 93}
2  
3  {
4      &quot;block_id&quot;: 1435,
5      &quot;hash&quot;: &quot;7d4b06d3738133f9c2ec775935478cd2d6c20fd04eca275769afd0f8e6a4f687&quot;,
6      &quot;penalty&quot;: 1,
7      &quot;err&quot;: &quot;{\&quot;type\&quot;:\&quot;warning\&quot;,\&quot;error\&quot;:\&quot;Sorry, you do not have access to this action\&quot;}&quot;
8  }
</code></pre></div><p>방금 설정한 현지화 매개변수<code>account_not_access</code>가 작동하는 것을 확인할 수 있습니다.</p> <p>권한 오류가 보고되고 현재 사용자에게 작업 권한이 없으며 keyId가 <code>6667782293976713160</code>인 계정으로 전환하고 명령줄 도구인 <code>account info</code>를 통해 현재 사용자의 정보를 얻을 수 있습니다.
명령줄 도구 config.yml을 설정하고 keyId가 '6667782293976713160'인 계정으로 전환합니다.
설정이 완료되면 컨트랙트를 다시 호출합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>&gt;callContract @18NewRecord {&quot;Student&quot;: &quot;tini&quot;, &quot;Grade&quot;: 1, &quot;Class&quot;: 3, &quot;Mathematics&quot;: 69, &quot;Physics&quot;: 89, &quot;Literature&quot;: 98}

{
    &quot;block_id&quot;: 1436,
    &quot;hash&quot;: &quot;93327dafb7bae9f9f66718eb87020a7bca4c00060f4bd0a243b49eea304c52e6&quot;,
    &quot;penalty&quot;: 0,
    &quot;err&quot;: &quot;&quot;
}
</code></pre></div><p>호출이 완료되고 <code>getList @18grade_info</code>를 통해 데이터 테이블을 쿼리하며 결과는 예상대로입니다.</p> <p>이 기사가 IBAX 네트워크 작동 방식과 명확하고 안전한 'Needle' 코드를 작성하는 방법에 대해 자세히 알아보는 데 도움이 되었기를 바랍니다.</p> <h2 id="deploy-application-using-command-line-tools"><a href="#deploy-application-using-command-line-tools" class="header-anchor">#</a> 명령줄 도구를 사용하여 애플리케이션 배포 </h2> <p>이 자습서에서는 다음 방법을 배웁니다.</p> <ul><li><ol><li><a href="#export-application">수출 신청</a></li></ol></li> <li><ol start="2"><li><a href="#import-application">신청서 가져오기</a></li></ol></li></ul> <p>이 자습서를 시작하기 전에 자신만의 응용 프로그램이 있어야 하고 생태학 및 응용 프로그램의 개념을 알아야 합니다. <a href="#getting-started-guide">시작 안내서</a> 를 참조할 수 있습니다.
<a href="https://github.com/IBAX-io/ibax-cli" target="_blank" rel="noopener noreferrer">명령줄 도구<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 를 통해 IBAX 블록체인에서 애플리케이션을 가져올 것입니다. 애플리케이션 내보내기</p> <h3 id="export-application"><a href="#export-application" class="header-anchor">#</a> 수출 신청 </h3> <p>현재 계정 정보를 조회하려면 <code>account info</code>를 호출하세요. 여기에서 로그인 ecid는 <code>9</code>입니다. 현재 애플리케이션을 조회하려면 <code>getList</code> 명령을 호출하세요.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ibax-cli console
   
Welcome to the IBAX console<span class="token operator">!</span>
To exit, press ctrl-d or <span class="token builtin class-name">type</span> <span class="token builtin class-name">exit</span>
<span class="token operator">&gt;</span>account info
<span class="token punctuation">{</span>
    <span class="token string">&quot;public_key&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;04d11ea197fe23152562c6f54c4...889c074dfd9080099982d8b2d4d100315e1cebc7&quot;</span>,     
    <span class="token string">&quot;ecosystem_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">9</span>,
    <span class="token string">&quot;key_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">6660819</span><span class="token punctuation">..</span>.78795186,
    <span class="token string">&quot;account&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0666-0819-...-7879-5186&quot;</span>
<span class="token punctuation">}</span>

<span class="token operator">&gt;</span>getList @1applications <span class="token parameter variable">-w</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token number">9</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;count&quot;</span><span class="token builtin class-name">:</span> <span class="token number">6</span>,
    <span class="token string">&quot;list&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;conditions&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;deleted&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0&quot;</span>,
            <span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;9&quot;</span>,
            <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;36&quot;</span>,
            <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;testapp&quot;</span>,
            <span class="token string">&quot;uuid&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;00000000-0000-0000-0000-000000000000&quot;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">..</span>.
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>현재 생태계에 6개의 애플리케이션이 있음을 알 수 있습니다. <code>export</code> 명령을 사용하여 <code>id</code>가 <code>36</code>인 애플리케이션을 내보냅니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>export <span class="token number">36</span> <span class="token parameter variable">-f</span><span class="token operator">=</span>./data.json

<span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;./data.json&quot;</span>,
    <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;application/json&quot;</span>,
    <span class="token string">&quot;value&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>여기서 -f 매개변수는 현재 디렉토리에 <code>data.json</code> 파일에 내보낸 애플리케이션을 저장합니다.
만약 -f 매개변수가 없다면, 애플리케이션 데이터는 명령 터미널에 출력됩니다.</p> <p><code>export</code> 명령어는 애플리케이션을 내보내는 과정을 캡슐화합니다. 위의 명령어를 사용하여 애플리케이션을 내보내거나, 다음과 같은 단계를 사용할 수 있습니다:
<code>@1ExportNewApp</code> contract를 호출하여 새로운 애플리케이션을 내보내면, 내보낸 애플리케이션에 대한 <code>1_buffer_data</code> 테이블에 레코드가 생성됩니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1ExportNewApp <span class="token punctuation">{</span><span class="token string">&quot;ApplicationId&quot;</span><span class="token builtin class-name">:</span> <span class="token number">36</span><span class="token punctuation">}</span>
</code></pre></div><p><code>@1Export</code> contract를 호출하여 애플리케이션을 내보내고, <code>1_buffer_data</code> 테이블에서 선택한 애플리케이션을 찾아 모든 애플리케이션 리소스를 생성된 JSON 문자열로 내보냅니다.
생성된 JSON 문자열은 현재 에코시스템의 <code>1_binaries</code> 테이블에 기록됩니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1Export
</code></pre></div><p><code>getList</code> 명령으로 <code>1_binaries</code> 테이블의 데이터를 쿼리합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>getList @1binaries <span class="token parameter variable">-w</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;export&quot;</span>, <span class="token string">&quot;account&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0666-0819-...-7879-5186&quot;</span>, <span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token number">9</span>, <span class="token string">&quot;app_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">36</span><span class="token punctuation">}</span> <span class="token parameter variable">-l</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-c</span><span class="token operator">=</span><span class="token string">&quot;id,hash&quot;</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;count&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
    <span class="token string">&quot;list&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;hash&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;8542cb57b77e0ae2c...92c3e05dbbe35ab646789be5b8ba8&quot;</span>,
            <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;14&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>바이너리 ID와 해시를 가져옵니다.
바이너리 파일을 내보내려면 <code>binaryVerify</code> 명령을 호출하십시오.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>binaryVerify <span class="token number">14</span> 8542cb57b77e0ae2c<span class="token punctuation">..</span>.92c3e05dbbe35ab646789be5b8ba8 <span class="token parameter variable">-f</span><span class="token operator">=</span>./data.json

<span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;./data.json&quot;</span>,     
    <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;application/json&quot;</span>,
    <span class="token string">&quot;value&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="import-application"><a href="#import-application" class="header-anchor">#</a> 수입 신청 </h3> <p>애플리케이션을 가져오려면 <code>import</code> 명령을 사용하고 가져올 애플리케이션 파일을 지정하려면 <code>-f</code> 매개변수를 사용하십시오.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ibax-cli console

Welcome to the IBAX console<span class="token operator">!</span>
To exit, press ctrl-d or <span class="token builtin class-name">type</span> <span class="token builtin class-name">exit</span>

<span class="token operator">&gt;</span>import <span class="token parameter variable">-f</span> <span class="token builtin class-name">.</span> /data.json
</code></pre></div><p><code>import</code> 명령은 애플리케이션 가져오기의 단계를 캡슐화합니다. 위의 명령을 사용하여 애플리케이션을 가져올 수 있습니다.</p> <p>또는 다음과 같은 단계를 사용할 수도 있습니다. 이는 학습 및 연구를 위한 편의를 위해 다음과 같이 제공됩니다:</p> <ul><li>단계 1
<code>@1ImportUpload</code> 계약을 호출하여 새 애플리케이션을 가져오면 내보낸 애플리케이션에 대한 <code>1_buffer_data</code> 테이블에 레코드가 생성됩니다.
<code>@1ImportUpload</code> 계약 매개변수 <code>Data</code>는 <code>file</code> <a href="/kr/topics/vm.html#types">유형</a> 입니다.
<code>Data</code>에는 <code>Name</code> 파일 이름 (문자열), <code>MimeType</code> 파일 유형 (문자열), <code>Body</code> ([]byte) 파일 내용이 포함됩니다.
애플리케이션 파일 데이터를 base64로 인코딩하고 <code>Body</code>에 전달해야하며, <code>base64Encode</code> 명령을 사용하여 base64로 인코딩 할 수 있습니다.</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>base64Encode <span class="token parameter variable">-f</span><span class="token operator">=</span>./data.json

Encode:ewoJIm5hbWUiOiAid<span class="token punctuation">..</span>.CQkJIlR5cGUiOiAiY29udHJhY3RzIiwKCQkJIk5hbWUiOiAiSGVsbG9Xb3JsZCIsCgkJCSJWYWx1ZSI6<span class="token punctuation">..</span>.

<span class="token operator">&gt;</span>callContract @1ImportUpload <span class="token punctuation">{</span><span class="token string">&quot;Data&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;filename&quot;</span>, <span class="token string">&quot;MimeType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mimeType&quot;</span>, <span class="token string">&quot;Body&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ewoJIm5hbWUiOiAid...CQkJIlR5cGUiOiAiY29udHJhY3RzIiwKCQkJIk5hbWUiOiAiSGVsbG9Xb3JsZCIsCgkJCSJWYWx1ZSI6...&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><ul><li>단계 2
호출이 완료되면 <code>getList</code> 명령을 사용하여 <code>1_buffer_data</code> 테이블의 데이터를 쿼리합니다.</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>getList @1buffer_data <span class="token parameter variable">-w</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;key&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;import&quot;</span>, <span class="token string">&quot;account&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0666-0819-xxxx-7879-5186&quot;</span>, <span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token number">19</span><span class="token punctuation">}</span> <span class="token parameter variable">-l</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-c</span><span class="token operator">=</span>value-<span class="token operator">&gt;</span><span class="token string">'data'</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;count&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
    <span class="token string">&quot;list&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;22&quot;</span>,
            <span class="token string">&quot;value.data&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;[{&quot;</span>Data<span class="token string">&quot;: &quot;</span><span class="token punctuation">[</span>a,b<span class="token punctuation">]</span><span class="token string">&quot;}, {&quot;</span>Data<span class="token string">&quot;: &quot;</span><span class="token punctuation">[</span>c,d<span class="token punctuation">]</span><span class="token string">&quot;}]&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>단계 3
value.data-&gt;Data의 데이터를 1차원 배열 [a,b,c,d]로 어셈블합니다.
그런 다음 다음 내용으로 계약 매개 변수 파일 <code>importParams.json</code>을 만듭니다.</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;Data&quot;</span><span class="token operator">:</span><span class="token string">&quot;[a,b,c,d]&quot;</span><span class="token punctuation">}</span>
</code></pre></div><ul><li>단계 4
계약 <code>@1Import</code>를 호출하여 애플리케이션 데이터를 가져옵니다.</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1Import <span class="token parameter variable">-f</span><span class="token operator">=</span>./importParams.json
</code></pre></div><h2 id="ecosystem-configuration-using-command-line-tool"><a href="#ecosystem-configuration-using-command-line-tool" class="header-anchor">#</a> 생태 파라미터를 구성하기 위해 명령 줄 도구를 사용합니다. </h2> <p>이 자습서에서는 다음 방법을 배웁니다.</p> <ul><li><ol><li><a href="#apply-to-join-the-ecosystem">생태계 가입 신청</a></li></ol></li> <li><ol start="2"><li><a href="#add-ecosystem-members">생태계 구성원 추가</a></li></ol></li> <li><ol start="3"><li><a href="#role-management">역할 관리</a></li></ol></li> <li><ol start="4"><li><a href="#issuance-of-token">토큰 발행</a></li></ol></li> <li><ol start="5"><li><a href="#eco-deduction">생태계 공제</a></li></ol></li> <li><ol start="6"><li><a href="#dao-governance-ecosystem">DAO 생태계 운영</a></li></ol></li></ul> <p>Before starting this tutorial, you need to have an application of your own and know the concept of ecosystem and application, you can refer to <a href="#getting-started-guide">Getting Started Guide</a>
We will do the ecosystem configuration on the IBAX blockchain via <a href="https://github.com/IBAX-io/ibax-cli" target="_blank" rel="noopener noreferrer">command line tool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="apply-to-join-the-ecosystem"><a href="#apply-to-join-the-ecosystem" class="header-anchor">#</a> 생태계 가입 신청 (Apply to join the ecosystem) </h3> <p>우리는 <code>@1MembershipRequest</code> 컨트랙트를 호출하여 생태계 가입을 요청할 수 있습니다.
다음 예:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1MembershipRequest <span class="token punctuation">{</span><span class="token string">&quot;EcosystemId&quot;</span><span class="token builtin class-name">:</span> <span class="token number">19</span><span class="token punctuation">}</span>
</code></pre></div><p>생태 ID가 <code>19</code>인 생태에 가입 요청, <code>@1MembershipRequest</code> 계약은 생태를 호출하는 데 제한을 두며 기본 생태에서만 호출할 수 있습니다.
신청이 성공하면 대상 생태계 관리자가 신청을 받게 되며, 생태 관리자가 신청을 승인해야만 대상 생태에 합류한 것으로 간주됩니다.
물론 대상 생태가 공개된 경우 대상 생태에 직접 가입할 수 있습니다.</p> <h3 id="add-ecosystem-members"><a href="#add-ecosystem-members" class="header-anchor">#</a> 생태계 구성원 추가 (Add ecosystem members) </h3> <p>생태계가 막 생성되었을 때 생태계 구성원은 생태계 생성자일 뿐이며, 다른 구성원을 초대해야 하는 경우 초대받은 사람의 공개 키를 알고 계약 <code>@1MembershipAdd</code>를 호출하여 구성원을 추가해야 합니다. :</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1MembershipAdd <span class="token punctuation">{</span><span class="token string">&quot;Keys&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;04f2c1780ca0aa0f343d0e541c77811...3b0d5bf3a9903253aad6e78c966b5f91ffb32703884020&quot;</span><span class="token punctuation">}</span>
</code></pre></div><p>생태계가 공개되어 누구나 가입할 수 있는 경우 기본적으로 공개되지 않는 생태계 매개변수 <code>free_membership</code> = 1을 설정할 수 있습니다.
일단 설정되면 에코시스템에 참여하기 위해 승인을 받을 필요가 없습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1NewParameter <span class="token punctuation">{</span><span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;free_membership&quot;</span>, <span class="token string">&quot;Value&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>, <span class="token string">&quot;Conditions&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ContractConditions(<span class="token entity" title="\&quot;">\&quot;</span>MainCondition<span class="token entity" title="\&quot;">\&quot;</span>)&quot;</span><span class="token punctuation">}</span>
</code></pre></div><p><code>free_membership</code> 매개변수를 설정하지 않으면 다른 구성원이 생태계 가입을 신청할 때 신청 알림을 받게 됩니다.</p> <p><code>@1MembershipDecide</code> 계약 승인 신청을 호출합니다. 계약 매개변수 <code>NotificId</code>는 알림 ID이고, 'Accept'는 해결 표시이고, 해결 표시 <code>1</code>은 전달됩니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1MembershipDecide <span class="token punctuation">{</span><span class="token string">&quot;NotificId&quot;</span><span class="token builtin class-name">:</span> <span class="token number">6</span>, <span class="token string">&quot;Accept&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="freezing-of-accounts"><a href="#freezing-of-accounts" class="header-anchor">#</a> 계정 동결 (Freezing of accounts) </h3> <p>계정을 동결하려면 <code>@1DeleteMember</code> 컨트랙트를 호출하세요. 이 작업은 복원할 수 없습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1DeleteMember <span class="token punctuation">{</span><span class="token string">&quot;MemberAccount&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1539-2715-xxxx-1679-5385&quot;</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="role-management"><a href="#role-management" class="header-anchor">#</a> 역할 관리 (Role management) </h3> <ul><li><a href="#new-role-creation">새 역할 생성</a></li> <li><a href="#adding-role-members">역할 멤버 추가</a></li> <li><a href="#delete-role-members">역할 멤버 삭제</a></li> <li><a href="#modify-role-manager">역할 관리자 수정</a></li> <li><a href="#delete-role">역할 삭제</a></li></ul> <h4 id="new-role-creation"><a href="#new-role-creation" class="header-anchor">#</a> 새 역할 생성 (New role creation) </h4> <p><code>@1RolesCreate</code> 계약을 호출하여 새 역할, 역할 이름 <code>student</code>, 유형 <code>2</code>(1 - 할당 가능 2 - 투표 유형 3 - 시스템에 의해 선출됨)을 생성합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1RolesCreate <span class="token punctuation">{</span><span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;student&quot;</span>, <span class="token string">&quot;Type&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;block_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1685</span>,
    <span class="token string">&quot;hash&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;5321f2231a...d0d80158b62766395f14d0ff7&quot;</span>,
    <span class="token string">&quot;penalty&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;err&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;21&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>반환 결과에는 역할 ID <code>21</code>이 포함됩니다.</p> <h4 id="adding-role-members"><a href="#adding-role-members" class="header-anchor">#</a> 역할 멤버 추가 (Adding Role Members) </h4> <p>두 가지 방법이 있습니다. 첫 번째 방법은 생태계 구성원이 응용 프로그램을 시작하고 계약 <code>@1RolesRequest</code> 요청을 호출하여 역할의 구성원으로 추가하는 것입니다. 여기서 <code>Rid</code>는 역할 ID입니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1RolesRequest <span class="token punctuation">{</span><span class="token string">&quot;Rid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">21</span><span class="token punctuation">}</span>
</code></pre></div><p>두 번째 방법은 역할 관리자가 역할 구성원을 할당하고 역할 관리자가 <code>@1RolesAssign</code> 계약을 호출하여 구성원을 역할에 추가하는 것입니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1RolesAssign <span class="token punctuation">{</span><span class="token string">&quot;MemberAccount&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0666-7782-xxxx-7671- 3160&quot;</span>, <span class="token string">&quot;Rid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">21</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="delete-role-members"><a href="#delete-role-members" class="header-anchor">#</a> 역할 멤버 삭제 (Delete role members) </h4> <p>먼저 다음과 같이 getList를 통해 쿼리할 수 있는 역할의 구성원을 확인합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>getList @1roles_participants <span class="token parameter variable">-w</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token number">18</span>, <span class="token string">&quot;role-&gt;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;21&quot;</span>, <span class="token string">&quot;deleted&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;count&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>,
    <span class="token string">&quot;list&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;appointed&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;{<span class="token entity" title="\&quot;">\&quot;</span>account<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>1273-2644-xxxx-5846-6598<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>image_id<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>0<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>member_name<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>founder<span class="token entity" title="\&quot;">\&quot;</span>}&quot;</span>,
            <span class="token string">&quot;date_created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1684916023&quot;</span>,
            <span class="token string">&quot;date_deleted&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0&quot;</span>,
            <span class="token string">&quot;deleted&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0&quot;</span>,
            <span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;18&quot;</span>,
            <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;21&quot;</span>,
            <span class="token string">&quot;member&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;{<span class="token entity" title="\&quot;">\&quot;</span>account<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>1273-2644-xxxx-5846-6598<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>image_id<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>0<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>member_name<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>founder<span class="token entity" title="\&quot;">\&quot;</span>}&quot;</span>,
            <span class="token string">&quot;role&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;{<span class="token entity" title="\&quot;">\&quot;</span>id<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>20<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>name<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>teacher<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>type<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>1<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>image_id<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>0<span class="token entity" title="\&quot;">\&quot;</span>}&quot;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">..</span>.
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>여기서 <code>where</code> 조건 <code>ecosystem</code>은 생태계를 지정하고 <code>role-&gt;id</code>는 역할 ID를 지정하고 <code>deleted</code>: 0은 삭제되지 않음을 지정합니다.
멤버가 <code>1273-2644-xxxx-5846-6598</code>인 역할, 즉 <code>id</code>가 <code>21</code>인 역할을 제거하려는 경우 3개의 행이 있음을 알 수 있습니다.
관리자는 계약 <code>@1RolesUnassign</code>을 호출하여 다음과 같이 역할 구성원을 제거할 수 있습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1RolesUnassign <span class="token punctuation">{</span><span class="token string">&quot;RowId&quot;</span><span class="token builtin class-name">:</span> <span class="token number">21</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="modify-role-manager"><a href="#modify-role-manager" class="header-anchor">#</a> 역할 관리자 수정 (Modify Role Manager) </h4> <p>현재 생태계 역할을 살펴보겠습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>getList @1roles <span class="token parameter variable">-w</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token number">18</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;count&quot;</span><span class="token builtin class-name">:</span> <span class="token number">5</span>,
    <span class="token string">&quot;list&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;company_id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0&quot;</span>,
            <span class="token string">&quot;creator&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;{<span class="token entity" title="\&quot;">\&quot;</span>account<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>1273-2644-xxxx-5846-6598<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>image_id<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>0<span class="token entity" title="\&quot;">\&quot;</span>, <span class="token entity" title="\&quot;">\&quot;</span>member_name<span class="token entity" title="\&quot;">\&quot;</span>: <span class="token entity" title="\&quot;">\&quot;</span>founder<span class="token entity" title="\&quot;">\&quot;</span>}&quot;</span>,
            <span class="token string">&quot;date_created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1684910917&quot;</span>,
            <span class="token string">&quot;date_deleted&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0&quot;</span>,
            <span class="token string">&quot;default_page&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
            <span class="token string">&quot;deleted&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0&quot;</span>,
            <span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;18&quot;</span>,
            <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;20&quot;</span>,
            <span class="token string">&quot;image_id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0&quot;</span>,
            <span class="token string">&quot;role_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;teacher&quot;</span>,
            <span class="token string">&quot;role_type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>,
            <span class="token string">&quot;roles_access&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;[]&quot;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">..</span>.
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>여기서 <code>roles_access</code>는 현재 역할에 대한 관리 역할이며 배열이며 둘 이상일 수 있습니다.
<code>@1RolesAccessManager</code> 계약을 호출하여 <code>teacher</code> 역할에 관리 역할을 추가합니다. 여기서 계약 매개변수 <code>Action</code> 관리 연산자(<code>clean</code>, <code>remove</code>, <code>add</code>), <code>Rid</code> 역할 ID는 역할의 Rid Manager인 <code>ManagerRid</code>를 관리해야 합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1RolesAccessManager <span class="token punctuation">{</span><span class="token string">&quot;Action&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;add&quot;</span>, <span class="token string">&quot;Rid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">20</span>, <span class="token string">&quot;ManagerRid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">13</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;block_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1745</span>,
    <span class="token string">&quot;hash&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;e2eb8ff0dc309ec7652db...bbbe58bca4ca574804e46c2f63653eb73104&quot;</span>,
    <span class="token string">&quot;penalty&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;err&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="delete-role"><a href="#delete-role" class="header-anchor">#</a> 역할 삭제 (Delete Role) </h4> <p>역할을 삭제하기 위해 <code>@1RolesDelete</code> 계약을 호출할 수 있습니다. 계약 매개변수 <code>Rid</code>는 관리할 역할의 ID이고 <code>Ops</code>는 운영자입니다(<code>D</code>는 삭제, R`은 복원임).</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1RolesDelete <span class="token punctuation">{</span><span class="token string">&quot;Rid&quot;</span><span class="token builtin class-name">:</span> <span class="token number">24</span>, <span class="token string">&quot;Ops&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;block_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1785</span>,
    <span class="token string">&quot;hash&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1ebf99a04f504fc3d2...4ecfbdfc419bf3dbf39df0013dca913f844&quot;</span>,
    <span class="token string">&quot;penalty&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;err&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="issuance-of-token"><a href="#issuance-of-token" class="header-anchor">#</a> 토큰 발행 (Issuance of Token) </h3> <ul><li><a href="#create-ecosystem">생태계 생성</a></li> <li><a href="#installing-basic-applications">기본 애플리케이션 설치</a></li> <li><a href="#token-issuance">토큰 발행</a></li></ul> <h4 id="create-ecosystem"><a href="#create-ecosystem" class="header-anchor">#</a> 생태계 생성 (Create ecosystem) </h4> <p>생태계를 만들고 <code>@1NewEcosystem</code> 계약을 호출합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1NewEcosystem <span class="token punctuation">{</span><span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Test Ecosystem&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;block_id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1787</span>,
    <span class="token string">&quot;hash&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;384f35ef93243c9dd4f53b9298873b356b25b31cf7c6a6be7600ee7694d77006&quot;</span>,
    <span class="token string">&quot;penalty&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;err&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;21&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>그런 다음 명령줄 도구 구성을 수정하여 새로 생성된 에코시스템 &quot;21&quot;에 로그인합니다.</p> <h4 id="installing-basic-applications"><a href="#installing-basic-applications" class="header-anchor">#</a> 기본 애플리케이션 설치 </h4> <p>다음과 같이 계약을 호출하여 기본 애플리케이션을 설치합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">1</span>  <span class="token operator">&gt;</span>callContract @1PlatformAppsInstall
<span class="token number">2</span>  <span class="token operator">&gt;</span>callContract @1RolesInstall
<span class="token number">3</span>  <span class="token operator">&gt;</span>callContract @1AppInstall <span class="token punctuation">{</span><span class="token string">&quot;ApplicationId&quot;</span><span class="token builtin class-name">:</span> <span class="token number">5</span><span class="token punctuation">}</span>
<span class="token number">4</span>  <span class="token operator">&gt;</span>callContract @1AppInstall <span class="token punctuation">{</span><span class="token string">&quot;ApplicationId&quot;</span><span class="token builtin class-name">:</span> <span class="token number">6</span><span class="token punctuation">}</span>
</code></pre></div><p>1행, 플랫폼 애플리케이션 설치
2행, 기본 역할 설치
3-4행에서 에코 구성 및 토큰 발행 애플리케이션을 설치합니다. 애플리케이션 ID '5,6'은 다음과 같이 getList를 통해 쿼리할 수 있습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>getList @1applications <span class="token parameter variable">-w</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;<span class="token variable">$or</span>&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Token emission&quot;</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Ecosystems catalog&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token parameter variable">-c</span><span class="token operator">=</span><span class="token string">&quot;name,ecosystem&quot;</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;count&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
    <span class="token string">&quot;list&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>,
            <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;5&quot;</span>,
            <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Token emission&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
            <span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>,
            <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;6&quot;</span>,
            <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Ecosystems catalog&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="token-issuance"><a href="#token-issuance" class="header-anchor">#</a> 토큰 발행 </h4> <p>새로운 생태계이기 때문에 토큰 발행을 설정하고 <code>@1TeSettings</code> 계약을 호출하여 토큰을 발행할 수 있는 역할을 지정해야 합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1TeSettings <span class="token punctuation">{</span><span class="token string">&quot;RoleDeveloper&quot;</span><span class="token builtin class-name">:</span> <span class="token number">30</span><span class="token punctuation">}</span>
</code></pre></div><p>여기서 <code>RoleDeveloper</code>는 <code>@1roles</code> 데이터 테이블을 통해 얻을 수 있는 현재 생태학적 역할 ID입니다.</p> <p><strong>Token Issuance</strong> <code>@1NewToken</code> 컨트랙트를 호출하여 토큰을 발행합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1NewToken <span class="token punctuation">{</span><span class="token string">&quot;Symbol&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;TEST&quot;</span>, <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;TEST Coin&quot;</span>, <span class="token string">&quot;Amount&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10000000000000000&quot;</span> ,<span class="token string">&quot;Digits&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">}</span>
</code></pre></div><p>여기서 계약 매개변수 <code>Symbol</code>은 토큰 기호, <code>Name</code>은 토큰 이름, <code>Amount</code>는 총 금액, <code>Digits</code>는 정밀도입니다.</p> <p><strong>Token Emission</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1TeEmission <span class="token punctuation">{</span><span class="token string">&quot;Amount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1000000000000</span><span class="token punctuation">}</span>
</code></pre></div><p><strong>Destroy tokens</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1TeBurn <span class="token punctuation">{</span><span class="token string">&quot;Amount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1000000000000</span><span class="token punctuation">}</span>
</code></pre></div><p>기본 토큰 증분 및 토큰 폐기가 허용되며 <code>@1TeChange</code>로 설정할 수 있습니다. 여기서 <code>TypeChange</code>는 유형(<code>emission</code> 증분, <code>withdraw</code> 소멸)입니다.
<code>Value</code>는 켜짐/꺼짐 상태(<code>1</code> 켜짐, <code>2</code> 꺼짐)입니다. 예:</p> <p><strong>Close Additions</strong> 참고: 닫은 후에는 켤 수 없습니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1TeChange <span class="token punctuation">{</span><span class="token string">&quot;TypeChange&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;emission&quot;</span>, <span class="token string">&quot;Value&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
</code></pre></div><p><strong>Turn off destruction</strong>, 파괴를 다시 켜고 싶다면 <code>Value</code>를 <code>1</code>로 설정하면 됩니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1TeChange <span class="token punctuation">{</span><span class="token string">&quot;TypeChange&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;withdraw&quot;</span>, <span class="token string">&quot;Value&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="eco-deduction"><a href="#eco-deduction" class="header-anchor">#</a> 생태계 공제 </h3> <p>에코 공제를 설정하기 전에 <a href="https://github.com/IBAX-io/whitepaper" target="_blank" rel="noopener noreferrer">백서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 에서 확인할 수 있는 IBAX 수수료 모델을 이해해야 합니다.</p> <p>먼저 에코 지갑 주소를 설정하고 <code>@1EditParameter</code> 컨트랙트를 호출하고 에코 파라미터를 수정합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1EditParameter <span class="token punctuation">{</span><span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">334</span>, <span class="token string">&quot;Value&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1273-2644-xxxx-5846-6598&quot;</span><span class="token punctuation">}</span>
</code></pre></div><p>where <code>Id</code> is the ecowallet <code>ecosystem_wallet</code> parameter id, which can be queried as follows:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>getList @1parameters <span class="token parameter variable">-w</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;ecosystem&quot;</span><span class="token builtin class-name">:</span> <span class="token number">22</span>, <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ecosystem_wallet&quot;</span><span class="token punctuation">}</span>
</code></pre></div><p><code>Value</code> 값은 구속될 에코월렛의 주소이며, 컨트랙트는 해당 주소에서 지불하는 가스비를 생성합니다. 주소에는 현재 생태계에 충분한 토큰이 있어야 하며 수정이 성공하기 전에 바인딩된 주소에서 동의해야 합니다.</p> <p>다음과 같이 다중 생태 공제를 설정하기 위해 <code>@1EcoFeeModeManage</code> 계약을 호출합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1EcoFeeModeManage <span class="token punctuation">{</span><span class="token string">&quot;FollowFuel&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0.01</span>, <span class="token string">&quot;CombustionFlag&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;VmCostFlag&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">&quot;VmCostConversionRate&quot;</span><span class="token builtin class-name">:</span> <span class="token number">100</span>, <span class="token string">&quot;StorageConversionRate&quot;</span><span class="token builtin class-name">:</span> <span class="token number">100</span>, <span class="token string">&quot;StorageFlag&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">&quot;ExpediteFlag&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
</code></pre></div><p>다음은 계약 매개변수 필드에 대한 정의입니다:</p> <ul><li><code>FollowFuel</code> 매개변수는 Follow eco1 비율의 배수입니다.</li> <li><code>CombustionFlag</code>는 ecotrade 가스 수수료 연소 여부입니다. 1- 아니오, 2- 예</li> <li><code>CombustionPercent</code>는 가스 수수료 연소 백분율입니다. 가스 수수료 연소가 켜져 있을 때만 유효하며, 1에서 100까지의 값을 취하며, 꺼져 있을 때는 0입니다.</li> <li><code>VmCostFlag</code>는 VM 비용 플래그로 직접 지불 또는 대리 지불로 설정됩니다. 1- 직접 지불, 2- 대리 지불</li> <li><code>StorageFlag</code>는 저장소 수수료 플래그로 직접 지불 또는 대리 지불로 설정됩니다. 1- 직접 지불, 2- 대리 지불</li> <li><code>ExpediteFlag</code>는 가속 수수료 플래그로 직접 지불 또는 대리 지불로 설정됩니다. 1- 직접 지불, 2- 대리 지불</li> <li><code>VmCostConversionRate</code>는 가상 머신 비용 변환율로, 대리 지불에만 유효하며, 소수점 2자리로 표시되며, 0보다 큰 값입니다.</li> <li><code>StorageConversionRate</code>는 저장소 비용 변환율로, 대리 지불에만 유효하며, 소수점 2자리로 표시되며, 0보다 큰 값입니다.</li></ul> <p>위의 설정을 사용하면, 생태계 내에서 사용자가 계약을 호출할 때 발생하는 모든 거래 수수료가 현재 생태계의 생태지갑에서 지불됩니다.
모든 사용자는 생태계 내에서 발생하는 가스 비용만을 지불하면 됩니다. 물론 실제 필요에 따라 비용 매개변수를 조정할 수 있습니다.</p> <h3 id="dao-governance-ecosystem"><a href="#dao-governance-ecosystem" class="header-anchor">#</a> DAO 생태계 운영 </h3> <p>DAO 관리 생태계로 변경하기 전에, 현재 생태계에서 토큰을 발행했는지 확인해야 합니다. DAO 관리 생태계로 변경된 후에는 생태계의 모든 제안이 관리위원회 멤버들에 의해 투표됩니다.
DAO 관리 이사회는 더 이상 생태계 개발자들에 의해 독점적으로 관리되지 않으며, 생태계 보유주 중 상위 50명의 대표들이 선출됩니다.</p> <p><code>@1EditControlMode</code> 계약을 호출하여 생태계 관리 모드를 DAO 관리 모드로 변경합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1EditControlMode <span class="token punctuation">{</span><span class="token string">&quot;Value&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
</code></pre></div><p>생성자 모델을 나타내는 <code>Value</code> 매개변수 값으로 <code>1</code>을 사용하고, DAO 관리 모델을 나타내는 경우 <code>2</code>를 사용합니다.</p> <p>우리는 애플리케이션을 생성해 볼 수 있습니다:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span>callContract @1NewApplication <span class="token punctuation">{</span><span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;testApp&quot;</span>, <span class="token string">&quot;Conditions&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ContractConditions(<span class="token entity" title="\&quot;">\&quot;</span>@1DeveloperCondition<span class="token entity" title="\&quot;">\&quot;</span>)&quot;</span><span class="token punctuation">}</span>
</code></pre></div><p>이 단계에서는 애플리케이션을 생성하기 전에 DAO 관리위원회에 의해 DAO 관리 제안이 생성되고 투표됩니다. 유효한 제안은 투표에 참여한 총 표의 75% 중 68%의 승인율을 가져야 합니다.</p> <p>DAO 관리의 범위는 다음과 같습니다:</p> <ol><li>애플리케이션, 계약, 페이지, 코드 스니펫, 탭, 메뉴, 애플리케이션 매개변수, 데이터 테이블 및 필드 추가, 삭제 및 변경</li> <li>다국어 수정</li> <li>DAO 및 생성자 모델 전환</li> <li>생태계 매개변수 편집</li> <li>역할, 역할 멤버 할당 및 제거</li> <li>추가 및 소멸 통화 발행</li> <li>플랫폼 매개변수 수정</li> <li>생태계 정보 수정</li> <li>지연 계약 수정</li> <li>투표 템플릿 수정</li></ol> <h2 id="deploy-applications-using-application-packaging-tool"><a href="#deploy-applications-using-application-packaging-tool" class="header-anchor">#</a> 명령 줄 도구를 사용하여 애플리케이션 배포하기 </h2> <p>이 튜토리얼을 시작하기 전에 <a href="https://github.com/IBAX-io/app-tool" target="_blank" rel="noopener noreferrer">IBAX 애플리케이션 패키징 도구<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 를 다운로드해야 합니다. 이 도구를 사용하여 IBAX 애플리케이션을 패키징해야 합니다.</p> <p>다음 디렉터리 구조에 따라 애플리케이션 파일을 저장해야 합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>- APP Name
    - app_params
        params1.csv
        params2.csv
        ...
    - contracts
        contract1.sim
        contract2.sim
        ...
    - tables
        tableName1.json
        tableName2.json
        ...
    config.json
</code></pre></div><p>아래 그림과 같이:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>airdrop$ <span class="token function">ls</span> *
config.json

app_params:
dedicated_account.csv  lock_percent.csv  per_period_sec.csv  period_count.csv

contracts:
AddAirdrop.sim  ClaimAirdrop.sim  SpeedAirdrop.sim

tables:
airdrop_info.json
</code></pre></div><p><code>app_params</code> 디렉토리는 매개변수 이름 + 파일 형식 <code>.csv</code>를 사용하여 이름이 지정된 애플리케이션 매개변수 파일을 저장하며 파일의 내용은 매개변수 값입니다.
<code>contracts</code> 디렉토리는 <code>.sim</code> 파일 형식으로 계약을 보유하고 있으며 파일의 내용은 계약 소스 코드입니다.
<code>tables</code> 디렉토리는 다음과 같이 <code>json</code> 파일 형식으로 애플리케이션 데이터 테이블 구조를 보유합니다.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;account&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\&quot;read\&quot;: \&quot;true\&quot;, \&quot;update\&quot;: \&quot;ContractConditions(\&quot;MainCondition\&quot;)\&quot;}&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;varchar&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;balance_amount&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;money&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stake_amount&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;money&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;surplus&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;number&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;total_amount&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;money&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p><code>name</code>은 데이터 테이블 필드 이름이며, <code>conditions</code>은 데이터 테이블 필드 권한이고, <code>type</code>은 필드 유형입니다.</p> <p>1단계에서는 config.json 파일을 생성하고 다음 내용을 airdrop 디렉토리에 저장합니다.</p> <div class="language-text extra-class"><pre class="language-text"><code>{
    &quot;name&quot;: &quot;Airdrop&quot;,
    &quot;conditions&quot;: &quot;ContractConditions(\&quot;@1MainCondition\&quot;)&quot;
}
</code></pre></div><p><code>name</code>은 애플리케이션의 이름이고, <code>conditions</code>는 애플리케이션을 수정하는 권한입니다. 그런 다음 airdrop 디렉토리에 저장합니다.</p> <p>2단계에서는 애플리케이션을 패키징합니다. 다음 명령어를 사용하면 현재 디렉토리에 애플리케이션 <code>airdrop.json</code>이 생성됩니다. 계약이나 애플리케이션 매개변수를 수정한 경우에는 애플리케이션을 다시 패키징해야 합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ./app-tool airdrop/
</code></pre></div><p>애플리케이션을 다음과 같이 <a href="https://github.com/IBAX-io/ibax-cli" target="_blank" rel="noopener noreferrer">command line tool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 을 통해 가져올 수 있습니다:
<code>import</code> 명령어를 사용하여 애플리케이션을 가져옵니다. <code>-f</code> 매개변수를 사용하여 가져올 애플리케이션 파일을 지정합니다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ ibax-cli console

Welcome to the IBAX console<span class="token operator">!</span>
To exit, press ctrl-d or <span class="token builtin class-name">type</span> <span class="token builtin class-name">exit</span>

<span class="token operator">&gt;</span>import <span class="token parameter variable">-f</span> ./airdrop.json
</code></pre></div><p>물론 애플리케이션이 있다면 다음 명령어를 사용하여 완전한 디렉토리 구조를 생성할 수도 있습니다:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ app-tool.exe airdrop.json
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/IBAX-io/documentation/edit/master/docs/kr/tutorials/tutorial.md" target="_blank" rel="noopener noreferrer">GitHub에서 이 페이지 편집</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">마지막 업데이트:</span> <span class="time">2023/7/6 18:59:03</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kr/tutorials/app_tutorial.html" class="prev">
        애플리케이션 개발 튜토리얼 {#tutorial-for-application-development}
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d049f7ab.js" defer></script><script src="/assets/js/2.8d94a0db.js" defer></script><script src="/assets/js/121.2a80d720.js" defer></script>
  </body>
</html>
