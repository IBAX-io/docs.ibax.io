<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Déploiement d&#39;un réseau IBAX </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#an-deployment-example" class="sidebar-link">Un exemple de déploiement </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#deploy-phase" class="sidebar-link">Phase de déploiement </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#server-deployment" class="sidebar-link">Déploiement du serveur </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#deploy-the-first-node" class="sidebar-link">Déployer le premier nœud </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#dependencies-and-environment-settings" class="sidebar-link">Dépendances et paramètres de l'environnement </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#golang" class="sidebar-link">Golang </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#postgresql" class="sidebar-link">PostgreSQL </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#centrifugo" class="sidebar-link">Centrifugo </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#directory-structure" class="sidebar-link">Structure du répertoire </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#create-a-database" class="sidebar-link">Créer une base de données </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#configure-centrifugo" class="sidebar-link">Configurer Centrifugo </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#install-go-ibax" class="sidebar-link">Installer go-ibax </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#configure-the-first-node" class="sidebar-link">Configure the first node </a></li></ul></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#deploy-other-nodes" class="sidebar-link">Déployer d'autres nœuds </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#node-2" class="sidebar-link">Noeud 2 </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#node-3" class="sidebar-link">Noeud 3{#node-3}</a></li></ul></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#front-end-deployment" class="sidebar-link">Déploiement front-end </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#software-prerequisites" class="sidebar-link">Prérequis logiciels </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#build-a-weaver-application" class="sidebar-link">Créez une application Weaver </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#add-the-configuration-file-for-the-blockchain-network" class="sidebar-link">Ajoutez le fichier de configuration pour le réseau blockchain. </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#build-weaver-web-application" class="sidebar-link">Construire une application web Weaver </a></li></ul></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#configure-the-blockchain-network" class="sidebar-link">Configurer le réseau blockchain </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#create-the-creator-account" class="sidebar-link">Créez le compte créateur </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#import-applications-roles-and-templates" class="sidebar-link">Importer des applications, des rôles et des modèles </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#add-the-first-node-to-the-node-list" class="sidebar-link">Ajoutez le premier nœud à la liste des nœuds </a></li></ul></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#add-other-honor-nodes" class="sidebar-link">Ajoutez d'autres nœuds d'honneur </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#add-members-into-the-consensus-role-group" class="sidebar-link">Ajouter des membres dans le groupe de rôle de consensus </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#create-the-owner-account-for-other-nodes" class="sidebar-link">Créez le compte propriétaire pour les autres nœuds. </a></li><li class="sidebar-sub-header"><a href="/fr/howtos/deployment.html#assign-the-node-owner-with-the-validators-role" class="sidebar-link">Attribuer le propriétaire du nœud au rôle de Validateur. </a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deployment-of-a-ibax-network"><a href="#deployment-of-a-ibax-network" class="header-anchor">#</a> Déploiement d'un réseau IBAX </h1> <p>Dans cette section, nous vous montrerons comment déployer votre propre réseau blockchain.</p> <h2 id="an-deployment-example"><a href="#an-deployment-example" class="header-anchor">#</a> Un exemple de déploiement </h2> <p>Un réseau blockchain sera déployé avec les trois nœuds suivants à titre d'exemple.</p> <p>Trois nœuds du réseau :</p> <ul><li>Le nœud 1 est le premier nœud du réseau blockchain, qui peut générer de nouveaux blocs et envoyer des transactions à partir des clients qui y sont connectés ;</li> <li>Le nœud 2 est un autre nœud honorable, qui peut générer de nouveaux blocs et envoyer des transactions à partir des clients qui y sont connectés ;</li> <li>Le nœud 3 est un nœud gardien, qui ne peut pas générer de nouveaux blocs, mais peut envoyer des transactions à partir des clients qui y sont connectés.</li></ul> <p>Configurations des trois nœuds à déployer :</p> <ul><li>Chaque nœud utilise sa propre instance du système de base de données PostgreSQL ;</li> <li>Chaque nœud utilise sa propre instance du service Centrifugo ;</li> <li>Le côté serveur de github-backend est déployé sur le même hôte que les autres composants backend.</li></ul> <p>Les adresses et ports d'échantillon utilisés par les nœuds sont décrits dans le tableau suivant :</p> <table><thead><tr><th style="text-align:center;">Nœud</th> <th style="text-align:center;">Composant</th> <th style="text-align:center;">IP et port</th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td style="text-align:center;">PostgreSQL</td> <td style="text-align:center;">127.0.0.1:5432</td></tr> <tr><td style="text-align:center;">1</td> <td style="text-align:center;">Centrifugo</td> <td style="text-align:center;">192.168.1.1:8000</td></tr> <tr><td style="text-align:center;">1</td> <td style="text-align:center;">go-ibax (TCP service)</td> <td style="text-align:center;">192.168.1.1:7078</td></tr> <tr><td style="text-align:center;">1</td> <td style="text-align:center;">go-ibax (API service)</td> <td style="text-align:center;">192.168.1.1:7079</td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:center;">PostgreSQL</td> <td style="text-align:center;">127.0.0.1:5432</td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:center;">Centrifugo</td> <td style="text-align:center;">192.168.1.2:8000</td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:center;">go-ibax (TCP service)</td> <td style="text-align:center;">192.168.1.2:7078</td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:center;">go-ibax (API service)</td> <td style="text-align:center;">192.168.1.2:7079</td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:center;">PostgreSQL</td> <td style="text-align:center;">127.0.0.1:5432</td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:center;">Centrifugo</td> <td style="text-align:center;">192.168.1.3:8000</td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:center;">go-ibax (TCP service)</td> <td style="text-align:center;">192.168.1.3:7078</td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:center;">go-ibax (API service)</td> <td style="text-align:center;">192.168.1.3:7079</td></tr></tbody></table> <h2 id="deploy-phase"><a href="#deploy-phase" class="header-anchor">#</a> Phase de déploiement </h2> <p>Votre propre réseau blockchain doit être déployé en plusieurs étapes:</p> <ul><li><a href="#deployment-of-a-ibax-network">Déploiement d'un réseau IBAX</a> <ul><li><a href="#an-deployment-example">Exemple de déploiement</a></li> <li><a href="#deploy-phase">Phase de déploiement</a></li> <li><a href="#server-deployment">Déploiement du serveur</a> <ul><li><a href="#deploy-the-first-node">Déploiement du premier nœud</a></li> <li><a href="#dependencies-and-environment-settings">Dépendances et paramètres d'environnement</a> <ul><li><a href="#sudo">sudo</a></li></ul></li> <li><a href="#golang">Golang</a></li> <li><a href="#postgresql">PostgreSQL</a></li> <li><a href="#centrifugo">Centrifugo</a></li> <li><a href="#directory-structure">Structure des répertoires</a></li> <li><a href="#create-a-database">Créer une base de données</a></li> <li><a href="#configure-centrifugo">Configurer Centrifugo</a></li> <li><a href="#install-go-ibax">Installer go-ibax</a></li> <li><a href="#configure-the-first-node">Configurer le premier nœud</a></li> <li><a href="#initiate-the-first-node-server">Initialiser le serveur du premier nœud</a></li></ul></li> <li><a href="#deploy-other-nodes">Déploiement des autres nœuds</a> <ul><li><a href="#node-2">Nœud 2</a></li> <li><a href="#node-3">Nœud 3</a></li></ul></li> <li><a href="#front-end-deployment">Déploiement de l'interface utilisateur</a> <ul><li><a href="#software-prerequisites">Prérequis logiciels</a></li> <li><a href="#build-a-weaver-application">Construire une application Weaver</a></li> <li><a href="#add-the-configuration-file-for-the-blockchain-network">Ajouter le fichier de configuration pour le réseau blockchain</a></li> <li><a href="#build-weaver-web-application">Construire l'application Weaver Web</a></li></ul></li> <li><a href="#configure-the-blockchain-network">Configurer le réseau blockchain</a> <ul><li><a href="#create-the-creator-account">Créer le compte créateur</a></li> <li><a href="#import-applications-roles-and-templates">Importer les applications, les rôles et les modèles</a></li> <li><a href="#add-the-first-node-to-the-node-list">Ajouter le premier nœud à la liste des nœuds</a></li></ul></li> <li><a href="#add-other-honor-nodes">Ajouter d'autres nœuds d'honneur</a> <ul><li><a href="#add-members-into-the-consensus-role-group">Ajouter des membres au groupe de rôles du consensus</a></li> <li><a href="#create-the-owner-account-for-other-nodes">Créer le compte propriétaire pour les autres nœuds</a></li> <li><a href="#assign-the-node-owner-with-the-validators-role">Assigner au propriétaire du nœud le rôle de validateur</a></li></ul></li></ul></li></ul> <h2 id="server-deployment"><a href="#server-deployment" class="header-anchor">#</a> Déploiement du serveur </h2> <h3 id="deploy-the-first-node"><a href="#deploy-the-first-node" class="header-anchor">#</a> Déployer le premier nœud </h3> <p>Le premier nœud est spécial car il est essentiel pour lancer le réseau blockchain. Le premier bloc de la blockchain est généré par le premier nœud, et tous les autres nœuds téléchargent la blockchain à partir de celui-ci. Le propriétaire du premier nœud est le créateur de la plateforme.</p> <h3 id="dependencies-and-environment-settings"><a href="#dependencies-and-environment-settings" class="header-anchor">#</a> Dépendances et paramètres de l'environnement </h3> <h4 id="sudo"><a href="#sudo" class="header-anchor">#</a> sudo </h4> <p>Toutes les commandes de Debian 9 doivent être exécutées en tant qu'utilisateur non root. Cependant, certaines commandes système nécessitent des permissions de super utilisateur pour être exécutées. Par défaut, sudo n'est pas installé sur Debian 9, vous devez l'installer d'abord.</p> <ol><li>Devenez un super utilisateur.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">su</span> -
</code></pre></div><ol start="2"><li>Mettez à jour votre système.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">apt</span> update <span class="token parameter variable">-y</span> <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> upgrade <span class="token parameter variable">-y</span> <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> dist-upgrade <span class="token parameter variable">-y</span>
</code></pre></div><ol start="3"><li>Installer sudo.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">apt</span> <span class="token function">install</span> <span class="token function">sudo</span> <span class="token parameter variable">-y</span>
</code></pre></div><ol start="4"><li>Ajoutez votre utilisateur au groupe sudo.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">usermod</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-G</span> <span class="token function">sudo</span> user
</code></pre></div><ol start="5"><li>Après le redémarrage, les modifications prennent effet.</li></ol> <h3 id="golang"><a href="#golang" class="header-anchor">#</a> Golang </h3> <p>Installez Go selon les <a href="https://golang.org/doc/install#tarball" target="_blank" rel="noopener noreferrer">Documents Officiels<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <ol><li>Téléchargez la dernière version stable de Go (&gt; 1.10.x) depuis le <a href="https://golang.org/dl/" target="_blank" rel="noopener noreferrer">site officiel de Golang<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ou via la ligne de commande :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wget</span> https://dl.google.com/go/go1.11.2.linux-amd64.tar.gz
</code></pre></div><ol start="2"><li>Utilisez tar pour extraire l'archive tar dans le répertoire <code>/usr/local</code>.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-C</span> /usr/local <span class="token parameter variable">-xzf</span> go1.11.2.linux-amd64.tar.gz
</code></pre></div><ol start="3"><li>Ajoutez <code>/usr/local/go/bin</code> aux variables d'environnement PATH (qui se trouvent dans <code>/etc/profile</code> ou <code>$HOME/.profile</code>).</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/usr/local/go/bin
</code></pre></div><ol><li>Exécutez le fichier <code>source</code> pour que les modifications prennent effet, par exemple :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">source</span> <span class="token environment constant">$HOME</span>/.profile
</code></pre></div><ol start="2"><li>Supprimer les fichiers temporaires.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">rm</span> go1.11.2.linux-amd64.tar.gz
</code></pre></div><h3 id="postgresql"><a href="#postgresql" class="header-anchor">#</a> PostgreSQL </h3> <ol><li>Installez PostgreSQL (&gt; v.10) et psql:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> postgresql
</code></pre></div><h3 id="centrifugo"><a href="#centrifugo" class="header-anchor">#</a> Centrifugo </h3> <ol><li>Téléchargez Centrifugo V.1.8.0 depuis <a href="https://github.com/centrifugal/centrifugo/releases/" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ou via la ligne de commande :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wget</span> https://github.com/centrifugal/centrifugo/releases/download/v1.8.0/centrifugo-1.8.0-linux-amd64.zip <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">unzip</span> centrifugo-1.8.0-linux-amd64.zip <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> centrifugo <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">mv</span> centrifugo-1.8.0-linux-amd64/* centrifugo/
</code></pre></div><ol start="2"><li>Supprimer les fichiers temporaires.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">rm</span> <span class="token parameter variable">-R</span> centrifugo-1.8.0-linux-amd64 <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> centrifugo-1.8.0-linux-amd64.zip
</code></pre></div><h3 id="directory-structure"><a href="#directory-structure" class="header-anchor">#</a> Structure du répertoire </h3> <p>Pour le système Debian 9, il est recommandé de stocker tous les logiciels utilisés par la plateforme blockchain dans un répertoire séparé.</p> <p>Le répertoire <code>/opt/backenddir</code> est utilisé ici, mais vous pouvez utiliser n'importe quel répertoire. Dans ce cas, veuillez modifier toutes les commandes et les fichiers de configuration en conséquence.</p> <ol><li>Créez un répertoire pour la plateforme blockchain :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> /opt/backenddir
</code></pre></div><ol start="2"><li>Faites de votre utilisateur le propriétaire du répertoire.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">chown</span> user /opt/backenddir/
</code></pre></div><ol start="3"><li>Créez des sous-répertoires pour Centrifugo, go-ibax et les données du nœud. Toutes les données du nœud sont stockées dans un répertoire nommé <code>nodeX</code>, où <code>X</code> est le numéro du nœud. Selon le nœud à déployer, <code>node1</code> est le Nœud 1, <code>node2</code> est le Nœud 2, et ainsi de suite.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> /opt/backenddir/go-ibax <span class="token punctuation">\</span>
<span class="token function">mkdir</span> /opt/backenddir/go-ibax/node1 <span class="token punctuation">\</span>
<span class="token function">mkdir</span> /opt/backenddir/centrifugo <span class="token punctuation">\</span>
</code></pre></div><h3 id="create-a-database"><a href="#create-a-database" class="header-anchor">#</a> Créer une base de données </h3> <ol><li>Changer le mot de passe utilisateur postgres au mot de passe par défaut <em>123456</em>. Vous pouvez définir votre propre mot de passe, mais vous devez le modifier dans le fichier de configuration du nœud <em>config.toml</em>.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql <span class="token parameter variable">-c</span> <span class="token string">&quot;ALTER USER postgres WITH PASSWORD '123456'&quot;</span>
</code></pre></div><ol start="2"><li>Créez une base de données d'état actuel pour le nœud, par exemple <strong>chaindb</strong> :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql <span class="token parameter variable">-c</span> <span class="token string">&quot;CREATE DATABASE chaindb&quot;</span>
</code></pre></div><h3 id="configure-centrifugo"><a href="#configure-centrifugo" class="header-anchor">#</a> Configurer Centrifugo </h3> <ol><li>Créez le fichier de configuration Centrifugo :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'{&quot;secret&quot;:&quot;CENT_SECRET&quot;}'</span> <span class="token operator">&gt;</span> /opt/backenddir/centrifugo/config.json
</code></pre></div><p>Vous pouvez définir votre propre <em>secret</em>, mais vous devez également le modifier dans le fichier de configuration du nœud <em>config.toml</em>.</p> <h3 id="install-go-ibax"><a href="#install-go-ibax" class="header-anchor">#</a> Installer go-ibax </h3> <ol><li>Téléchargez github-backend depuis GitHub :</li> <li>Copiez le fichier binaire go-ibax dans le répertoire <code>/opt/backenddir/go-ibax</code>. Si vous utilisez l'espace de travail Go par défaut, les fichiers binaires se trouvent dans le répertoire <code>$HOME/go/bin</code>.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cp</span> <span class="token environment constant">$HOME</span>/go/bin/go-ibax /opt/backenddir/go-ibax
</code></pre></div><h3 id="configure-the-first-node"><a href="#configure-the-first-node" class="header-anchor">#</a> Configure the first node </h3> <ol start="3"><li>Créez le fichier de configuration pour le Node 1 :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>/opt/backenddir/go-ibax config <span class="token punctuation">\</span>
 <span class="token parameter variable">--dataDir</span><span class="token operator">=</span>/opt/backenddir/node1 <span class="token punctuation">\</span>
 <span class="token parameter variable">--dbName</span><span class="token operator">=</span>chaindb <span class="token punctuation">\</span>
 <span class="token parameter variable">--centSecret</span><span class="token operator">=</span><span class="token string">&quot;CENT_SECRET&quot;</span> <span class="token parameter variable">--centUrl</span><span class="token operator">=</span>http://192.168.1.1:8000 <span class="token punctuation">\</span>
 <span class="token parameter variable">--httpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1 <span class="token punctuation">\</span>
 <span class="token parameter variable">--httpPort</span><span class="token operator">=</span><span class="token number">7079</span> <span class="token punctuation">\</span>
 <span class="token parameter variable">--tcpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1 <span class="token punctuation">\</span>
 <span class="token parameter variable">--tcpPort</span><span class="token operator">=</span><span class="token number">7078</span>
</code></pre></div><ol start="4"><li>Générer les clés du Node 1, y compris les clés publique et privée du nœud et du compte :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>/opt/backenddir/go-ibax generateKeys <span class="token punctuation">\</span>
 <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node1/config.toml
</code></pre></div><ol start="5"><li>Générer le premier bloc :</li></ol> <blockquote><p>Remarque</p> <p>Si vous souhaitez créer votre propre réseau blockchain, vous devez utiliser l'option <code>--test=true</code>. Sinon, vous ne pourrez pas créer de nouveau compte.</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>/opt/backenddir/go-ibax generateFirstBlock <span class="token punctuation">\</span>
 <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node1/config.toml <span class="token punctuation">\</span>
 <span class="token parameter variable">--test</span><span class="token operator">=</span>true
</code></pre></div><ol start="6"><li>Initialiser la base de données.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>/opt/backenddir/go-ibax initDatabase <span class="token punctuation">\</span>
 <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node1/config.toml
</code></pre></div><p>###Initialiser le premier serveur de nœuds </p> <p>Pour démarrer le premier serveur de nœuds, vous devez démarrer les deux services suivants :</p> <ul><li>centrifugo</li> <li>go-ibax</li></ul> <p>Si vous n'avez pas réussi à créer <a href="https://wiki.debian.org/systemd/Services" target="_blank" rel="noopener noreferrer">des services<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> avec ces fichiers, vous pouvez exécuter les fichiers binaires à partir de différents terminaux.</p> <ol><li>Exécutez centrifugo :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>/opt/backenddir/centrifugo/centrifugo <span class="token punctuation">\</span>
 <span class="token parameter variable">-a</span> <span class="token number">192.168</span>.1.1 <span class="token parameter variable">-p</span> <span class="token number">8000</span> <span class="token punctuation">\</span>
 <span class="token parameter variable">--config</span> /opt/backenddir/centrifugo/config.json
</code></pre></div><ol start="2"><li>Exécutez go-ibax:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>/opt/backenddir/go-ibax start <span class="token punctuation">\</span>
 <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node1/config.toml
</code></pre></div><h2 id="deploy-other-nodes"><a href="#deploy-other-nodes" class="header-anchor">#</a> Déployer d'autres nœuds </h2> <p>Bien que le déploiement de tous les autres nœuds (Nœud 2 et Nœud 3) soit similaire au premier, il existe trois différences :</p> <ul><li>Vous n'avez pas besoin de générer le premier bloc. Mais il doit être copié depuis le répertoire de données du nœud 1 vers le nœud actuel ;</li> <li>Le nœud doit télécharger les blocs depuis le nœud 1 en configurant l'option <code>--nodesAddr</code> ;</li> <li>Le nœud doit utiliser ses propres adresses et ports.</li></ul> <h3 id="node-2"><a href="#node-2" class="header-anchor">#</a> Noeud 2 </h3> <p>Suivez les instructions opérationnelles indiquées ci-dessous :</p> <ol><li><a href="#dependencies-and-environment-settings">Dépendances et paramètres d'environnement</a></li> <li><a href="#create-a-database">Créer une base de données</a></li> <li><a href="#centrifugo">Centrifugo</a></li> <li><a href="#install-go-ibax">Installer go-ibax</a></li> <li>Créer le fichier de configuration pour le Node 2 :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> /opt/backenddir/go-ibax config <span class="token punctuation">\</span>
<span class="token parameter variable">--dataDir</span><span class="token operator">=</span>/opt/backenddir/node2 <span class="token punctuation">\</span>
<span class="token parameter variable">--dbName</span><span class="token operator">=</span>chaindb <span class="token punctuation">\</span>
<span class="token parameter variable">--centSecret</span><span class="token operator">=</span><span class="token string">&quot;CENT_SECRET&quot;</span> <span class="token parameter variable">--centUrl</span><span class="token operator">=</span>http://192.168.1.2:8000 <span class="token punctuation">\</span>
<span class="token parameter variable">--httpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.2 <span class="token punctuation">\</span>
<span class="token parameter variable">--httpPort</span><span class="token operator">=</span><span class="token number">7079</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--tcpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.2 <span class="token punctuation">\</span>
<span class="token parameter variable">--tcpPort</span><span class="token operator">=</span><span class="token number">7078</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--nodesAddr</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1
</code></pre></div><ol start="6"><li>Copiez le premier fichier de bloc vers le Node 2. Par exemple, vous pouvez effectuer cette opération sur le Node 2 via scp :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> <span class="token function">scp</span> user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node2/
</code></pre></div><ol start="7"><li>Générer les clés de Node 2, y compris les clés publique et privée du nœud et du compte :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> /opt/backenddir/go-ibax generateKeys <span class="token punctuation">\</span>
<span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node2/config.toml
</code></pre></div><ol start="8"><li>Initialiser la base de données.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> ./go-ibax initDatabase --config<span class="token punctuation">\</span><span class="token operator">=</span>node2/config.toml
</code></pre></div><ol start="9"><li>Exécutez centrifugo:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>/opt/backenddir/centrifugo/centrifugo <span class="token punctuation">\</span>
<span class="token parameter variable">-a</span> <span class="token number">192.168</span>.1.2 <span class="token parameter variable">-p</span> <span class="token number">8000</span> <span class="token punctuation">\</span>
--config/opt/backenddir/centrifugo/config.json
</code></pre></div><ol start="10"><li>Exécutez go-ibax:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>/opt/backenddir/go-ibax start <span class="token punctuation">\</span>
 <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node2/config.toml
</code></pre></div><p>En conséquence, le nœud télécharge le bloc à partir du premier nœud. Comme ce nœud n'est pas un nœud de vérification, il ne peut pas générer un nouveau bloc. Le nœud 2 sera ajouté ultérieurement à la liste des nœuds de vérification.</p> <h3 id="node-3"><a href="#node-3" class="header-anchor">#</a> Noeud 3{#node-3}</h3> <p>Suivez les instructions opérationnelles indiquées ci-dessous :</p> <ol><li><p><a href="#dependencies-and-environment-settings">Dépendances et paramètres d'environnement</a></p></li> <li><p><a href="#create-a-database">Créer une base de données</a></p></li> <li><p><a href="#centrifugo">Centrifugo</a></p></li> <li><p><a href="#install-go-ibax">Installer go-ibax</a></p></li> <li><p>Créer le fichier de configuration pour le nœud 3 :</p></li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> /opt/backenddir/go-ibax config <span class="token punctuation">\</span>
<span class="token parameter variable">--dataDir</span><span class="token operator">=</span>/opt/backenddir/node3 <span class="token punctuation">\</span>
<span class="token parameter variable">--dbName</span><span class="token operator">=</span>chaindb <span class="token punctuation">\</span>
<span class="token parameter variable">--centSecret</span><span class="token operator">=</span><span class="token string">&quot;CENT_SECRET&quot;</span> <span class="token parameter variable">--centUrl</span><span class="token operator">=</span>http://192.168.1.3:8000 <span class="token punctuation">\</span>
<span class="token parameter variable">--httpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.3 <span class="token punctuation">\</span>
<span class="token parameter variable">--httpPort</span><span class="token operator">=</span><span class="token number">7079</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--tcpHost</span><span class="token operator">=</span><span class="token number">192.168</span>.1.3 <span class="token punctuation">\</span>
<span class="token parameter variable">--tcpPort</span><span class="token operator">=</span><span class="token number">7078</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--nodesAddr</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1
</code></pre></div><ol start="6"><li>Copiez le premier fichier de bloc vers le Node 3. Par exemple, vous pouvez effectuer cette opération sur le Node 3 via scp :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> <span class="token function">scp</span> user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node3/
</code></pre></div><ol start="7"><li>Générer la clé du Node 3, comprenant les clés publique et privée du nœud ainsi que du compte :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> /opt/backenddir/go-ibax generateKeys <span class="token punctuation">\</span>
<span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node3/config.toml
</code></pre></div><ol start="8"><li>Initialiser la base de données.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> ./go-ibax initDatabase <span class="token parameter variable">--config</span><span class="token operator">=</span>node3/config.toml
</code></pre></div><ol start="9"><li>Exécutez centrifugo:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> /opt/backenddir/centrifugo/centrifugo <span class="token punctuation">\</span>
<span class="token parameter variable">-a</span> <span class="token number">192.168</span>.1.3 <span class="token parameter variable">-p</span> <span class="token number">8000</span> <span class="token punctuation">\</span>
--config/opt/backenddir/centrifugo/config.json
</code></pre></div><ol start="10"><li>Exécutez go-ibax:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code> /opt/backenddir/go-ibax start <span class="token punctuation">\</span>
 <span class="token parameter variable">--config</span><span class="token operator">=</span>/opt/backenddir/node3/config.toml
</code></pre></div><p>En conséquence, le nœud télécharge le bloc à partir du premier nœud. Comme ce nœud n'est pas un nœud de vérification, il ne peut pas générer un nouveau bloc. Le client peut être connecté au nœud et peut envoyer des transactions au réseau.</p> <h2 id="front-end-deployment"><a href="#front-end-deployment" class="header-anchor">#</a> Déploiement front-end </h2> <p>Seulement après avoir installé <strong>GNOME GUI</strong> sur Debian 9 (Stretch) 64-bit Official Release, le client Govis peut être construit avec le gestionnaire de paquets <code>yarn</code>.</p> <h3 id="software-prerequisites"><a href="#software-prerequisites" class="header-anchor">#</a> Prérequis logiciels </h3> <ol><li>Téléchargez la version LTS 8.11 de Node.js depuis le site officiel de Node.js ou via la ligne de commande :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span> <span class="token parameter variable">-sL</span> https://deb.nodesource.com/setup_8.x <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token parameter variable">-E</span> <span class="token function">bash</span>
</code></pre></div><ol start="2"><li>Installer Node.js:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> nodejs
</code></pre></div><ol><li>Téléchargez la version 1.7.0 de Yarn à partir du dépôt <a href="https://github.com/yarnpkg/yarn/releases" target="_blank" rel="noopener noreferrer">Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> de Yarn ou via la ligne de commande :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>cd/opt/backenddir <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">wget</span> https://github.com/yarnpkg/yarn/releases/download/v1.7.0/yarn_1.7.0_all.deb
</code></pre></div><ol start="2"><li>Installer Yarn:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> yarn_1.7.0_all.deb <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> yarn_1.7.0_all.deb
</code></pre></div><h3 id="build-a-weaver-application"><a href="#build-a-weaver-application" class="header-anchor">#</a> Créez une application Weaver </h3> <ol><li>Téléchargez la dernière version de Weaver depuis github-frontend via git :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>cd/opt/backenddir <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">git</span> clone https://github.com/ibax-io/ibax-front.git
</code></pre></div><ol start="2"><li>Installer les dépendances de Weaver via Yarn:</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>cd/opt/backenddir/ibax-front/ <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> <span class="token function">install</span>
</code></pre></div><h3 id="add-the-configuration-file-for-the-blockchain-network"><a href="#add-the-configuration-file-for-the-blockchain-network" class="header-anchor">#</a> Ajoutez le fichier de configuration pour le réseau blockchain. </h3> <ol><li>Créez un fichier <em>settings.json</em> qui contient des informations sur la connexion du nœud :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>cp/opt/backenddir/ibax-front/public/settings.json.dist <span class="token punctuation">\</span>
 /opt/backenddir/ibax-front/public/public/settings.json
</code></pre></div><ol start="2"><li>Modifiez le fichier <em>settings.json</em> dans n'importe quel éditeur de texte et ajoutez les paramètres requis dans ce format :</li></ol> <div class="language- extra-class"><pre class="language-text"><code>http://Node_IP-address:Node_HTTP-Port
</code></pre></div><p>Exemples de fichiers <em>settings.json</em> pour les trois nœuds :</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;fullNodes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;http://192.168.1.1:7079&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;http://192.168.1.2:7079&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;http://192.168.1.3:7079&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Construire une application de bureau Weaver</p> <ol><li>Utilisez yarn pour construire la version de bureau :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>cd/opt/backenddir/ibax-front <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> build-desktop
</code></pre></div><ol start="2"><li>La version de bureau sera empaquetée dans le format de suffixe AppImage.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">yarn</span> release <span class="token parameter variable">--publish</span> never <span class="token parameter variable">-l</span>
</code></pre></div><p>Après la construction, votre application peut être utilisée, mais sa configuration de connexion ne peut pas être modifiée. Si ces paramètres doivent être modifiés, une nouvelle version de l'application doit être construite.</p> <h3 id="build-weaver-web-application"><a href="#build-weaver-web-application" class="header-anchor">#</a> Construire une application web Weaver </h3> <ol><li>Créez une application web.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>cd/opt/backenddir/ibax-front/ <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> build
</code></pre></div><p>Après la construction, les fichiers redistribuables seront placés dans le répertoire /build. Vous pouvez utiliser n'importe quel serveur web de votre choix pour le déploiement, et le fichier <em>settings.json</em> doit également être placé dans ce répertoire. Notez que si les paramètres de connexion sont modifiés, il n'est pas nécessaire de reconstruire l'application. Au lieu de cela, modifiez le fichier <em>settings.json</em> et redémarrez le serveur web.</p> <ol><li>À des fins de développement ou de test, vous pouvez construire le serveur web de Yarn :</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">yarn</span> global <span class="token function">add</span> serve <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> serve <span class="token parameter variable">-s</span> build
</code></pre></div><p>Après cela, votre application web Weaver sera disponible à l'adresse suivante : <code>http://localhost:5000</code>.</p> <h2 id="configure-the-blockchain-network"><a href="#configure-the-blockchain-network" class="header-anchor">#</a> Configurer le réseau blockchain </h2> <h3 id="create-the-creator-account"><a href="#create-the-creator-account" class="header-anchor">#</a> Créez le compte créateur </h3> <p>Créez un compte pour le propriétaire du premier nœud. Ce compte est le créateur de la nouvelle plateforme blockchain et a un accès administrateur.</p> <ol><li><p>Lancez Weaver;</p></li> <li><p>Importez le compte existant en utilisant les données suivantes:</p> <ul><li>Chargez la sauvegarde de la clé privée du propriétaire du nœud située dans le fichier <code>/opt/backenddir/node1/PrivateKey</code>.</li></ul></li></ol> <blockquote><p>Remarque</p> <p>Il y a deux fichiers de clé privée dans ce répertoire. Le fichier <code>PrivateKey</code> est utilisé pour créer le compte du propriétaire du nœud. Le fichier <code>NodePrivateKey</code> est la clé privée du nœud lui-même et doit être gardé secret.</p></blockquote> <ol start="3"><li>Après vous être connecté à votre compte, puisqu'aucun rôle n'a été créé pour le moment, veuillez sélectionner l'option Sans rôle.</li></ol> <h3 id="import-applications-roles-and-templates"><a href="#import-applications-roles-and-templates" class="header-anchor">#</a> Importer des applications, des rôles et des modèles </h3> <p>À l'heure actuelle, la plateforme blockchain est dans un état vierge. Vous pouvez la configurer en ajoutant des rôles, des modèles et des frameworks d'application qui prennent en charge les fonctions de base de l'écosystème.</p> <ol><li>Clonez le dépôt de l'application ;</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>cd/opt/backenddir <span class="token punctuation">\</span>
<span class="token operator">&amp;&amp;</span> <span class="token function">git</span> clone https://github.com/ibax-io/dapps.git
</code></pre></div><ol start="2"><li><p>Accédez à Développeur &gt; Importer dans Weaver;</p></li> <li><p>Importez les applications dans l'ordre suivant:</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code> A./opt/backenddir/dapps/system.json 
 B./opt/backenddir/dapps/conditions.json 
 C./opt/backenddir/dapps/basic.json 
 D./opt/backenddir/dapps/lang_res.json
</code></pre></div><ol start="4"><li><p>Accédez à Admin&gt; Rôle, et cliquez sur Installer le rôle par défaut ;</p></li> <li><p>Quittez le système via le menu du fichier de configuration dans le coin supérieur droit ;</p></li> <li><p>Connectez-vous au système en tant qu'administrateur ;</p></li> <li><p>Accédez à Accueil&gt; Vote&gt; Liste des modèles, et cliquez sur Installer le modèle par défaut.</p></li></ol> <h3 id="add-the-first-node-to-the-node-list"><a href="#add-the-first-node-to-the-node-list" class="header-anchor">#</a> Ajoutez le premier nœud à la liste des nœuds </h3> <ol><li><p>Accédez à Développeur&gt; Paramètres de la plateforme, et cliquez sur le paramètre first_nodes;</p></li> <li><p>Spécifiez les paramètres du premier nœud du réseau blockchain.</p></li></ol> <ul><li>public_key - La clé publique du nœud se trouve dans le fichier <code>/opt/backenddir/node1/NodePublicKey</code>.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{&quot;api_address&quot;:&quot;http://192.168.1.1:7079&quot;,&quot;public_key&quot;:&quot;%node_public_key%&quot;,&quot;tcp_address&quot;:&quot;192.168.1.1:7078&quot;}
</code></pre></div><h2 id="add-other-honor-nodes"><a href="#add-other-honor-nodes" class="header-anchor">#</a> Ajoutez d'autres nœuds d'honneur </h2> <h3 id="add-members-into-the-consensus-role-group"><a href="#add-members-into-the-consensus-role-group" class="header-anchor">#</a> Ajouter des membres dans le groupe de rôle de consensus </h3> <p>Par défaut, seuls les membres du groupe de rôle Consensus peuvent participer au vote nécessaire pour ajouter d'autres nœuds principaux. Cela signifie qu'avant d'ajouter un nouveau nœud principal, les membres de l'écosystème doivent être assignés au rôle.
Dans cette section, le compte du créateur est désigné comme le seul membre du groupe de rôle Consensus. Dans un environnement de production, ce rôle doit être attribué aux membres de la plateforme qui exercent la gouvernance.</p> <ol><li><p>Accédez à Accueil &gt; Rôle et cliquez sur Consensus ;</p></li> <li><p>Cliquez sur Assigner pour attribuer le compte du créateur au rôle.</p></li></ol> <h3 id="create-the-owner-account-for-other-nodes"><a href="#create-the-owner-account-for-other-nodes" class="header-anchor">#</a> Créez le compte propriétaire pour les autres nœuds. </h3> <ol><li><p>Exécutez Weaver;</p></li> <li><p>Importez le compte existant en utilisant les données suivantes:</p> <ul><li>Chargez la sauvegarde de la clé privée du propriétaire du nœud située dans le fichier <code>/opt/backenddir/node2/PrivateKey</code>.</li></ul></li> <li><p>Après vous être connecté au compte, puisqu'aucun rôle n'a été créé à ce moment-là, veuillez sélectionner l'option Sans rôle.</p></li> <li><p>Accédez à Accueil&gt; Informations personnelles, et cliquez sur le titre des informations personnelles;</p></li> <li><p>Ajoutez les détails du compte (titre des informations personnelles, description, etc.).</p></li></ol> <h3 id="assign-the-node-owner-with-the-validators-role"><a href="#assign-the-node-owner-with-the-validators-role" class="header-anchor">#</a> Attribuer le propriétaire du nœud au rôle de Validateur. </h3> <ol><li>Opérations par le nouveau propriétaire du nœud :
<ol><li>Accédez à Accueil&gt; Vérificateur ;</li> <li>Cliquez sur Créer une demande et remplissez le formulaire de candidature du vérificateur ;</li> <li>Cliquez sur envoyer la demande.</li></ol></li> <li>Opérations par le créateur :
<ol><li>Connectez-vous avec un rôle de consensus (Consensus) ;</li> <li>Accédez à Accueil&gt; Vérificateur ;</li> <li>Cliquez sur l'icône &quot;Lecture&quot; pour commencer le vote selon la demande du candidat ;</li> <li>Accédez à Accueil &gt; Vote, et cliquez sur Mettre à jour le statut du vote ;</li> <li>Cliquez sur le nom du vote et votez pour le propriétaire du nœud.</li></ol></li></ol> <p>En conséquence, le compte du propriétaire du nouveau nœud est attribué au rôle de validateur, et le nouveau nœud est ajouté à la liste des nœuds principaux.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/IBAX-io/documentation/edit/master/docs/fr/howtos/deployment.md" target="_blank" rel="noopener noreferrer">Modifier cette page sur GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Dernière mise à jour:</span> <span class="time">06/07/2023 18:59:03</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d049f7ab.js" defer></script><script src="/assets/js/2.8d94a0db.js" defer></script><script src="/assets/js/55.ccf241d0.js" defer></script>
  </body>
</html>
