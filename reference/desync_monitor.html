<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Synchronized Monitoring Tool | IBAX Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" size="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" size="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" size="16x16" href="/favicon-16x16.png">
    <link rel="mask-icon" color="#5bbad5" href="/safari-pinned-tab.svg">
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="description" content="A Decentralized Commercial Cross-Chain infrastructure Network">
    
    <link rel="preload" href="/assets/css/0.styles.844a2aa8.css" as="style"><link rel="preload" href="/assets/js/app.c5ccf588.js" as="script"><link rel="preload" href="/assets/js/2.90262bec.js" as="script"><link rel="preload" href="/assets/js/21.433e561a.js" as="script"><link rel="prefetch" href="/assets/js/10.e4ed4d02.js"><link rel="prefetch" href="/assets/js/11.93cd0f88.js"><link rel="prefetch" href="/assets/js/12.b8019312.js"><link rel="prefetch" href="/assets/js/13.8b736cbb.js"><link rel="prefetch" href="/assets/js/14.2ba9bcca.js"><link rel="prefetch" href="/assets/js/15.9e9d7c99.js"><link rel="prefetch" href="/assets/js/16.3b816ac5.js"><link rel="prefetch" href="/assets/js/17.b8153a50.js"><link rel="prefetch" href="/assets/js/18.6bd6dc38.js"><link rel="prefetch" href="/assets/js/19.02c6648c.js"><link rel="prefetch" href="/assets/js/20.a2d066bc.js"><link rel="prefetch" href="/assets/js/22.eb40950e.js"><link rel="prefetch" href="/assets/js/23.afbae736.js"><link rel="prefetch" href="/assets/js/24.c3f3bf36.js"><link rel="prefetch" href="/assets/js/25.a19a69ce.js"><link rel="prefetch" href="/assets/js/26.073cb33b.js"><link rel="prefetch" href="/assets/js/27.896e12cb.js"><link rel="prefetch" href="/assets/js/28.e69d5318.js"><link rel="prefetch" href="/assets/js/3.24ca142f.js"><link rel="prefetch" href="/assets/js/4.1e8ca44e.js"><link rel="prefetch" href="/assets/js/5.50ebf2b0.js"><link rel="prefetch" href="/assets/js/6.b72a56bb.js"><link rel="prefetch" href="/assets/js/7.d378343f.js"><link rel="prefetch" href="/assets/js/8.2db6f51a.js"><link rel="prefetch" href="/assets/js/9.2887ff06.js">
    <link rel="stylesheet" href="/assets/css/0.styles.844a2aa8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/ibax.ico" alt="IBAX Documentation" class="logo"> <span class="site-name can-hide">IBAX Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/concepts/blockchain-layers.html" class="nav-link">
  Concept
</a></div><div class="nav-item"><a href="/tutorials/app_tutorial.html" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/topics/templates2.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/reference/api2.html" class="nav-link">
  Reference
</a></div><div class="nav-item"><a href="/howtos/deployment.html" class="nav-link">
  Deployment
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reference/desync_monitor.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li><li class="dropdown-item"><!----> <a href="/es/" class="nav-link">
  Español
</a></li><li class="dropdown-item"><!----> <a href="/fr/" class="nav-link">
  Français
</a></li><li class="dropdown-item"><!----> <a href="/it/" class="nav-link">
  Italiano
</a></li><li class="dropdown-item"><!----> <a href="/ja/" class="nav-link">
  日本語
</a></li></ul></div></div> <a href="https://github.com/IBAX-io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/concepts/blockchain-layers.html" class="nav-link">
  Concept
</a></div><div class="nav-item"><a href="/tutorials/app_tutorial.html" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/topics/templates2.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/reference/api2.html" class="nav-link">
  Reference
</a></div><div class="nav-item"><a href="/howtos/deployment.html" class="nav-link">
  Deployment
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reference/desync_monitor.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/de/" class="nav-link">
  Deutsch
</a></li><li class="dropdown-item"><!----> <a href="/es/" class="nav-link">
  Español
</a></li><li class="dropdown-item"><!----> <a href="/fr/" class="nav-link">
  Français
</a></li><li class="dropdown-item"><!----> <a href="/it/" class="nav-link">
  Italiano
</a></li><li class="dropdown-item"><!----> <a href="/ja/" class="nav-link">
  日本語
</a></li></ul></div></div> <a href="https://github.com/IBAX-io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reference/api2.html" class="sidebar-link">RESTful API v2</a></li><li><a href="/reference/desync_monitor.html" aria-current="page" class="active sidebar-link">Synchronized Monitoring Tool</a></li><li><a href="/reference/platform-parameters.html" class="sidebar-link">Platform Parameters</a></li><li><a href="/reference/backend-config.html" class="sidebar-link">Server Configuration File</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="synchronized-monitoring-tool"><a href="#synchronized-monitoring-tool" class="header-anchor">#</a> Synchronized Monitoring Tool</h1> <p>Desync_monitor is a special tool that can be used to verify whether the database on the specified node has been synchronized.</p> <p>The tool can be used as a daemon or can be started to perform a one-time check.</p> <p>The operating principle of the tool is based on the following:</p> <p>1.Each block contains the hash of all changes of all transactions, request the specified node to provide its last block ID;
2.Then request a block with this ID from all nodes and compare the above hashes;
3.If the hashes are different, a synchronization error message will be sent to the email address specified in the command.
Location
The tool is located in the tools/desync_monitor/ directory.
Command prompt flags
The following flags can be used from the command prompt:</p> <ul><li>confPath - Path of the configuration file. The default file name is config.toml;</li> <li>nodesList - Node list of the requested block, separated by commas. The default is 127.0.0.1:7079;</li> <li>daemonMode - Started as a daemon and should be used when authentication is required every N seconds. This flag is set to false by default;</li> <li>queryingPeriod - If the tool is started as a daemon, this parameter sets the time interval (in seconds) between checks, 1 second by default.</li> <li>alertMessageTo – The email address to which synchronization warning errors will be sent.
–alertMessageSubj - Message subject in the warning message, the node synchronization problem by default;
–alertMessageFrom - Address where the message was sent.
–smtpHost - SMTP server host, used to send emails, the &quot;&quot; by default;
–smtpPort - SMTP server port, used to send email messages, 25 by default;
–smtpUsername - SMTP server username, &quot;&quot; by default;
–smtpPassword - SMTP server password, &quot;&quot; by default.
Configuration
The tool uses a configuration file in toml format.
By default, it will look for the config.toml file in the folder where to start up the binary file.
The file path can be changed with the configPath flag.
nodes_list = [&quot;http://127.0.0.1:7079&quot;, &quot;http://127.0.0.1:7002&quot;]
[daemon]
daemon = false
querying_period = 1
[alert_message]
to = &quot;&quot;
subject = &quot;problem with xxx nodes&quot;
from = &quot;&quot;
[smtp]
host = &quot;&quot;
port = 25
username = &quot;&quot;
password = &quot;&quot;
nodes_list</li> <li>nodes_list - List of nodes (hosts) requesting information.
[daemon]
Configuration of the daemon mode.</li> <li>daemon_mode – A tool works as a daemon and performs synchronization checks.</li> <li>querying_period - Time interval between synchronization checks.
[alert_message]
Warning message parameters.</li> <li>to - recipient's e-mail of synchronization error warning messages;</li> <li>subject - message subject;</li> <li>from - sender's e-mail.
[smtp]
Simple Mail Transfer Protocol (SMTP) server parameters, used to send synchronization error messages.</li> <li>host – SMTP server hose;</li> <li>port –SMTP server port;</li> <li>username – SMTP server user name;</li> <li>password –SMTP server password;</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/IBAX-io/documentation/edit/master/docs/reference/desync_monitor.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/28/2021, 6:36:37 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/reference/api2.html" class="prev">
        RESTful API v2
      </a></span> <span class="next"><a href="/reference/platform-parameters.html">
        Platform Parameters
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c5ccf588.js" defer></script><script src="/assets/js/2.90262bec.js" defer></script><script src="/assets/js/21.433e561a.js" defer></script>
  </body>
</html>
