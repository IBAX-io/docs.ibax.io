<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Intelligente Verträge | IBAX Dokumentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" size="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" size="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" size="16x16" href="/favicon-16x16.png">
    <link rel="mask-icon" color="#5bbad5" href="/safari-pinned-tab.svg">
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="description" content="Ein dezentralisiertes kommerzielles kettenübergreifendes Infrastrukturnetzwerk">
    
    <link rel="preload" href="/assets/css/0.styles.7f0f2da6.css" as="style"><link rel="preload" href="/assets/js/app.ed2354d3.js" as="script"><link rel="preload" href="/assets/js/2.14a295a1.js" as="script"><link rel="preload" href="/assets/js/26.57296ca7.js" as="script"><link rel="prefetch" href="/assets/js/10.a104077a.js"><link rel="prefetch" href="/assets/js/100.dcda4418.js"><link rel="prefetch" href="/assets/js/101.3f002483.js"><link rel="prefetch" href="/assets/js/102.cd09eeac.js"><link rel="prefetch" href="/assets/js/103.16fa40de.js"><link rel="prefetch" href="/assets/js/104.8698471e.js"><link rel="prefetch" href="/assets/js/105.2db9a241.js"><link rel="prefetch" href="/assets/js/106.d34f9773.js"><link rel="prefetch" href="/assets/js/107.b7bef053.js"><link rel="prefetch" href="/assets/js/108.95e66204.js"><link rel="prefetch" href="/assets/js/109.e903b5a2.js"><link rel="prefetch" href="/assets/js/11.02a59c96.js"><link rel="prefetch" href="/assets/js/110.4114438c.js"><link rel="prefetch" href="/assets/js/111.19b4aae0.js"><link rel="prefetch" href="/assets/js/112.c9503c25.js"><link rel="prefetch" href="/assets/js/113.fc4cffc4.js"><link rel="prefetch" href="/assets/js/114.59f7a81c.js"><link rel="prefetch" href="/assets/js/115.d42ba1ec.js"><link rel="prefetch" href="/assets/js/116.bd5b4011.js"><link rel="prefetch" href="/assets/js/117.9d52ab3d.js"><link rel="prefetch" href="/assets/js/118.f513f593.js"><link rel="prefetch" href="/assets/js/119.078cd29d.js"><link rel="prefetch" href="/assets/js/12.ce6d8e00.js"><link rel="prefetch" href="/assets/js/120.017e1c20.js"><link rel="prefetch" href="/assets/js/121.cec73b04.js"><link rel="prefetch" href="/assets/js/122.8dff3a57.js"><link rel="prefetch" href="/assets/js/123.d7928c13.js"><link rel="prefetch" href="/assets/js/124.e3732c93.js"><link rel="prefetch" href="/assets/js/125.e0b91456.js"><link rel="prefetch" href="/assets/js/126.6718f6ab.js"><link rel="prefetch" href="/assets/js/127.3b445fcd.js"><link rel="prefetch" href="/assets/js/128.b29f5cf2.js"><link rel="prefetch" href="/assets/js/129.eeddd15b.js"><link rel="prefetch" href="/assets/js/13.32bb9e8c.js"><link rel="prefetch" href="/assets/js/130.dcc3b606.js"><link rel="prefetch" href="/assets/js/131.0ce33a04.js"><link rel="prefetch" href="/assets/js/132.db5ef214.js"><link rel="prefetch" href="/assets/js/133.33afab4d.js"><link rel="prefetch" href="/assets/js/134.84f28a6f.js"><link rel="prefetch" href="/assets/js/135.7858dd33.js"><link rel="prefetch" href="/assets/js/136.79fa1a1e.js"><link rel="prefetch" href="/assets/js/137.d48f478a.js"><link rel="prefetch" href="/assets/js/138.bd6c2fd9.js"><link rel="prefetch" href="/assets/js/139.6ee53aa4.js"><link rel="prefetch" href="/assets/js/14.d492bd0f.js"><link rel="prefetch" href="/assets/js/140.ab030c6a.js"><link rel="prefetch" href="/assets/js/141.b71bc8c6.js"><link rel="prefetch" href="/assets/js/142.837769b4.js"><link rel="prefetch" href="/assets/js/143.a934de75.js"><link rel="prefetch" href="/assets/js/144.33bc1488.js"><link rel="prefetch" href="/assets/js/145.ce11df15.js"><link rel="prefetch" href="/assets/js/146.da6f9125.js"><link rel="prefetch" href="/assets/js/147.e3e6894e.js"><link rel="prefetch" href="/assets/js/148.aba3ae3a.js"><link rel="prefetch" href="/assets/js/149.273acb61.js"><link rel="prefetch" href="/assets/js/15.04e9cdd9.js"><link rel="prefetch" href="/assets/js/150.1537541e.js"><link rel="prefetch" href="/assets/js/16.1a8393dc.js"><link rel="prefetch" href="/assets/js/17.abddf148.js"><link rel="prefetch" href="/assets/js/18.1cff6c24.js"><link rel="prefetch" href="/assets/js/19.0e2cfbc3.js"><link rel="prefetch" href="/assets/js/20.01e8066c.js"><link rel="prefetch" href="/assets/js/21.4776481c.js"><link rel="prefetch" href="/assets/js/22.39b444af.js"><link rel="prefetch" href="/assets/js/23.2892f1bb.js"><link rel="prefetch" href="/assets/js/24.57e15656.js"><link rel="prefetch" href="/assets/js/25.08e6622a.js"><link rel="prefetch" href="/assets/js/27.bb3cd6a8.js"><link rel="prefetch" href="/assets/js/28.d2dff34a.js"><link rel="prefetch" href="/assets/js/29.8f845fe9.js"><link rel="prefetch" href="/assets/js/3.8d28154b.js"><link rel="prefetch" href="/assets/js/30.ea0e974b.js"><link rel="prefetch" href="/assets/js/31.4b4c7d4b.js"><link rel="prefetch" href="/assets/js/32.067561ac.js"><link rel="prefetch" href="/assets/js/33.29e9d8fb.js"><link rel="prefetch" href="/assets/js/34.789ca12e.js"><link rel="prefetch" href="/assets/js/35.2b42f8e4.js"><link rel="prefetch" href="/assets/js/36.fba2560a.js"><link rel="prefetch" href="/assets/js/37.d9363eaf.js"><link rel="prefetch" href="/assets/js/38.d62d2f87.js"><link rel="prefetch" href="/assets/js/39.d32d57ec.js"><link rel="prefetch" href="/assets/js/4.79290685.js"><link rel="prefetch" href="/assets/js/40.c1393e87.js"><link rel="prefetch" href="/assets/js/41.04c6038d.js"><link rel="prefetch" href="/assets/js/42.905da8ae.js"><link rel="prefetch" href="/assets/js/43.19649e28.js"><link rel="prefetch" href="/assets/js/44.b0f6b8e9.js"><link rel="prefetch" href="/assets/js/45.5d19e959.js"><link rel="prefetch" href="/assets/js/46.8687d0eb.js"><link rel="prefetch" href="/assets/js/47.aff2b61b.js"><link rel="prefetch" href="/assets/js/48.f154ba5f.js"><link rel="prefetch" href="/assets/js/49.dc83ea0d.js"><link rel="prefetch" href="/assets/js/5.50ebf2b0.js"><link rel="prefetch" href="/assets/js/50.f38bbdae.js"><link rel="prefetch" href="/assets/js/51.229db107.js"><link rel="prefetch" href="/assets/js/52.63b36668.js"><link rel="prefetch" href="/assets/js/53.96aace2f.js"><link rel="prefetch" href="/assets/js/54.58c1c613.js"><link rel="prefetch" href="/assets/js/55.d9ffd6d6.js"><link rel="prefetch" href="/assets/js/56.f888d1d5.js"><link rel="prefetch" href="/assets/js/57.df15705e.js"><link rel="prefetch" href="/assets/js/58.e749d9b2.js"><link rel="prefetch" href="/assets/js/59.b36e04a6.js"><link rel="prefetch" href="/assets/js/6.b72a56bb.js"><link rel="prefetch" href="/assets/js/60.b2e91e30.js"><link rel="prefetch" href="/assets/js/61.692e75d6.js"><link rel="prefetch" href="/assets/js/62.5a57fa28.js"><link rel="prefetch" href="/assets/js/63.648d2341.js"><link rel="prefetch" href="/assets/js/64.33fca94f.js"><link rel="prefetch" href="/assets/js/65.13440155.js"><link rel="prefetch" href="/assets/js/66.de8e5b74.js"><link rel="prefetch" href="/assets/js/67.b3bfcbbe.js"><link rel="prefetch" href="/assets/js/68.70e1fec1.js"><link rel="prefetch" href="/assets/js/69.59a1ff4e.js"><link rel="prefetch" href="/assets/js/7.97328cfb.js"><link rel="prefetch" href="/assets/js/70.d08c86af.js"><link rel="prefetch" href="/assets/js/71.a3d3f1cd.js"><link rel="prefetch" href="/assets/js/72.03370bd4.js"><link rel="prefetch" href="/assets/js/73.a5e6fbb3.js"><link rel="prefetch" href="/assets/js/74.3ed5a665.js"><link rel="prefetch" href="/assets/js/75.ddf691ed.js"><link rel="prefetch" href="/assets/js/76.20b05096.js"><link rel="prefetch" href="/assets/js/77.2586d174.js"><link rel="prefetch" href="/assets/js/78.3fb56785.js"><link rel="prefetch" href="/assets/js/79.fec1765f.js"><link rel="prefetch" href="/assets/js/8.500d8954.js"><link rel="prefetch" href="/assets/js/80.d5974e7f.js"><link rel="prefetch" href="/assets/js/81.c70e41a0.js"><link rel="prefetch" href="/assets/js/82.ffbae7df.js"><link rel="prefetch" href="/assets/js/83.b2ae7c60.js"><link rel="prefetch" href="/assets/js/84.e36356eb.js"><link rel="prefetch" href="/assets/js/85.3341d558.js"><link rel="prefetch" href="/assets/js/86.92e9c8e8.js"><link rel="prefetch" href="/assets/js/87.32878110.js"><link rel="prefetch" href="/assets/js/88.ddffedd6.js"><link rel="prefetch" href="/assets/js/89.0715a479.js"><link rel="prefetch" href="/assets/js/9.caae5b5a.js"><link rel="prefetch" href="/assets/js/90.7aed6c12.js"><link rel="prefetch" href="/assets/js/91.7ca1606c.js"><link rel="prefetch" href="/assets/js/92.3726c36e.js"><link rel="prefetch" href="/assets/js/93.9b6ae4dd.js"><link rel="prefetch" href="/assets/js/94.cf9dd272.js"><link rel="prefetch" href="/assets/js/95.dc1f3866.js"><link rel="prefetch" href="/assets/js/96.7d2e294a.js"><link rel="prefetch" href="/assets/js/97.3c6e04b7.js"><link rel="prefetch" href="/assets/js/98.32aeff0a.js"><link rel="prefetch" href="/assets/js/99.c50280d4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7f0f2da6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/de/" class="home-link router-link-active"><img src="/ibax.ico" alt="IBAX Dokumentation" class="logo"> <span class="site-name can-hide">IBAX Dokumentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/de/concepts/about-the-platform.html" class="nav-link">
  Konzept
</a></div><div class="nav-item"><a href="/de/tutorials/app_tutorial.html" class="nav-link">
  Lernprogramm
</a></div><div class="nav-item"><a href="/de/topics/script.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Handbuch
</a></div><div class="nav-item"><a href="/de/reference/api2.html" class="nav-link">
  Referenz
</a></div><div class="nav-item"><a href="/de/howtos/deployment.html" class="nav-link">
  Einsatz
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Sprache auswählen" class="dropdown-title"><span class="title">Sprachen</span> <span class="arrow down"></span></button> <button type="button" aria-label="Sprache auswählen" class="mobile-dropdown-title"><span class="title">Sprachen</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/topics/script.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/topics/script.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Deutsch
</a></li><li class="dropdown-item"><!----> <a href="/es/topics/script.html" class="nav-link">
  Español
</a></li><li class="dropdown-item"><!----> <a href="/fr/topics/script.html" class="nav-link">
  Français
</a></li><li class="dropdown-item"><!----> <a href="/it/topics/script.html" class="nav-link">
  Italiano
</a></li><li class="dropdown-item"><!----> <a href="/ja/topics/script.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/topics/script.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/tr-TR/topics/script.html" class="nav-link">
  Türkçe
</a></li></ul></div></div> <a href="https://github.com/IBAX-io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/de/concepts/about-the-platform.html" class="nav-link">
  Konzept
</a></div><div class="nav-item"><a href="/de/tutorials/app_tutorial.html" class="nav-link">
  Lernprogramm
</a></div><div class="nav-item"><a href="/de/topics/script.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Handbuch
</a></div><div class="nav-item"><a href="/de/reference/api2.html" class="nav-link">
  Referenz
</a></div><div class="nav-item"><a href="/de/howtos/deployment.html" class="nav-link">
  Einsatz
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Sprache auswählen" class="dropdown-title"><span class="title">Sprachen</span> <span class="arrow down"></span></button> <button type="button" aria-label="Sprache auswählen" class="mobile-dropdown-title"><span class="title">Sprachen</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/topics/script.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/de/topics/script.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Deutsch
</a></li><li class="dropdown-item"><!----> <a href="/es/topics/script.html" class="nav-link">
  Español
</a></li><li class="dropdown-item"><!----> <a href="/fr/topics/script.html" class="nav-link">
  Français
</a></li><li class="dropdown-item"><!----> <a href="/it/topics/script.html" class="nav-link">
  Italiano
</a></li><li class="dropdown-item"><!----> <a href="/ja/topics/script.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/topics/script.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/tr-TR/topics/script.html" class="nav-link">
  Türkçe
</a></li></ul></div></div> <a href="https://github.com/IBAX-io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Handbuch</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/de/topics/templates2.html" class="sidebar-link">Vorlagensprache</a></li><li><a href="/de/topics/vm.html" class="sidebar-link">Compiler und virtuelle Maschine</a></li><li><a href="/de/topics/script.html" aria-current="page" class="active sidebar-link">Intelligente Verträge</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/de/topics/script.html#vertragsstruktur" class="sidebar-link">Vertragsstruktur</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#variablen" class="sidebar-link">Variablen</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#verschachtelte-vertrage" class="sidebar-link">Verschachtelte Verträge</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#datei-upload" class="sidebar-link">Datei-Upload</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#abfragen-im-json-format" class="sidebar-link">Abfragen im JSON-Format</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#abfragen-mit-datums-und-zeitoperationen" class="sidebar-link">Abfragen mit Datums- und Zeitoperationen</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#nadelvertragssprache" class="sidebar-link">Nadelvertragssprache</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#funktionen" class="sidebar-link">Funktionen</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#needle-funktionsklassifizierung" class="sidebar-link">Needle Funktionsklassifizierung</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#needle-funktionen-referenz" class="sidebar-link">Needle Funktionen Referenz</a></li><li class="sidebar-sub-header"><a href="/de/topics/script.html#systemvertrage" class="sidebar-link">Systemverträge</a></li></ul></li><li><a href="/de/topics/daemons.html" class="sidebar-link">Dämon</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="intelligente-vertrage"><a href="#intelligente-vertrage" class="header-anchor">#</a> Intelligente Verträge</h1> <ul><li><a href="#Vertragsstruktur">Vertragsstruktur</a> <ul><li><a href="#Datenabschnitt">Datenabschnitt</a></li> <li><a href="#abschnitt-bedingungen">Abschnitt Bedingungen</a></li> <li><a href="#aktionsabschnitt">Aktionsabschnitt</a></li></ul></li> <li><a href="#variablen">Variablen</a></li> <li><a href="#verschachtelte-vertr%C3%A4ge">Verschachtelte Verträge</a></li> <li><a href="#datei-upload">Datei-Upload</a></li> <li><a href="#abfragen-im-json-format">Abfragen im JSON-Format</a></li> <li><a href="#abfragen-mit-datums-und-zeitoperationen">Abfragen mit Datums- und Zeitoperationen</a></li> <li><a href="#nadelvertragssprache">Nadelvertragssprache</a> <ul><li><a href="#basiselemente-und-struktur">Basiselemente und Struktur</a></li> <li><a href="#datentypen-und-variablen">Datentypen und Variablen</a></li> <li><a href="#reihe">Reihe</a></li> <li><a href="#If-und-While-Anweisungen">If- und While-Anweisungen</a></li></ul></li> <li><a href="#Funktionen">Funktionen</a> <ul><li><a href="#Funktionsdeklaration">Funktionsdeklaration</a></li> <li><a href="#parameter-variabler-l%C3%A4nge">Parameter variabler Länge</a></li> <li><a href="#optionale-parameter">Optionale Parameter</a></li></ul></li> <li><a href="#klassifizierung-der-nadelfunktionen">Klassifizierung der Nadelfunktionen</a></li> <li><a href="#referenz-der-Nadelfunktionen">Referenz der Nadelfunktionen</a></li> <li><a href="#appparam">AppParam</a></li> <li><a href="#dbsuche">DBSuche</a></li> <li><a href="#dbreihe">DBReihe</a></li> <li><a href="#dbw%C3%A4hlen-sie-metriken-aus">DBWählen Sie Metriken aus</a></li> <li><a href="#ecosysparam">EcosysParam</a></li> <li><a href="#werdengeschichte">WerdenGeschichte</a></li> <li><a href="#verlaufszeile-erhalten">Verlaufszeile erhalten</a></li> <li><a href="#spaltentyp-erhalten">Spaltentyp erhalten</a></li> <li><a href="#daten-abrufen-von-XLSX">Daten abrufen vonXLSX</a></li> <li><a href="#reihe-bekommen-countXLSX">Reihe bekommen CountXLSX</a></li> <li><a href="#langres">LangRes</a></li> <li><a href="#block-bekommen">Block bekommen</a></li> <li><a href="#dbeinf%C3%BCgung">DBEinfügung</a></li> <li><a href="#dbaktualisieren">DBAktualisieren</a></li> <li><a href="#dbaktualisieren-ext">DBAktualisierenExt</a></li> <li><a href="#Spalte-l%C3%B6schen">Spalte löschen</a></li> <li><a href="#Tabelle-l%C3%B6schen">Tabelle löschen</a></li> <li><a href="#append">Anhängen</a></li> <li><a href="#beitreten">Beitreten</a></li> <li><a href="#teilt">Teilt</a></li> <li><a href="#len">Len</a></li> <li><a href="#reihe">Reihe</a></li> <li><a href="#one">One</a></li> <li><a href="#kartenschl%C3%BCssel-erhalten">Kartenschlüssel erhalten</a></li> <li><a href="#sortierte-schl%C3%BCssel">Sortierte Schlüssel</a></li> <li><a href="#anrufvertrag">Anrufvertrag</a></li> <li><a href="#Vertragszugang">Vertragszugang</a></li> <li><a href="#vertragsbedingungen">Vertragsbedingungen</a></li> <li><a href="#eval-zustand">Eval Zustand</a></li> <li><a href="#vertrag-erhalten-von-ID">Vertrag erhalten von ID</a></li> <li><a href="#vertrag-namentlich-erhalten">Vertrag namentlich erhalten</a></li> <li><a href="#rollenzugriff">Rollenzugriff</a></li> <li><a href="#transaktionsinfo">Transaktionsinfo</a></li> <li><a href="#Wurf">Wurf</a></li> <li><a href="#bedingung-validieren">Bedingung validieren</a></li> <li><a href="#adresse-an-ID">Adresse an ID</a></li> <li><a href="#ID-an-adresse">ID an Adresse</a></li> <li><a href="#bub-zu-ID">Pub zu ID</a></li> <li><a href="#dekodieren-base64">DekodierenBase64</a></li> <li><a href="#kodieren-base64">KodierenBase64</a></li> <li><a href="#Schweben">Schweben</a></li> <li><a href="#hextobytes">HexToBytes</a></li> <li><a href="#Geld-formatieren">Geld formatieren</a></li> <li><a href="#zuf%C3%A4llig">Zufällig</a></li> <li><a href="#int">Int</a></li> <li><a href="#hash">Hash</a></li> <li><a href="#sha256">Sha256</a></li> <li><a href="#str">Str</a></li> <li><a href="#jsonencode">JSONEncode</a></li> <li><a href="#jsonencodeindent">JSONEncodeIndent</a></li> <li><a href="#jsondecode">JSONDecode</a></li> <li><a href="#hasprefix">HasPrefix</a></li> <li><a href="#enth%C3%A4lt">Enthält</a></li> <li><a href="#ersetzen">Ersetzen</a></li> <li><a href="#gr%C3%B6%C3%9Fe">Größe</a></li> <li><a href="#sprintf">Sprintf</a></li> <li><a href="#substr">Substr</a></li> <li><a href="#zu-senken">Zu senken</a></li> <li><a href="#nachOber">NachOber</a></li> <li><a href="#trimspace">TrimSpace</a></li> <li><a href="#boden">Boden</a></li> <li><a href="#protokoll">Protokoll</a></li> <li><a href="#protokoll10">Protokoll10</a></li> <li><a href="#puh">Puh</a></li> <li><a href="#runden">Runden</a></li> <li><a href="#quadrat">Quadrat</a></li> <li><a href="#zeichenfolge-zu-bytes">Zeichenfolge zu Bytes</a></li> <li><a href="#byte-zu-zeichenfolge">Byte zu Zeichenfolge</a></li> <li><a href="#sysparamstring">SysParamString</a></li> <li><a href="#sysparamint">SysParamInt</a></li> <li><a href="#DBAktualisierenSysParam">DBAktualisierenSysParam</a></li> <li><a href="#benachrichtigungen-aktualisieren">Benachrichtigungen aktualisieren</a></li> <li><a href="#UpdateRoles-Benachrichtigungen">UpdateRoles-Benachrichtigungen</a></li> <li><a href="#httprequest">HTTPRequest</a></li> <li><a href="#httppostjson">HTTPPostJSON</a></li> <li><a href="#Blockzeit">Blockzeit</a></li> <li><a href="#Terminzeit">Terminzeit</a></li> <li><a href="#Unix-DateTime">Unix-DateTime</a></li> <li><a href="#OBS-erstellen">OBS erstellen</a></li> <li><a href="#WerdenOBSList">WerdenOBSList</a></li> <li><a href="#LaufOBS">LaufOBS</a></li> <li><a href="#HaltOBS">HaltOBS</a></li> <li><a href="#EntfernenOBS">EntfernenOBS</a></li> <li><a href="#Systemvertr%C3%A4ge">Systemverträge</a> <ul><li><a href="#Neues-%C3%96kosystem">Neues Ökosystem</a></li> <li><a href="#%C3%B6kosystemname-bearbeiten">Ökosystemname bearbeiten</a></li> <li><a href="#Neuer-vertrag">Neuer Vertrag</a></li> <li><a href="#Vertrag-bearbeiten">Vertrag bearbeiten</a></li> <li><a href="#Brieftasche-binden">Brieftasche binden</a></li> <li><a href="#Wallet-entbinden">Wallet entbinden</a></li> <li><a href="#Neuer-Parameter">Neuer Parameter</a></li> <li><a href="#Parameter-bearbeiten">Parameter bearbeiten</a></li> <li><a href="#Neues-Men%C3%BC">NeuesMenü</a></li> <li><a href="#Men%C3%BC-bearbeiten">Menü bearbeiten</a></li> <li><a href="#Men%C3%BC-anh%C3%A4ngen">Menü anhängen</a></li> <li><a href="#Neue-Seite">Neue Seite</a></li> <li><a href="#Seite-bearbeiten">Seite bearbeiten</a></li> <li><a href="#Seite-anh%C3%A4ngen">Seite anhängen</a></li> <li><a href="#NeuerBlock">NeuerBlock</a></li> <li><a href="#Block-bearbeiten">Block bearbeiten</a></li> <li><a href="#NeueTabelle">NeueTabelle</a></li> <li><a href="#Tabelle-bearbeiten">Tabelle bearbeiten</a></li> <li><a href="#neueSpalte">NeueSpalte</a></li> <li><a href="#Spalte-bearbeiten">Spalte bearbeiten</a></li> <li><a href="#NeuLang">NeuLang</a></li> <li><a href="#BearbeitenLang">BearbeitenLang</a></li> <li><a href="#Importieren">Importieren</a></li> <li><a href="#ImportHochladen">ImportHochladen</a></li> <li><a href="#newappparam">NewAppParam</a></li> <li><a href="#bearbeitenappparam">BearbeitenAppParam</a></li> <li><a href="#Neuer-verz%C3%B6gerter-Vertrag">Neuer verzögerter Vertrag</a></li> <li><a href="#Versp%C3%A4teten-Vertrag-bearbeiten">Verspäteten Vertrag bearbeiten</a></li> <li><a href="#Bin%C3%A4r-hochladen">Binär hochladen</a></li></ul></li></ul> <p>Smart Contract (im Folgenden Vertrag genannt) ist eines der Grundelemente einer Anwendung. Die Implementierung eines Vertrages auf einer Seite durch den Benutzer ist in der Regel ein einmaliger Vorgang, dessen Zweck es ist, einen Datenbankeintrag zu aktualisieren oder zu erstellen. Alle Datenoperationen einer Anwendung bilden ein Vertragssystem, und diese Verträge interagieren miteinander durch Datenbank- oder Vertragsinhaltsfunktionen.</p> <h2 id="vertragsstruktur"><a href="#vertragsstruktur" class="header-anchor">#</a> Vertragsstruktur</h2> <p>Verwenden Sie das Schlüsselwort <code>vertrag</code>, um einen Vertrag zu deklarieren, gefolgt vom Vertragsnamen, und der Vertragsinhalt muss in geschweiften Klammern eingeschlossen sein. Ein Vertrag besteht im Wesentlichen aus drei Teilen:</p> <ol><li><p><strong>Daten</strong> – <a href="#data-section">data section</a>, wobei die Variablen der Eingabedaten deklariert werden, einschließlich Variablenname und Variablentyp;</p></li> <li><p><strong>conditions</strong> – <a href="#conditions-section">conditions section</a>, wo die Korrektheit der Daten validiert wird;</p></li> <li><p><strong>action</strong> – <a href="#action-section">action section</a>, wobei die Datenmanipulationen definiert werden.</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>contract MyContract {
  data {
    FromId int
    ToId int
    Amount money
  }
  func conditions {
    ...
  }
  func action {
    ...
  }
}
</code></pre></div><h3 id="datenbereich"><a href="#datenbereich" class="header-anchor">#</a> Datenbereich</h3> <p>Der Abschnitt <code>data</code> beschreibt die Vertragsdateneingaben und die empfangenen Formularparameter.</p> <p>Die Struktur jeder Zeile nach Sequenz:</p> <ul><li>Variablenname - empfängt nur Variablen, keine Arrays;</li> <li>Variablendatentyp - der <a href="#Datentypen-und-Variablen">date type</a> der Variablen;</li> <li>optional - ein optionaler Parameter, der das Formularelement nicht ausfüllen muss.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>contract my {
  data {
  Name string
  RequestId int
  Photo file &quot;optional&quot;
  Amount money
  Private bytes
  }
  ...
}
</code></pre></div><h3 id="abschnitt-bedingungen"><a href="#abschnitt-bedingungen" class="header-anchor">#</a> Abschnitt Bedingungen</h3> <p>Der Abschnitt <code>condition</code> beschreibt die Validierung der empfangenen Daten.</p> <p>Die folgenden Befehle werden für Fehlerwarnungen verwendet: schwerwiegende Fehler <code>error</code>, warnende Fehler <code>warning</code>, suggestive Fehler <code>info</code>. Diese drei Befehle erzeugen einen Fehler, der die Ausführung von Verträgen beendet, und jeder Fehler druckt eine andere Art von Fehlerprotokollinformationen. Zum Beispiel:</p> <div class="language- extra-class"><pre class="language-text"><code>if fuel == 0 {
    error &quot;fuel cannot be zero!&quot;
}
if money &lt; limit {
    warning Sprintf(&quot;You don't have enough money: %v &lt;%v&quot;, money, limit)
}
if idexist &gt; 0 {
    info &quot;You have already been registered&quot;
}
</code></pre></div><h3 id="aktionsabschnitt"><a href="#aktionsabschnitt" class="header-anchor">#</a> Aktionsabschnitt</h3> <p>Der Abschnitt <code>action</code> beschreibt den Hauptcode des Vertrags, der andere Daten abruft und die Ergebniswerte in Tabellen aufzeichnet. Zum Beispiel:</p> <div class="language- extra-class"><pre class="language-text"><code>action {
DBUpdate(&quot;keys&quot;, $key_id, {&quot;-amount&quot;: $amount})
DBUpdate(&quot;keys&quot;, $recipient, {&quot;+amount&quot;: $amount, &quot;pub&quot;: $Pub})
}
</code></pre></div><h2 id="variablen"><a href="#variablen" class="header-anchor">#</a> Variablen</h2> <p>Im Datenabschnitt deklarierte Variablen werden über das <code>$</code>-Symbol gefolgt vom Variablennamen an andere Vertragsabschnitte übergeben. Das Symbol „$“ kann auch verwendet werden, um andere Variablen zu deklarieren, die sich nicht im Datenabschnitt befinden und als globale Variablen dieses Vertrags und aller Verträge gelten, in die dieser Vertrag verschachtelt ist.</p> <p>In Verträgen können vordefinierte Variablen verwendet werden, die Transaktionsdaten enthalten, die den Vertrag aufgerufen haben:</p> <ul><li><code>$time</code> - Transaktionszeitstempel;</li> <li><code>$ecosystem_id</code> - Ökosystem-ID;</li> <li><code>$block</code> - ID des Blocks, der die Transaktion enthält;</li> <li><code>$key_id</code> - Adresse des Kontos, das die aktuelle Transaktion unterzeichnet hat;</li> <li><code>$type</code> - Vertrags-ID in der virtuellen Maschine;</li> <li><code>$block_key_id</code> - Kontoadresse des Knotens, der den Block erzeugt hat;</li> <li><code>$block_time</code> - Zeitstempel der Blockgenerierung;</li> <li><code>$original_contract</code> -Name des Vertrags, der die Transaktion ursprünglich verarbeitet hat. Dies bedeutet, dass der Vertrag während der Transaktionsvalidierung aufgerufen wird, wenn die Variable eine leere Zeichenfolge ist. Um zu prüfen, ob der Vertrag von einem anderen Vertrag oder direkt von der Transaktion aufgerufen wird, müssen Sie die Werte von $original_contract und $this_contract vergleichen. Das bedeutet, dass der Vertrag von der Transaktion aufgerufen wird, wenn sie gleich sind;</li> <li><code>$this_contract</code> - Name des aktuell ausgeführten Vertrages;</li> <li><code>$guest_key</code> - Adresse des Gastkontos;</li> <li><code>$stack</code> - Contract Array Stack mit dem Datentyp Array, der alle ausgeführten Contracts enthält. Das erste Element des Arrays stellt den Namen des Vertrags dar, der gerade ausgeführt wird, während das letzte Element den Namen des Vertrags darstellt, der die Transaktion ursprünglich verarbeitet hat;</li> <li><code>$node_position</code> - die Indexnummer des Verifizierungsknotenarrays, wo sich der Block befindet;</li> <li><code>$txhash</code> - Transaktions-Hash;</li> <li><code>$contract</code> - das aktuelle Vertragsstruktur-Array.</li></ul> <p>Auf vordefinierte Variablen kann nicht nur in Verträgen zugegriffen werden, sondern auch in Berechtigungsfeldern, die die Zugriffsberechtigungsbedingungen der Anwendungselemente definieren. Bei Verwendung in Berechtigungsfeldern sind vordefinierte Variablen für Blockinformationen immer gleich Null, wie z. B. <code>$time</code>, <code>$block</code> usw.</p> <p>Eine vordefinierte Variable <code>$result</code> wird mit dem Rückgabeergebnis des Vertrags zugewiesen.</p> <div class="language- extra-class"><pre class="language-text"><code>contract my {
 data {
     Name string
     Amount money
 }
 func conditions {
     if $Amount &lt;= 0 {
     error &quot;Amount cannot be 0&quot;
     }
     $ownerId = 1232
 }
 func action {
     var amount money
     amount = $Amount - 10
     DBUpdate(&quot;mytable&quot;, $ownerId, {name: $Name,amount: amount})
     DBUpdate(&quot;mytable2&quot;, $ownerId, {amount: 10})
 }
}
</code></pre></div><h2 id="verschachtelte-vertrage"><a href="#verschachtelte-vertrage" class="header-anchor">#</a> Verschachtelte Verträge</h2> <p>Sie können Verträge in den Abschnitten „Bedingungen“ und „Aktionen“ des Vertrags verschachteln. Verschachtelte Verträge können direkt aufgerufen werden, und die Vertragsparameter werden in Klammern hinter dem Vertragsnamen angegeben, z. B. <code>@1NameContract(Params)</code>. Sie können auch verschachtelte Verträge mit der Funktion <a href="#callcontract">CallContract</a> aufrufen.</p> <h2 id="datei-upload"><a href="#datei-upload" class="header-anchor">#</a> Datei-Upload</h2> <p>Um eine Datei über ein Formular im Format <code>multipart/form-data</code> hochzuladen, muss der Datentyp des Vertrages <code>file</code> sein.</p> <div class="language- extra-class"><pre class="language-text"><code>contract Upload {
     data {
  	   File file
     }
     ...
}
</code></pre></div><p>Der Vertrag <a href="#uploadbinary">UploadBinary</a> wird zum Hochladen und Speichern von Dateien verwendet. Mit der Logicor-Sprachfunktion <a href="/de/topics/templates2.html#binary">Binary</a> im Seiteneditor erhalten Sie den Link zum Herunterladen der Datei.</p> <h2 id="abfragen-im-json-format"><a href="#abfragen-im-json-format" class="header-anchor">#</a> Abfragen im JSON-Format</h2> <p>In der Vertragssprache kann als Feldtyp <strong>JSON</strong> angegeben werden. Sie können die Syntax: <strong>columnname-&gt;fieldname</strong> verwenden, um das Eingabefeld zu verarbeiten. Der erhaltene Wert wird in <strong>columnname.fieldname</strong> aufgezeichnet. Die obige Syntax kann in Columns,One,Where der Funktion <a href="#dbfind">DBFind</a> verwendet werden.</p> <div class="language- extra-class"><pre class="language-text"><code>var ret map
var val str
var list array
ret = DBFind(&quot;mytable&quot;).Columns(&quot;myname,doc,doc-&gt;ind&quot;).WhereId($Id).Row()
val = ret[&quot;doc.ind&quot;]
val = DBFind(&quot;mytable&quot;).Columns(&quot;myname,doc-&gt;type&quot;).WhereId($Id).One(&quot;doc-&gt;type&quot;)
list = DBFind(&quot;mytable&quot;).Columns(&quot;myname,doc,doc-&gt;ind&quot;).Where(&quot;doc-&gt;ind = ?&quot;, &quot;101&quot;)
val = DBFind(&quot;mytable&quot;).WhereId($Id).One(&quot;doc-&gt;check&quot;)
</code></pre></div><h2 id="abfragen-mit-datums-und-zeitoperationen"><a href="#abfragen-mit-datums-und-zeitoperationen" class="header-anchor">#</a> Abfragen mit Datums- und Zeitoperationen</h2> <p>Sie können das Datum und die Uhrzeit nicht direkt mit den Vertragssprachenfunktionen abfragen und aktualisieren, aber Sie können PostgreSQL-Funktionen und -Features in der Where-Anweisung wie im folgenden Beispiel verwenden. Beispielsweise müssen Sie das Feld date_column mit der aktuellen Uhrzeit vergleichen. Wenn date_column ein Zeitstempeltyp ist, sollte der Ausdruck <code>date_column &lt;NOW()</code> sein; wenn date_column ein Unix-Typ ist, sollte der Ausdruck <code>to_timestamp(date_column)&gt; NOW()</code> lauten.</p> <div class="language- extra-class"><pre class="language-text"><code>Where(&quot;to_timestamp(date_column)&gt; NOW()&quot;)
Where(&quot;date_column &lt;NOW() - 30 * interval '1 day'&quot;)
</code></pre></div><p>Die folgende Needle-Funktion wird verwendet, um Datum und Uhrzeit im SQL-Format zu verarbeiten:</p> <ul><li><a href="#Blockzeit">Blockzeit</a></li> <li><a href="#Terminzeit">Terminzeit</a></li> <li><a href="#Unix-DateTime">Unix-DateTime</a></li></ul> <h2 id="nadelvertragssprache"><a href="#nadelvertragssprache" class="header-anchor">#</a> Nadelvertragssprache</h2> <p>Die Vertragssprache umfasst eine Reihe von Funktionen, Operatoren und Strukturen, die Datenalgorithmusverarbeitung und Datenbankoperationen realisieren können.</p> <p>Der Vertragsinhalt kann geändert werden, wenn die Vertragsbearbeitungsberechtigung nicht auf <code>false</code> gesetzt ist. Die komplette Historie der Vertragsänderungen wird in der Blockchain gespeichert, die in Weaver verfügbar ist.</p> <p>Datenoperationen in der Blockchain werden gemäß der neuesten Vertragsversion ausgeführt.</p> <h3 id="grundelemente-und-struktur"><a href="#grundelemente-und-struktur" class="header-anchor">#</a> Grundelemente und Struktur</h3> <h3 id="datentypen-und-variablen"><a href="#datentypen-und-variablen" class="header-anchor">#</a> Datentypen und Variablen</h3> <p>Der Datentyp muss für jede Variable definiert werden. Normalerweise werden Datentypen automatisch konvertiert. Folgende Datentypen können verwendet werden:</p> <ul><li><p><code>bool</code> - Boolesch, <code>true</code> oder <code>false</code>;</p></li> <li><p><code>bytes</code> - ein Byte-Format;</p></li> <li><p><code>Int</code> - eine 64-Bit-Ganzzahl;</p></li> <li><p><code>Array</code> - ein Array beliebigen Typs;</p></li> <li><p><code>map</code> - ein Objektarray;</p></li> <li><p><code>money</code> - eine große Ganzzahl;</p></li> <li><p><code>float</code> - eine 64-Bit-Float-Zahl;</p></li> <li><p><code>string</code> - eine Zeichenkette muss mit doppelten Anführungszeichen oder Escape-Format definiert werden: &quot;Dies ist eine Zeichenkette&quot; oder `Dies ist eine Zeichenkette`;</p></li> <li><p><code>file</code> - ein Objekt-Array:</p> <ul><li><code>Name</code> - Dateinamen, <code>string</code> Typ;</li> <li><code>MimeType</code> - <strong>mime-type</strong> Datei, <code>string</code> Typ;</li> <li><code>Body</code> - Dateiinhalt, <code>bytes</code> typ.</li></ul></li></ul> <p>Alle Bezeichner, einschließlich der Namen von Variablen, Funktionen und Verträgen, sind zwischen Groß- und Kleinschreibung zu unterscheiden (MyFunc und myFunc sind unterschiedliche Namen).</p> <p>Verwenden Sie das Schlüsselwort <strong>var</strong>, um eine Variable zu deklarieren, gefolgt vom Namen und Typ der Variablen. In geschweiften Klammern deklarierte Variablen müssen in demselben Klammerpaar verwendet werden.</p> <p>Der Standardwert jeder deklarierten Variablen ist Null: Der Nullwert des bool-Typs ist falsch, der Nullwert aller numerischen Typen ist 0 und der Nullwert für Zeichenfolgen, leere Zeichenfolgen. Ein Beispiel für eine Variablendeklaration:</p> <div class="language- extra-class"><pre class="language-text"><code>func myfunc( val int) int {
  var mystr1 mystr2 string, mypar int
  var checked bool
  ...
  if checked {
    var temp int
    ...
  }
}
</code></pre></div><h3 id="array"><a href="#array" class="header-anchor">#</a> Array</h3> <p>Die Vertragssprache unterstützt zwei Array-Typen:</p> <ul><li><code>Array</code> - ein Array mit Index beginnend bei 0;</li> <li><code>map</code> - ein Array von Objekten.</li></ul> <p>Beim Allokieren und Abrufen von Array-Elementen muss der Index in eckige Klammern gesetzt werden. Mehrere Indizes werden im Array nicht unterstützt, und die Array-Elemente können nicht als myarr[i][j] behandelt werden.</p> <div class="language- extra-class"><pre class="language-text"><code>var myarr array
var mymap map
var s string

myarr[0] = 100
myarr[1] = &quot;This is a line&quot;
mymap[&quot;value&quot;] = 777
mymap[&quot;param&quot;] = &quot;Parameter&quot;

s = Sprintf(&quot;%v, %v, %v&quot;, myarr[0] + mymap[&quot;value&quot;], myarr[1], mymap[&quot;param&quot;])
// s = 877, This is a line, Parameter
</code></pre></div><p>Sie können auch Arrays vom Typ Array definieren, indem Sie Elemente in <code>[]</code> angeben. Für den Kartentyp <code>arrays</code> verwenden Sie bitte <code>{}</code>.</p> <div class="language- extra-class"><pre class="language-text"><code>var my map
my={&quot;key1&quot;: &quot;value1&quot;, key2: i, &quot;key3&quot;: $Name}
var mya array
mya=[&quot;value1&quot;, {key2: i}, $Name]
</code></pre></div><p>Sie können eine solche Initialisierung in Ausdrücken verwenden. Verwenden Sie es beispielsweise in Funktionsparametern.</p> <div class="language- extra-class"><pre class="language-text"><code>DBFind...Where({id: 1})
</code></pre></div><p>Für ein Array von Objekten müssen Sie einen Schlüssel angeben. Schlüssel werden als Zeichenfolgen in doppelten Anführungszeichen (<code>&quot;&quot;</code>) angegeben. Wenn der Schlüsselname auf Buchstaben, Zahlen und Unterstriche beschränkt ist, können Sie die doppelten Anführungszeichen weglassen.</p> <div class="language- extra-class"><pre class="language-text"><code>{key1: &quot;value1&quot;, key2: &quot;value2&quot;}
</code></pre></div><p>Ein Array kann Zeichenfolgen, Zahlen, Variablennamen beliebigen Typs und Variablennamen mit dem Symbol <code>$</code> enthalten. Es unterstützt verschachtelte Arrays. Sie können verschiedene Maps oder Arrays als Werte angeben.</p> <p>Ausdrücke können nicht als Array-Elemente verwendet werden. Verwenden Sie eine Variable, um das Ergebnis des Ausdrucks zu speichern, und geben Sie diese Variable als Array-Element an.</p> <div class="language- extra-class"><pre class="language-text"><code>[1+2, myfunc(), name[&quot;param&quot;]] // don't do this
[1, 3.4, mystr, &quot;string&quot;, $ext, myarr, mymap, {&quot;ids&quot;: [1,2, i], company: {&quot;Name&quot;: &quot;MyCompany&quot;}} ] // this is ok

var val string
val = my[&quot;param&quot;]
MyFunc({key: val, sub: {name: &quot;My name&quot;, &quot;color&quot;: &quot;Red&quot;}})
</code></pre></div><h3 id="if-und-while-anweisungen"><a href="#if-und-while-anweisungen" class="header-anchor">#</a> If- und While-Anweisungen</h3> <p>Die Vertragssprache unterstützt standardmäßige <strong>if</strong>-Bedingungsanweisungen und <strong>while</strong>-Schleifen, die in Verträgen und Funktionen verwendet werden können. Diese Anweisungen können ineinander verschachtelt werden.</p> <p>Auf <strong>if</strong> und <strong>while</strong> muss eine bedingte Anweisung folgen. Wenn die bedingte Anweisung eine Zahl zurückgibt, wird sie als falsch angesehen, wenn ihr Wert 0 ist.</p> <p>val == 0 ist gleich !val, val != 0 ist gleich val. Die <strong>if</strong>-Anweisung kann einen <strong>else</strong>-Codeblock haben, und <strong>else</strong> wird ausgeführt, wenn die <strong>if</strong>-Bedingungsanweisung falsch ist.</p> <p>Die folgenden Vergleichsoperatoren können in bedingten Anweisungen verwendet werden: <code>&lt;, &gt;, &gt;=, &lt;=, ==, !=, ||, &amp;&amp;</code></p> <div class="language- extra-class"><pre class="language-text"><code>if val&gt; 10 || id != $block_key_id {
 ...
} else {
 ...
}
</code></pre></div><p>Der Codeblock wird ausgeführt, wenn die bedingte Anweisung der <strong>while</strong>-Schleife wahr ist. <strong>break</strong> bedeutet, die Schleife des Codeblocks zu beenden. Wenn Sie eine Schleife von Anfang an beginnen möchten, verwenden Sie <strong>continue</strong>.</p> <div class="language- extra-class"><pre class="language-text"><code>var i int
while true {
  if i &gt; 100 {
    break
  }
  ...
  if i == 50 {
    continue
  }
  ...
  i = i + 1
}
</code></pre></div><p>Zusätzlich zu bedingten Anweisungen unterstützt Needle auch Standardarithmetikoperationen: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>.</p> <p>Variablen vom Typ String und Bytes können als bedingte Anweisung verwendet werden. Wenn die Länge des Typs größer als Null ist, ist die Bedingung wahr, andernfalls ist sie falsch.</p> <h2 id="funktionen"><a href="#funktionen" class="header-anchor">#</a> Funktionen</h2> <p>Funktionen können einige Operationen mit den vom <a href="#data-section">data section</a> eines Vertrags empfangenen Daten ausführen: Daten aus der Datenbank lesen und schreiben, den Werttyp konvertieren und die Interaktion zwischen Verträgen herstellen.</p> <h3 id="funktionsdeklaration"><a href="#funktionsdeklaration" class="header-anchor">#</a> Funktionsdeklaration</h3> <p>Verwenden Sie das Schlüsselwort func, um eine Funktion zu deklarieren, gefolgt vom Namen und der Liste der übergebenen Parameter und ihrer Typen. Alle Parameter sind in Klammern eingeschlossen und durch Kommas getrennt. Nach den Klammern muss der Datentyp des von der Funktion zurückgegebenen Werts deklariert werden. Der Funktionskörper muss in geschweifte Klammern eingeschlossen werden. Wenn die Funktion keine Parameter hat, können die geschweiften Klammern weggelassen werden. Um einen Wert von einer Funktion zurückzugeben, verwenden Sie das Schlüsselwort <code>return</code>.</p> <div class="language- extra-class"><pre class="language-text"><code>func myfunc(left int, right int) int {
    return left*right + left - right
}
func test int {
    return myfunc(10, 30) + myfunc(20, 50)
}
func ooops {
    error &quot;Ooops...&quot;
}
</code></pre></div><p>Funktion gibt keine Fehler zurück, da alle Fehlerprüfungen automatisch durchgeführt werden. Wenn in irgendeiner Funktion ein Fehler auftritt, beendet der Vertrag seinen Betrieb und zeigt die Fehlerbeschreibung in einem Fenster an.</p> <h3 id="parameter-variabler-lange"><a href="#parameter-variabler-lange" class="header-anchor">#</a> Parameter variabler Länge</h3> <p>Funktionen können Parameter mit variabler Länge definieren, verwenden Sie das Symbol <code>...</code> als letzten Parametertyp der Funktion, um Parameter mit variabler Länge mit einem Datentyp von <code>Array</code> anzugeben. Parameter mit variabler Länge umfassen alle Variablen ab dem Zeitpunkt, an dem der Parameter im Aufruf übergeben wird. Alle Arten von Variablen können übergeben werden, aber Sie müssen mit Konflikten durch Nichtübereinstimmung von Datentypen umgehen.</p> <div class="language- extra-class"><pre class="language-text"><code>func sum(out string, values ...) {
var i, res int

while i &lt;Len(values) {

   res = res + values[i]

   i = i + 1

}

Println(out, res)

}

func main() {
  sum(&quot;Sum:&quot;, 10, 20, 30, 40)
}
</code></pre></div><h3 id="optionale-parameter"><a href="#optionale-parameter" class="header-anchor">#</a> Optionale Parameter</h3> <p>Eine Funktion hat viele Parameter, aber wir brauchen nur einige davon, wenn wir sie aufrufen. In diesem Fall können Sie optionale Parameter folgendermaßen deklarieren: <code>func myfunc(name string).Param1(param string).Param2(param2 int) {...}</code>, dann können Sie die angegebenen Parameter in beliebiger Reihenfolge aufrufen : <code>myfunc(&quot;name&quot;).Param2(100)</code>.</p> <p>Im Funktionskörper können Sie diese Variablen ganz normal behandeln. Wenn keine angegebenen optionalen Parameter aufgerufen werden, sind ihre Standardwerte Null. Sie können auch ... verwenden, um einen Parameter variabler Länge anzugeben: <code>func DBFind(table string).Where(request string, params ...)</code> und dann aufrufen: <code>DBFind(&quot;mytable&quot;).Where({ &quot; id&quot;: $myid, &quot;type&quot;: 2})</code></p> <div class="language- extra-class"><pre class="language-text"><code>func DBFind(table string).Columns(columns string).Where(format string, tail ...)
  .Limit(limit int).Offset(offset int) string {
  ...
}

func names() string {
  ...
  return DBFind(&quot;table&quot;).Columns(&quot;name&quot;).Where({&quot;id&quot;: 100}).Limit(1)
}
</code></pre></div><h2 id="needle-funktionsklassifizierung"><a href="#needle-funktionsklassifizierung" class="header-anchor">#</a> Needle Funktionsklassifizierung</h2> <p>Abrufen von Werten aus der Datenbank:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#appparam">AppParam</a></td> <td><a href="#ecosysparam">EcosysParam</a></td> <td><a href="#getdatafromxlsx">GetDataFromXLSX</a></td></tr> <tr><td><a href="#dbfind">DBFind</a></td> <td><a href="#gethistory">GetHistory</a></td> <td><a href="#getrowscountxlsx">GetRowsCountXLSX</a></td></tr> <tr><td><a href="#dbrow">DBRow</a></td> <td><a href="#gethistoryrow">GetHistoryRow</a></td> <td><a href="#getblock">GetBlock</a></td></tr> <tr><td><a href="#dbselectmetrics">DBSelectMetrics</a></td> <td><a href="#getcolumntype">GetColumnType</a></td> <td><a href="#langres">LangRes</a></td></tr></tbody></table> <p>Daten in Tabellen aktualisieren:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#dbinsert">DBInsert</a></td> <td><a href="#dbupdateext">DBUpdateExt</a></td> <td><a href="#deltable">DelTable</a></td></tr> <tr><td><a href="#dbupdate">DBUpdate</a></td> <td><a href="#delcolumn">DelColumn</a></td> <td></td></tr></tbody></table> <p>Operationen mit Arrays:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#append">Append</a></td> <td><a href="#len">Len</a></td> <td><a href="#getmapkeys">GetMapKeys</a></td></tr> <tr><td><a href="#join">Join</a></td> <td><a href="#row">Row</a></td> <td><a href="#sortedkeys">SortedKeys</a></td></tr> <tr><td><a href="#split">Split</a></td> <td><a href="#one">One</a></td> <td></td></tr></tbody></table> <p>Operationen mit Verträgen und Genehmigungen:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#callcontract">CallContract</a></td> <td><a href="#getcontractbyid">GetContractById</a></td> <td><a href="#transactioninfo">TransactionInfo</a></td></tr> <tr><td><a href="#contractaccess">ContractAccess</a></td> <td><a href="#roleaccess">RoleAccess</a></td> <td><a href="#throw">Throw</a></td></tr> <tr><td><a href="#contractconditions">ContractConditions</a></td> <td><a href="#getcontractbyname">GetContractByName</a></td> <td><a href="#validatecondition">ValidateCondition</a></td></tr> <tr><td><a href="#evalcondition">EvalCondition</a></td> <td></td> <td></td></tr></tbody></table> <p>Operationen mit Adressen:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#addresstoid">AddressToId</a></td> <td><a href="#idtoaddress">IdToAddress</a></td> <td><a href="#pubtoid">PubToID</a></td></tr></tbody></table> <p>Operationen mit variablen Werten:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#decodebase64">DecodeBase64</a></td> <td><a href="#formatmoney">FormatMoney</a></td> <td><a href="#hash">Hash</a></td></tr> <tr><td><a href="#encodebase64">EncodeBase64</a></td> <td><a href="#random">Random</a></td> <td><a href="#sha256">Sha256</a></td></tr> <tr><td><a href="#float">Float</a></td> <td><a href="#int">Int</a></td> <td><a href="#str">Str</a></td></tr> <tr><td><a href="#hextobytes">HexToBytes</a></td> <td></td> <td></td></tr></tbody></table> <p>Rechenoperationen:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#floor">Floor</a></td> <td><a href="#log10">Log10</a></td> <td><a href="#round">Round</a></td></tr> <tr><td><a href="#log">Log</a></td> <td><a href="#pow">Pow</a></td> <td><a href="#sqrt">Sqrt</a></td></tr></tbody></table> <p>Operationen mit JSON:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#jsonencode">JSONEncode</a></td> <td><a href="#jsonencodeindent">JSONEncodeIndent</a></td> <td><a href="#jsondecode">JSONDecode</a></td></tr></tbody></table> <p>Operationen mit Strings:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#hasprefix">HasPrefix</a></td> <td><a href="#size">Size</a></td> <td><a href="#tolower">ToLower</a></td></tr> <tr><td><a href="#contains">Contains</a></td> <td><a href="#sprintf">Sprintf</a></td> <td><a href="#toupper">ToUpper</a></td></tr> <tr><td><a href="#replace">Replace</a></td> <td><a href="#substr">Substr</a></td> <td><a href="#trimspace">TrimSpace</a></td></tr></tbody></table> <p>Operationen mit Bytes:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#stringtobytes">StringToBytes</a></td> <td><a href="#bytestostring">BytesToString</a></td> <td></td></tr></tbody></table> <p>Operationen mit Datum und Uhrzeit im SQL-Format:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#blocktime">BlockTime</a></td> <td><a href="#datetime">DateTime</a></td> <td><a href="#unixdatetime">UnixDateTime</a></td></tr></tbody></table> <p>Operationen mit Plattformparametern:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#httprequest">HTTPRequest</a></td> <td><a href="#httppostjson">HTTPPostJSON</a></td> <td></td></tr></tbody></table> <p>Funktionen für Master-CLB-Knoten:</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><a href="#createobs">CreateOBS</a></td> <td><a href="#runobs">RunOBS</a></td> <td><a href="#removeobs">RemoveOBS</a></td></tr> <tr><td><a href="#getobslist">GetOBSList</a></td> <td><a href="#stopobs">StopOBS</a></td> <td></td></tr></tbody></table> <h2 id="needle-funktionen-referenz"><a href="#needle-funktionen-referenz" class="header-anchor">#</a> Needle Funktionen Referenz</h2> <h3 id="appparam"><a href="#appparam" class="header-anchor">#</a> AppParam</h3> <p>Gibt den Wert eines angegebenen Anwendungsparameters (aus der Anwendungsparametertabelle app_params) zurück.</p> <h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>AppParam(app int, name string, ecosystemid int) string
</code></pre></div><ul><li><p><strong>App</strong></p> <p>Application ID.</p></li> <li><p><strong>name</strong></p> <p>Name des Anwendungsparameters.</p></li> <li><p><strong>Ecosystemid</strong></p> <p>Ökosystem-ID.</p></li></ul> <h4 id="beispiel"><a href="#beispiel" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>AppParam(1, &quot;app_account&quot;, 1)
</code></pre></div><h3 id="dbfind"><a href="#dbfind" class="header-anchor">#</a> DBFind</h3> <p>Fragt Daten aus einer angegebenen Tabelle mit den angegebenen Parametern ab und gibt ein Array zurück, das aus einem Array von Objekten besteht.</p> <p><code>.Row()</code> kann das erste Kartenelement in der Abfrage erhalten, <code>.One(column string)</code> kann das erste Kartenelement einer angegebenen Spalte in der Abfrage erhalten.</p> <h4 id="syntax-2"><a href="#syntax-2" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DBFind(table string)
 [.Columns(columns array|string)]
 [.Where(where map)]
 [.WhereId(id int)]
 [.Order(order string)]
 [.Limit(limit int)]
 [.Offset(offset int)]
 [.Row()]
 [.One(column string)]
 [.Ecosystem(ecosystemid int)] array
</code></pre></div><ul><li><strong>table</strong></li></ul> <p>Tabellenname.</p> <ul><li><p><strong>сolumns</strong></p> <p>Gibt eine Liste von Spalten zurück. Wenn nicht angegeben, werden alle Spalten zurückgegeben.</p> <p>Der Wert ist ein Array oder ein durch Kommas getrennter String.</p></li> <li><p><strong>where</strong></p> <p>Query conditions.</p> <p>Beispiel: <code>.Where({name: &quot;John&quot;})</code> or <code>.Where({&quot;id&quot;: {&quot;$gte&quot;: 4}})</code>.</p> <p>Dieser Parameter muss ein Array von Objekten mit Suchkriterien enthalten. Das Array kann verschachtelte Elemente enthalten.</p> <p>Folgende syntaktische Konstruktionen werden verwendet:</p> <ul><li><p><code>{&quot;field1&quot;: &quot;value1&quot;, &quot;field2&quot;: &quot;value2&quot;}</code>
Gleichwertig <code>field1 = &quot;value1&quot; AND field2 = &quot;value2&quot;</code>.</p></li> <li><p><code>{&quot;field1&quot;: {&quot;$eq&quot;:&quot;value&quot;}}</code>
Gleichwertig <code>field = &quot;value&quot;</code>.</p></li> <li><p><code>{&quot;field1&quot;: {&quot;$neq&quot;: &quot;value&quot;}}</code>
Gleichwertig <code>field != &quot;value&quot;</code>.</p></li> <li><p><code>{&quot;field1: {&quot;$in&quot;: [1,2,3]}</code>
Gleichwertig<code>field IN (1,2,3)</code>.</p></li> <li><p><code>{&quot;field1&quot;: {&quot;$nin&quot;: [1,2,3]}</code>
Äquivalent zum Feld NOT IN (1,2,3).</p></li> <li><p><code>{&quot;field&quot;: {&quot;$lt&quot;: 12}}</code>
Gleichwertig <code>field &lt;12</code>.</p></li> <li><p><code>{&quot;field&quot;: {&quot;$lte&quot;: 12}}</code>
Gleichwertig f<code>ield &lt;= 12</code>.</p></li> <li><p><code>{&quot;field&quot;: {&quot;$gt&quot;: 12}}</code>
Gleichwertig <code>field&gt; 12</code>.</p></li> <li><p><code>{&quot;field&quot;: {&quot;$gte&quot;: 12}}</code>
Gleichwertig <code>field &gt;= 12</code>.</p></li> <li><p><code>{&quot;$and&quot;: [&lt;expr1&gt;, &lt;expr2&gt;, &lt;expr3&gt;]}</code>
Gleichwertig <code>expr1 AND expr2 AND expr3</code>.</p></li> <li><p><code>{&quot;$or&quot;: [&lt;expr1&gt;, &lt;expr2&gt;, &lt;expr3&gt;]}</code>
Gleichwertig <code>expr1 OR expr2 OR expr3</code>.</p></li> <li><p><code>{field: {&quot;$like&quot;: &quot;value&quot;}}</code>
Gleichwertig <code>field like'%value%'</code> (fuzzy search).</p></li> <li><p><code>{field: {&quot;$begin&quot;: &quot;value&quot;}}</code>
Gleichwertig <code>field like'value%'</code> (starts with <code>value</code>).</p></li> <li><p><code>{field: {&quot;$end&quot;: &quot;value&quot;}}</code>
Gleichwertig <code>field like'%value'</code> (ends with <code>value</code>).</p></li> <li><p><code>{field: &quot;$isnull&quot;}</code>
Äquivalent zum Feld ist null.</p></li></ul></li></ul> <p>Achten Sie darauf, die Schlüssel von Objekt-Arrays nicht zu überschreiben. Wenn Sie beispielsweise mit <code>id&gt;2 und id&lt;5</code> abfragen möchten, können Sie <code>{id:{&quot;$gt&quot;: 2}, id:{&quot;$lt&quot;: 5}}</code> nicht verwenden, da die Das erste Element wird durch das zweite Element überschrieben. Sie sollten die folgende Abfragestruktur verwenden:</p> <div class="language- extra-class"><pre class="language-text"><code>{id: [{&quot;$gt&quot;: 2}, {&quot;$lt&quot;: 5}]}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>{&quot;$and&quot;: [{id:{&quot;$gt&quot;: 2}}, {id:{&quot;$lt&quot;: 5}}]}
</code></pre></div><ul><li><p><strong>Id</strong></p> <p>Abfragen nach ID. Beispiel: .WhereId(1).</p></li> <li><p><strong>Befehl</strong></p> <div class="language- extra-class"><pre><code>Wird verwendet, um die Ergebnismenge nach einer bestimmten Spalte oder standardmäßig nach ID zu sortieren.

Wenn Sie nur ein Feld zum Sortieren verwenden, können Sie es als Zeichenfolge angeben. Um mehrere Felder zu sortieren, müssen Sie ein Array von String-Objekten angeben:

Absteigende Reihenfolge: `{&quot;field&quot;: &quot;-1&quot;}` Äquivalent zu `field desc`.

Aufsteigende Reihenfolge: `{&quot;field&quot;: &quot;1&quot;}` Äquivalent zu `field asc`.
</code></pre></div></li> <li><p><strong>Grenze</strong></p> <div class="language- extra-class"><pre><code>Gibt die Anzahl der Einträge zurück. 25, standardmäßig. Die maximale Anzahl beträgt 10.000.
</code></pre></div></li> <li><p><strong>Versatz</strong></p> <div class="language- extra-class"><pre><code>Versatz.
</code></pre></div></li> <li><p><strong>Ökosystemid</strong></p> <div class="language- extra-class"><pre><code>Ökosystem-ID. Standardmäßig wird die Tabelle des aktuellen Ökosystems abgefragt.
</code></pre></div></li></ul> <h4 id="beispiel-2"><a href="#beispiel-2" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var i int
var ret string
ret = DBFind(&quot;contracts&quot;).Columns(&quot;id,value&quot;).Where({id: [{&quot;$gt&quot;: 2}, {&quot;$lt&quot;: 5}]}).Order( &quot;id&quot;)
while i &lt;Len(ret) {
  var vals map
  vals = ret[0]
  Println(vals[&quot;value&quot;])
  i = i + 1
}
ret = DBFind(&quot;contracts&quot;).Columns(&quot;id,value&quot;).WhereId(10).One(&quot;value&quot;)
if ret != nil {
  Println(ret)
  Println(ret)
  Println(ret)
}
</code></pre></div><p>​</p> <h3 id="dbzeile"><a href="#dbzeile" class="header-anchor">#</a> DBZeile</h3> <p>Fragt Daten aus einer angegebenen Tabelle mit den angegebenen Parametern ab. Gibt ein Array zurück, bestehend aus einem Array von Objekten map.</p> <h4 id="syntax-3"><a href="#syntax-3" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DBRow(table string)
 [.Columns(columns array|string)]
 [.Where(where map)]
 [.WhereId(id int)]
 [.Order(order array|string)]
 [.Ecosystem(ecosystemid int)] map
</code></pre></div><ul><li><p><strong>table</strong></p> <p>Tabellenname.</p></li> <li><p><strong>columns</strong></p> <p>Gibt eine Liste von Spalten zurück. Wenn nicht angegeben, werden alle Spalten zurückgegeben.</p> <p>Der Wert ist ein Array oder ein durch Kommas getrennter String.</p></li> <li><p><strong>where</strong></p> <p>Bedingungen abfragen.</p> <p>Zum Beispiel: <code>.Where({name: &quot;John&quot;})</code> or <code>.Where({&quot;id&quot;: {&quot;$gte&quot;: 4}})</code>.</p> <p>Weitere Einzelheiten finden Sie unter <a href="#dbfind">DBFind</a>.</p></li> <li><p><strong>Id</strong></p> <p>Abfrage nach ID. Zum Beispiel, <code>.WhereId(1)</code>.</p></li> <li><p><strong>Befehl</strong></p> <p>Wird verwendet, um die Ergebnismenge nach einer bestimmten Spalte oder standardmäßig nach ID zu sortieren.</p> <p>Weitere Einzelheiten finden Sie unter <a href="#dbfind">DBFind</a>.</p></li> <li><p><strong>Ökosystemid</strong></p> <p>Ökosystem-ID. Standardmäßig wird die Tabelle des aktuellen Ökosystems abgefragt.</p></li></ul> <h4 id="beispiel-3"><a href="#beispiel-3" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var ret map
ret = DBRow(&quot;contracts&quot;).Columns([&quot;id&quot;,&quot;value&quot;]).Where({id: 1})
Println(ret)
</code></pre></div><h3 id="dbselectmetrics"><a href="#dbselectmetrics" class="header-anchor">#</a> DBSelectMetrics</h3> <p>Gibt die aggregierten Daten einer Metrik zurück.</p> <p>Die Metriken werden jedes Mal aktualisiert, wenn 100 Blöcke generiert werden. Und die aggregierten Daten werden in einem 1-Tages-Zyklus gespeichert.</p> <h4 id="syntax-4"><a href="#syntax-4" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DBSelectMetrics(metric string, timeInterval string, aggregateFunc string) array

</code></pre></div><ul><li><p><strong>metric</strong></p> <p>Metrikname</p> <ul><li><p><strong>ecosystem_pages</strong></p> <p>Anzahl der Ökosystemseiten.</p> <p>Rückgabewert: Schlüssel - Ökosystem-ID, Wert - Anzahl der Ökosystemseiten.</p></li> <li><p><strong>ecosystem_members</strong>
Anzahl der Ökosystemmitglieder.</p> <p>Rückgabewert: Schlüssel - Ökosystem-ID, Wert - Anzahl der Ökosystemmitglieder.</p></li> <li><p><strong>ecosystem_tx</strong></p> <p>Anzahl der Ökosystemtransaktionen.</p> <p>Rückgabewert: Schlüssel - Ökosystem-ID, Wert - Anzahl der Ökosystemtransaktionen.</p></li></ul></li> <li><p><strong>timeInterval</strong></p> <p>Das Zeitintervall zum Aggregieren von Metrikdaten. Zum Beispiel: <code>1 day</code>, <code>30 days</code>.</p></li> <li><p><strong>aggregateFunc</strong></p> <p>Aggregatfunktion. Zum Beispiel, <code>max</code>, <code>min</code>, <code>avg</code>.</p></li></ul> <h4 id="beispiel-4"><a href="#beispiel-4" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var rows array
rows = DBSelectMetrics(&quot;ecosystem_tx&quot;, &quot;30 days&quot;, &quot;avg&quot;)
var i int
while(i &lt;Len(rows)) {
  var row map
  row = rows[i]
  i = i + 1
}
</code></pre></div><h3 id="ecosysparam"><a href="#ecosysparam" class="header-anchor">#</a> EcosysParam</h3> <p>Gibt den Wert eines angegebenen Parameters in den Parametern der Ökosystemparametertabelle zurück.</p> <h4 id="syntax-5"><a href="#syntax-5" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>EcosysParam(name string) string

</code></pre></div><ul><li><p><strong>name</strong></p> <p>Parametername.</p></li></ul> <h4 id="beispiel-5"><a href="#beispiel-5" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>Println(EcosysParam(&quot;founder_account&quot;))
</code></pre></div><h3 id="gethistory"><a href="#gethistory" class="header-anchor">#</a> GetHistory</h3> <p>Gibt den Verlauf der Änderungen an Einträgen in einer angegebenen Tabelle zurück.</p> <h4 id="syntax-6"><a href="#syntax-6" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetHistory(table string, id int) array

</code></pre></div><ul><li><p><strong>table</strong></p> <p>Tabellenname.</p></li> <li><p><strong>Id</strong></p> <p>Eintrags-ID.</p></li></ul> <blockquote><p><strong>Rückgabewert</strong></p></blockquote> <p>Gibt ein Array von Objekten vom Typ map zurück, die den Änderungsverlauf von Einträgen in Tabellen angeben.</p> <p>Jedes Array enthält die Felder eines Datensatzes, bevor die nächste Änderung vorgenommen wird.
Das Array ist nach der Reihenfolge der letzten Änderungen sortiert.</p> <p>Das ID-Feld im Array zeigt auf die ID der rollback_tx-Tabelle. block_id stellt die Block-ID dar, während block_time den Zeitstempel der Blockgenerierung darstellt.</p> <h4 id="beispiel-6"><a href="#beispiel-6" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var list array
var item map
list = GetHistory(&quot;blocks&quot;, 1)
if Len(list) &gt; 0 {
  item = list[0]
}
</code></pre></div><h3 id="gethistoryrow"><a href="#gethistoryrow" class="header-anchor">#</a> GetHistoryRow</h3> <p>Gibt einen einzelnen Snapshot aus dem Änderungsverlauf eines angegebenen Eintrags in einer angegebenen Tabelle zurück.</p> <h4 id="syntax-7"><a href="#syntax-7" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetHistoryRow(table string, id int, rollbackId int) map
</code></pre></div><ul><li><p><strong>table</strong></p> <p>Tabellenname.</p></li> <li><p><strong>Id</strong></p> <p>Eintrags-ID.</p></li> <li><p><strong>rollbackId</strong></p> <p>rollback_tx die Eintrags-ID der Tabelle.</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>  $result = GetHistoryRow(&quot;contracts&quot;,205,2358)
</code></pre></div><h3 id="getcolumntype"><a href="#getcolumntype" class="header-anchor">#</a> GetColumnType</h3> <p>Gibt den Datentyp eines angegebenen Felds in einer angegebenen Tabelle zurück.</p> <h4 id="syntax-8"><a href="#syntax-8" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetColumnType(table, column string) string

</code></pre></div><ul><li><p><strong>table</strong></p> <p>Tabellenname.</p></li> <li><p><strong>column</strong></p> <p>Field Name.</p></li></ul> <blockquote><p><strong>Return value</strong></p></blockquote> <p>Folgende Typen können zurückgegeben werden: <code>text, varchar, number, money, double, bytes, json, datetime, double</code>.</p> <h4 id="beispiel-7"><a href="#beispiel-7" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var coltype string
coltype = GetColumnType(&quot;members&quot;, &quot;member_name&quot;)
</code></pre></div><h3 id="daten-abrufen-vonxlsx"><a href="#daten-abrufen-vonxlsx" class="header-anchor">#</a> Daten abrufen vonXLSX</h3> <p>Gibt Daten aus XLSX-Tabellen zurück.</p> <h4 id="syntax-9"><a href="#syntax-9" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetDataFromXLSX(binId int, line int, count int, sheet int) string

</code></pre></div><ul><li><p><strong>binId</strong></p> <p>ID im XLSX-Format in der Binärtabelle binär.</p></li> <li><p><strong>line</strong></p> <p>Die Startzeilennummer, beginnend standardmäßig bei 0.</p></li> <li><p><strong>count</strong></p> <p>Die Anzahl der Zeilen, die zurückgegeben werden müssen.</p></li> <li><p><strong>sheet</strong></p> <p>Listennummer, beginnend standardmäßig bei 1.</p></li></ul> <h4 id="beispiel-8"><a href="#beispiel-8" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var a array
a = GetDataFromXLSX(3, 12, 10, 1)
</code></pre></div><h3 id="getrowscountxlsx"><a href="#getrowscountxlsx" class="header-anchor">#</a> GetRowsCountXLSX</h3> <p>Gibt die Anzahl der Zeilen in einer angegebenen XLSX-Datei zurück.</p> <h4 id="syntax-10"><a href="#syntax-10" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetRowsCountXLSX(binId int, sheet int) int
</code></pre></div><ul><li><p><strong>binId</strong></p> <p>ID in XLSX format in the binary table binary.</p></li> <li><p><strong>sheet</strong></p> <p>List number, starting from 1 by default.</p></li></ul> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <div class="language- extra-class"><pre class="language-text"><code>var count int
count = GetRowsCountXLSX(binid, 1)
</code></pre></div><h3 id="langres"><a href="#langres" class="header-anchor">#</a> LangRes</h3> <p>Gibt eine mehrsprachige Ressource mit Namensbeschriftung für die Sprache lang zurück, die als zweistelliger Code angegeben ist, zum Beispiel: <code>en</code>, <code>zh</code>. Wenn für eine ausgewählte Sprache keine Sprache vorhanden ist, wird die Sprachressource des <code>en</code>-Labels zurückgegeben.,</p> <h4 id="syntax-11"><a href="#syntax-11" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>LangRes(label string, lang string) string
</code></pre></div><ul><li><p><strong>label</strong></p> <p>Name der Sprachressource.</p></li> <li><p><strong>lang</strong></p> <p>Zweistelliger Sprachcode.</p></li></ul> <h4 id="beispiel-9"><a href="#beispiel-9" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>warning LangRes(&quot;@1confirm&quot;, &quot;en&quot;)
error LangRes(&quot;@1problems&quot;, &quot;zh&quot;)
</code></pre></div><h3 id="block-bekommen"><a href="#block-bekommen" class="header-anchor">#</a> Block bekommen</h3> <p>Gibt relevante Informationen zu einem angegebenen Block zurück.</p> <h4 id="syntax-12"><a href="#syntax-12" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetBlock(blockID int64) map

</code></pre></div><p>*<strong>blockID</strong></p> <p>Block-ID.</p> <blockquote><p><strong>Return value</strong></p></blockquote> <p>Gibt ein Array von Objekten zurück:</p> <ul><li><p><strong>Ich würde</strong></p> <p>Block-ID.</p></li> <li><p><strong>Time</strong></p> <p>Zeitstempel der Blockgenerierung.</p></li> <li><p><strong>key_id</strong></p> <p>Die Kontoadresse des Verifizierungsknotens hat den Block generiert.</p></li></ul> <h4 id="beispiel-10"><a href="#beispiel-10" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var b map
b = GetBlock(1)
Println(b)
</code></pre></div><h3 id="dbeinfugen"><a href="#dbeinfugen" class="header-anchor">#</a> DBEinfügen</h3> <p>Fügt einer angegebenen Tabelle einen Eintrag hinzu und gibt die Eintrags-ID zurück.</p> <h4 id="syntax-13"><a href="#syntax-13" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DBInsert(table string, params map) int

</code></pre></div><ul><li><p><strong>tblname</strong></p> <p>Tabellenname.</p></li> <li><p><strong>Parameter</strong></p> <p>Ein Array von Objekten, bei dem Schlüssel Feldnamen und Werte eingefügte Werte sind.</p></li></ul> <h4 id="beispiel-11"><a href="#beispiel-11" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>DBInsert(&quot;mytable&quot;, {name: &quot;John Smith&quot;, amount: 100})
</code></pre></div><h3 id="db-update"><a href="#db-update" class="header-anchor">#</a> DB-Update</h3> <p>Ändert den Spaltenwert einer angegebenen Eintrags-ID in einer angegebenen Tabelle. Wenn die Eintrags-ID nicht in der Tabelle vorhanden ist, wird ein Fehler zurückgegeben.</p> <h4 id="syntax-14"><a href="#syntax-14" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DBUpdate(tblname string, id int, params map)

</code></pre></div><ul><li><p><strong>tblname</strong></p> <p>Tabellenname.</p></li> <li><p><strong>Id</strong></p> <p>Eintrags-ID.</p></li> <li><p><strong>Params</strong></p> <p>Ein Array von Objekten, bei dem Schlüssel Feldnamen und Werte neue Werte nach Änderungen sind.</p></li></ul> <h4 id="beispiel-12"><a href="#beispiel-12" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>DBUpdate(&quot;mytable&quot;, myid, {name: &quot;John Smith&quot;, amount: 100})
</code></pre></div><h3 id="db-updateext"><a href="#db-updateext" class="header-anchor">#</a> DB-UpdateExt</h3> <p>Ändert den Wert einer Spalte in einer angegebenen Tabelle, die der Abfragebedingung entspricht.</p> <h4 id="syntax-15"><a href="#syntax-15" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DBUpdateExt(tblname string, where map, params map)

</code></pre></div><ul><li><p><strong>tblname</strong></p> <p>Tabellenname.</p></li> <li><p><strong>where</strong></p> <p>Bedingungen abfragen.</p> <p>Weitere Einzelheiten finden Sie unter <a href="#dbfind">DBFind</a>.</p></li> <li><p><strong>params</strong></p></li></ul> <p>Ein Array von Objekten, bei dem Schlüssel Feldnamen und Werte neue Werte nach Änderungen sind.</p> <h4 id="beispiel-13"><a href="#beispiel-13" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>DBUpdateExt(&quot;mytable&quot;, {id: $key_id, ecosystem: $ecosystem_id}, {name: &quot;John Smith&quot;, amount: 100})
</code></pre></div><h3 id="spalte-loschen"><a href="#spalte-loschen" class="header-anchor">#</a> Spalte löschen</h3> <p>Löscht ein Feld in einer angegebenen Tabelle, das keine Datensätze enthält.</p> <h4 id="syntax-16"><a href="#syntax-16" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DelColumn(tblname string, column string)

</code></pre></div><ul><li><p><strong>tblname</strong></p> <p>Table name.</p></li> <li><p><strong>column</strong></p> <p>The field to be deleted.</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>DelColumn(&quot;mytable&quot;, &quot;mycolumn&quot;)
</code></pre></div><h3 id="spalte-loschen-2"><a href="#spalte-loschen-2" class="header-anchor">#</a> Spalte löschen</h3> <p>Löscht eine angegebene Tabelle, die keine Datensätze enthält.</p> <h4 id="syntax-17"><a href="#syntax-17" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DelTable(tblname string)

</code></pre></div><ul><li><p><strong>tblname</strong></p> <p>Table name.</p></li></ul> <h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example</h4> <div class="language- extra-class"><pre class="language-text"><code>DelTable(&quot;mytable&quot;)
</code></pre></div><h3 id="anhangen"><a href="#anhangen" class="header-anchor">#</a> Anhängen</h3> <p>Fügt einen beliebigen Werttyp in das src-Array ein.</p> <h4 id="syntax-18"><a href="#syntax-18" class="header-anchor">#</a> Syntax</h4> <p>Append(src array, val anyType) array</p> <ul><li><p><strong>src</strong></p> <p>Das ursprüngliche Array.</p></li> <li><p><strong>val</strong></p> <p>Der einzufügende Wert.</p></li></ul> <h4 id="beispiel-14"><a href="#beispiel-14" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var list array
list = Append(list, &quot;new_val&quot;)
</code></pre></div><h3 id="beitreten"><a href="#beitreten" class="header-anchor">#</a> Beitreten</h3> <p>Kombiniert Elemente des in-Arrays zu einer Zeichenfolge mit einem angegebenen Sep-Trennzeichen.</p> <h4 id="syntax-19"><a href="#syntax-19" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Join(in array, sep string) string

</code></pre></div><ul><li><p><strong>In</strong></p> <p>Array-Name.</p></li> <li><p><strong>sep</strong></p> <p>Separator.</p></li></ul> <h4 id="beispiel-15"><a href="#beispiel-15" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code> var val string, myarr array
 myarr[0] = &quot;first&quot;
 myarr[1] = 10
 val = Join(myarr, &quot;,&quot;)
</code></pre></div><h3 id="teilt"><a href="#teilt" class="header-anchor">#</a> Teilt</h3> <p>Verwendet das Trennzeichen sep, um den in-String in Elemente aufzuteilen und sie in ein Array einzufügen.</p> <h4 id="syntax-20"><a href="#syntax-20" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Split(in string, sep string) array
</code></pre></div><ul><li><p><strong>In</strong></p> <p>String.</p></li> <li><p><strong>sep</strong></p> <p>Separator.</p></li></ul> <h4 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example</h4> <div class="language- extra-class"><pre class="language-text"><code>var myarr array
myarr = Split(&quot;first,second,third&quot;, &quot;,&quot;)
</code></pre></div><h3 id="len"><a href="#len" class="header-anchor">#</a> Len</h3> <p>Gibt die Anzahl der Elemente in einem angegebenen Array zurück.</p> <h4 id="syntax-21"><a href="#syntax-21" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Len(val array) int
</code></pre></div><ul><li><p><strong>val</strong></p> <p>Array.</p></li></ul> <h4 id="example-4"><a href="#example-4" class="header-anchor">#</a> Example</h4> <div class="language- extra-class"><pre class="language-text"><code>if Len(mylist) == 0 {
  ...
}
</code></pre></div><h3 id="reihe"><a href="#reihe" class="header-anchor">#</a> Reihe</h3> <p>Der Listenparameter darf in diesem Fall nicht angegeben werden. Gibt das erste Objekt-Array in der Array-Liste zurück. Wenn die Liste leer ist, wird ein leeres Ergebnis zurückgegeben. Diese Funktion wird meistens in Verbindung mit der Funktion <a href="#dbfind">DBFind</a> verwendet. Bei Verwendung dieser Funktion können Sie keine Parameter angeben.</p> <h4 id="syntax-22"><a href="#syntax-22" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code> Row(list array) map
</code></pre></div><ul><li><strong>list</strong></li></ul> <p>Das Array von Objekten, das von der DBFind-Funktion zurückgegeben wird.</p> <h4 id="beispiel-16"><a href="#beispiel-16" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code> var ret map
 ret = DBFind(&quot;contracts&quot;).Columns(&quot;id,value&quot;).WhereId(10).Row()
 Println(ret)
</code></pre></div><h3 id="ein"><a href="#ein" class="header-anchor">#</a> Ein</h3> <p>Gibt den Feldwert des ersten Objekt-Arrays in der Array-Liste zurück. Wenn das Listenarray leer ist, wird nil zurückgegeben. Es wird meistens in Verbindung mit der Funktion <a href="#dbfind">DBFind</a> verwendet. Bei Verwendung dieser Funktion können Sie keine Parameter angeben.</p> <h4 id="syntax-23"><a href="#syntax-23" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>One(list array, column string) string
</code></pre></div><ul><li><strong>list</strong></li></ul> <p>The array of objects returned by the DBFind function.</p> <ul><li><p><strong>column</strong></p> <p>Feldname.</p></li></ul> <h4 id="beispiel-17"><a href="#beispiel-17" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var ret string
ret = DBFind(&quot;contracts&quot;).Columns(&quot;id,value&quot;).WhereId(10).One(&quot;value&quot;)
if ret != nil {
  Println(ret)
}
</code></pre></div><h3 id="holen-sie-sich-kartenschlussel"><a href="#holen-sie-sich-kartenschlussel" class="header-anchor">#</a> Holen Sie sich Kartenschlüssel</h3> <p>Gibt das Schlüsselarray im Objektarray zurück.</p> <h4 id="syntax-24"><a href="#syntax-24" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetMapKeys(val map) array
</code></pre></div><ul><li><p><strong>val</strong></p> <p>Objekt-Array.</p></li></ul> <h4 id="beispiel-18"><a href="#beispiel-18" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var val map
var arr array
val[&quot;k1&quot;] = &quot;v1&quot;
val[&quot;k2&quot;] = &quot;v2&quot;
arr = GetMapKeys(val)
</code></pre></div><h3 id="sortierte-schlussel"><a href="#sortierte-schlussel" class="header-anchor">#</a> Sortierte Schlüssel</h3> <p>Gibt ein sortiertes Schlüsselarray im Objektarray zurück.</p> <h4 id="syntax-25"><a href="#syntax-25" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>SortedKeys(val map) array

</code></pre></div><ul><li><p><strong>val</strong></p> <p>Objeckt array.</p></li></ul> <h4 id="beispiel-19"><a href="#beispiel-19" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var val map
var arr array
val[&quot;k2&quot;] = &quot;v2&quot;
val[&quot;k1&quot;] = &quot;v1&quot;
arr = SortedKeys(val)
</code></pre></div><h3 id="anrufvertrag"><a href="#anrufvertrag" class="header-anchor">#</a> Anrufvertrag</h3> <p>Ruft den Vertrag mit einem angegebenen Namen auf. Alle Parameter des Datenabschnitts im Vertrag müssen in einem Objektarray enthalten sein. Diese Funktion gibt den Wert zurück, der der Variable <strong>$result</strong> durch einen bestimmten Vertrag zugewiesen wurde.</p> <h4 id="syntax-26"><a href="#syntax-26" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>CallContract(name string, params map)

</code></pre></div><ul><li><p><strong>name</strong></p> <p>Der Name des aufgerufenen Vertrags.</p></li> <li><p><strong>params</strong></p> <p>Ein assoziatives Array der Vertragseingabedaten.</p></li></ul> <h4 id="beispiel-20"><a href="#beispiel-20" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var par map
par[&quot;Name&quot;] = &quot;My Name&quot;
CallContract(&quot;MyContract&quot;, par)
</code></pre></div><h3 id="vertragszugang"><a href="#vertragszugang" class="header-anchor">#</a> Vertragszugang</h3> <p>Überprüft, ob der Name des ausgeführten Vertrags mit einem der in den Parametern aufgeführten Namen übereinstimmt. Normalerweise wird es verwendet, um den Vertragszugriff auf Tabellen zu steuern. Beim Bearbeiten von Tabellenfeldern oder beim Einfügen und Hinzufügen neuer Spaltenfelder im Berechtigungsabschnitt der Tabelle geben Sie diese Funktion bitte in den Berechtigungsfeldern an.</p> <h4 id="syntax-27"><a href="#syntax-27" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>ContractAccess(name string, [name string]) bool
</code></pre></div><ul><li><p><strong>name</strong></p> <p>Vertragsname.</p></li></ul> <h4 id="beispiel-21"><a href="#beispiel-21" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>ContractAccess(&quot;MyContract&quot;)
ContractAccess(&quot;MyContract&quot;,&quot;SimpleContract&quot;)
</code></pre></div><h3 id="vertragsbedingungen"><a href="#vertragsbedingungen" class="header-anchor">#</a> Vertragsbedingungen</h3> <p>Ruft den Abschnitt Bedingungen im Vertrag mit einem angegebenen Namen auf.</p> <p>Für diese Art von Verträgen muss der Datenabschnitt leer sein. Wenn der Abschnitt Bedingungen ohne Fehler ausgeführt wird, gibt er wahr zurück. Kommt es bei der Ausführung zu einem Fehler, wird auch der Muttervertrag aufgrund des Fehlers gekündigt. Diese Funktion dient in der Regel dazu, den Zugriff des Vertrags auf Tabellen zu steuern und kann bei der Bearbeitung von Systemtabellen in den Berechtigungsfeldern aufgerufen werden.</p> <h4 id="syntax-28"><a href="#syntax-28" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>ContractConditions(name string, [name string]) bool

</code></pre></div><ul><li><p><strong>name</strong></p> <p>Vertragsname.</p></li></ul> <h4 id="beispiel-22"><a href="#beispiel-22" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>ContractConditions(&quot;MainCondition&quot;)
</code></pre></div><h3 id="eval-zustand"><a href="#eval-zustand" class="header-anchor">#</a> Eval Zustand</h3> <p>Ruft den Wert des condfield-Felds im Datensatz mit einem 'name'-Feld aus der tablename-Tabelle ab und prüft die Bedingungen des condfield-Feldwerts.</p> <h4 id="syntax-29"><a href="#syntax-29" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>EvalCondition(tablename string, name string, condfield string)

</code></pre></div><ul><li><p><strong>tablename</strong></p> <p>Tabellenname.</p></li> <li><p><strong>name</strong></p> <p>Fragt den Wert mit dem Feld „Name“ ab.</p></li> <li><p><strong>condfield</strong></p> <p>Der Name des Felds, dessen Bedingungen überprüft werden müssen.</p></li></ul> <h4 id="beispiel-23"><a href="#beispiel-23" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>EvalCondition(`menu`, $Name, `conditions`)
</code></pre></div><h3 id="vertrag-per-id-erhalten"><a href="#vertrag-per-id-erhalten" class="header-anchor">#</a> Vertrag per ID erhalten</h3> <p>Gibt seinen Vertragsnamen nach Vertrags-ID zurück. Wenn der Vertrag nicht gefunden wird, wird eine leere Zeichenfolge zurückgegeben.</p> <h4 id="syntax-30"><a href="#syntax-30" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetContractById(id int) string

</code></pre></div><ul><li><p><strong>Id</strong></p> <p>Die Vertrags-ID in den Verträgen der Vertragstabelle.</p></li></ul> <h4 id="beispiel-24"><a href="#beispiel-24" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var name string
name = GetContractById($IdContract)
</code></pre></div><h3 id="vertrag-nach-namen-abrufen"><a href="#vertrag-nach-namen-abrufen" class="header-anchor">#</a> Vertrag nach Namen abrufen</h3> <p>Diese Funktion gibt ihre Vertrags-ID nach Vertragsname zurück. Wenn der Vertrag nicht gefunden wird, wird Null zurückgegeben.</p> <h4 id="syntax-31"><a href="#syntax-31" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetContractByName(name string) int
</code></pre></div><ul><li><p><strong>name</strong></p> <p>Der Vertragsname in der Vertragstabelle Contracts.</p></li></ul> <h4 id="beispiel-25"><a href="#beispiel-25" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var id int
id = GetContractByName(`NewBlock`)
</code></pre></div><h3 id="rollenzugriff"><a href="#rollenzugriff" class="header-anchor">#</a> Rollenzugriff</h3> <p>Überprüft, ob die Rollen-ID des Vertragsaufrufers mit einer der im Parameter angegebenen IDs übereinstimmt.</p> <p>Mit dieser Funktion können Sie den Vertragszugriff auf Tabellen und andere Daten steuern.</p> <h4 id="syntax-32"><a href="#syntax-32" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>RoleAccess(id int, [id int]) bool
</code></pre></div><ul><li><p><strong>Id</strong></p> <p>Role ID.</p></li></ul> <h4 id="example-5"><a href="#example-5" class="header-anchor">#</a> Example</h4> <div class="language- extra-class"><pre class="language-text"><code>RoleAccess(1)
RoleAccess(1, 3)
</code></pre></div><h3 id="transaktionsinfo"><a href="#transaktionsinfo" class="header-anchor">#</a> Transaktionsinfo</h3> <p>Fragt Transaktionen anhand des angegebenen Hash-Werts ab und gibt Informationen über den ausgeführten Vertrag und seine Parameter zurück.</p> <h4 id="syntax-33"><a href="#syntax-33" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>TransactionInfo(hash: string)
</code></pre></div><ul><li><p><strong>hash</strong></p> <p>Transaktions-Hash im hexadezimalen Zeichenfolgenformat.</p></li></ul> <blockquote><p><strong>Return value</strong></p></blockquote> <p>Diese Funktion gibt einen String im JSON-Format zurück:</p> <div class="language- extra-class"><pre class="language-text"><code>{&quot;contract&quot;:&quot;ContractName&quot;, &quot;params&quot;:{&quot;key&quot;: &quot;val&quot;}, &quot;block&quot;: &quot;N&quot;}
</code></pre></div><ul><li><p><strong>contract</strong></p> <p>Vertragsname.</p></li> <li><p><strong>params</strong></p></li></ul> <div class="language- extra-class"><pre><code> An Vertragsparameter übergebene Daten.
</code></pre></div><ul><li><p><strong>block</strong></p> <p>ID des Blocks, der die Transaktion verarbeitet hat.</p></li></ul> <h4 id="beispiel-26"><a href="#beispiel-26" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var out map
out = JSONDecode(TransactionInfo(hash))
</code></pre></div><h3 id="wurf"><a href="#wurf" class="header-anchor">#</a> Wurf</h3> <p>Erzeugt einen Fehler vom Typ Ausnahme.</p> <h4 id="syntax-34"><a href="#syntax-34" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Throw(ErrorId string, ErrDescription string)
</code></pre></div><ul><li><p><strong>ErrorId</strong></p> <p>Fehlerkennung.</p></li> <li><p><strong>ErrDescription</strong></p> <p>Fehlerbeschreibung.</p></li></ul> <blockquote><p><strong>Return value</strong></p></blockquote> <p>Das Format dieser Art von Transaktionsergebnissen:</p> <div class="language- extra-class"><pre class="language-text"><code>{&quot;type&quot;:&quot;exception&quot;,&quot;error&quot;:&quot;Error description&quot;,&quot;id&quot;:&quot;Error ID&quot;}
</code></pre></div><h4 id="beispiel-27"><a href="#beispiel-27" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>Throw(&quot;Problem&quot;, &quot;There is a problem&quot;)
</code></pre></div><h3 id="bedingung-validieren"><a href="#bedingung-validieren" class="header-anchor">#</a> Bedingung validieren</h3> <p>Versucht, die vom Bedingungsparameter angegebenen Bedingungen zu kompilieren. Tritt während des Kompiliervorgangs ein Fehler auf, wird ein Fehler generiert und der aufgerufene Vertrag beendet. Diese Funktion dient dazu, die Korrektheit des bedingten Formats zu überprüfen.</p> <h4 id="syntax-35"><a href="#syntax-35" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>ValidateCondition(condition string, state int)
</code></pre></div><ul><li><p><strong>Condition</strong></p> <p>Das bedingte Format, das überprüft werden muss.</p></li> <li><p><strong>State</strong></p> <p>Ökosystem-ID. Wenn Sie die globale Bedingung überprüfen, geben Sie sie bitte als 0 an.</p></li></ul> <h4 id="beispiel-28"><a href="#beispiel-28" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>ValidateCondition(`ContractAccess(&quot;@1MyContract&quot;)`, 1)
</code></pre></div><h3 id="adresse-bis-id"><a href="#adresse-bis-id" class="header-anchor">#</a> Adresse bis ID</h3> <p>Gibt die entsprechende Kontoadresse nach Wallet-Adresse zurück. Wenn eine ungültige Adresse angegeben wird, wird '0' zurückgegeben.</p> <h4 id="syntax-36"><a href="#syntax-36" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>AddressToId(address string) int

</code></pre></div><ul><li><p>Address</p> <p>Wallet address in <code>XXXX-...-XXXX</code> format or number format.</p></li></ul> <h4 id="beispiel-29"><a href="#beispiel-29" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>wallet = AddressToId($Recipient)
</code></pre></div><h3 id="id-zu-adresse"><a href="#id-zu-adresse" class="header-anchor">#</a> ID zu Adresse</h3> <p>Gibt die entsprechende Brieftaschenadresse nach Kontoadresse zurück. Wenn eine ungültige Adresse angegeben wird, wird die ungültige Adresse <code>invalid</code> zurückgegeben.</p> <h4 id="syntax-37"><a href="#syntax-37" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>IdToAddress(id int) string

</code></pre></div><ul><li><p><strong>Id</strong></p> <p>Kontoadresse.</p></li></ul> <h4 id="beispiel-30"><a href="#beispiel-30" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>$address = IdToAddress($id)
</code></pre></div><h3 id="pub-zu-id"><a href="#pub-zu-id" class="header-anchor">#</a> Pub zu ID</h3> <p>Die Kontoadresse wird per öffentlichem Schlüssel im Hexadezimalformat zurückgegeben.</p> <h4 id="syntax-38"><a href="#syntax-38" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>PubToID(hexkey string) int

</code></pre></div><ul><li><p><strong>hexkey</strong></p> <p>Der öffentliche Schlüssel im Hexadezimalformat.</p></li></ul> <h4 id="beispiel-31"><a href="#beispiel-31" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var wallet int
wallet = PubToID(&quot;04fa5e78.....34abd6&quot;)
</code></pre></div><h3 id="dekodierenbase64"><a href="#dekodierenbase64" class="header-anchor">#</a> DekodierenBase64</h3> <p>Gibt eine Zeichenfolge zurück, indem das base64-Format angegeben wird</p> <h4 id="syntax-39"><a href="#syntax-39" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DecodeBase64(input string) string

</code></pre></div><ul><li><p><strong>Input</strong></p> <p>String in base64 format.</p></li></ul> <h4 id="beispiel-32"><a href="#beispiel-32" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = DecodeBase64(mybase64)
</code></pre></div><h3 id="kodierenbase64"><a href="#kodierenbase64" class="header-anchor">#</a> KodierenBase64</h3> <p>Gibt eine Zeichenfolge im Base64-Format zurück, indem eine Zeichenfolge angegeben wird.</p> <h4 id="syntax-40"><a href="#syntax-40" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>EncodeBase64(input string) string

</code></pre></div><ul><li><p><strong>Input</strong></p> <p>Die zu codierende Zeichenfolge.</p></li></ul> <h4 id="beispiel-33"><a href="#beispiel-33" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var base64str string
base64str = EncodeBase64(&quot;my text&quot;)
</code></pre></div><h3 id="schweben"><a href="#schweben" class="header-anchor">#</a> Schweben</h3> <p>Konvertiert eine ganze Zahl oder einen String in eine Gleitkommazahl.</p> <h4 id="syntax-41"><a href="#syntax-41" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Float(val int|string) float

</code></pre></div><ul><li><p><strong>val</strong></p> <p>Eine Ganzzahl oder Zeichenfolge.</p></li></ul> <h4 id="beispiel-34"><a href="#beispiel-34" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = Float(&quot;567.989&quot;) + Float(232)
</code></pre></div><h3 id="hextobytes"><a href="#hextobytes" class="header-anchor">#</a> HexToBytes</h3> <p>Konvertiert eine Zeichenfolge im Hexadezimalformat in Bytes vom Typ Bytes.</p> <h4 id="syntax-42"><a href="#syntax-42" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>  HexToBytes(hexdata string) bytes

</code></pre></div><ul><li><p><strong>hexdata</strong></p> <p>Eine Zeichenfolge im Hexadezimalformat.</p></li></ul> <h4 id="beispiel-35"><a href="#beispiel-35" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var val bytes
val = HexToBytes(&quot;34fe4501a4d80094&quot;)
</code></pre></div><h3 id="geld-formatieren"><a href="#geld-formatieren" class="header-anchor">#</a> Geld formatieren</h3> <p>Gibt den Zeichenfolgenwert von exp / 10 ^ Ziffer zurück.</p> <h4 id="syntax-43"><a href="#syntax-43" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>FormatMoney(exp string, digit int) string
</code></pre></div><ul><li><p><strong>Exp</strong></p> <p>A number in string format.</p></li> <li><p><strong>digit</strong></p> <p>Der Exponent (positiv oder negativ) von 10 im Ausdruck <code>Exp/10^digit</code>. Positive Werte bestimmen Nachkommastellen.</p></li></ul> <h4 id="beispiel-36"><a href="#beispiel-36" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>  s = FormatMoney(&quot;78236475917384&quot;, 0)
</code></pre></div><h3 id="zufallig"><a href="#zufallig" class="header-anchor">#</a> Zufällig</h3> <div class="language- extra-class"><pre class="language-text"><code>Returns a random number between min and max (min &lt;= result &lt;max). Both min and max must be positive numbers.
</code></pre></div><h4 id="syntax-44"><a href="#syntax-44" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Random(min int, max int) int
</code></pre></div><ul><li><p><strong>min</strong></p> <p>Der Mindestwert unter den Zufallszahlen.</p></li> <li><p><strong>max</strong></p> <p>Die Obergrenze von Zufallszahlen. Die generierte Zufallszahl ist kleiner als dieser Wert.</p></li></ul> <h4 id="beispiel-37"><a href="#beispiel-37" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>i = Random(10,5000)
</code></pre></div><h3 id="int"><a href="#int" class="header-anchor">#</a> Int</h3> <p>Konvertiert einen Wert im String-Format in eine ganze Zahl.</p> <h4 id="syntax-45"><a href="#syntax-45" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Int(val string) int
</code></pre></div><ul><li><p><strong>val</strong></p> <p>Eine Zahl im Zeichenfolgenformat.</p></li></ul> <h4 id="beispiel-38"><a href="#beispiel-38" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>mystr = &quot;-37763499007332&quot;
val = Int(mystr)
</code></pre></div><h3 id="hash"><a href="#hash" class="header-anchor">#</a> Hash</h3> <p>Gibt den Hash eines angegebenen Byte-Arrays oder -Strings zurück, der von der Systemverschlüsselungsbibliothek crypto generiert wird.</p> <h4 id="syntax-46"><a href="#syntax-46" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Hash(val interface{}) string, error
</code></pre></div><ul><li><p><strong>val</strong></p> <p>Ein String- oder Byte-Array.</p></li></ul> <h4 id="beispiel-39"><a href="#beispiel-39" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var hash string
hash = Hash(&quot;Test message&quot;)
</code></pre></div><h3 id="sha256"><a href="#sha256" class="header-anchor">#</a> Sha256</h3> <p>Gibt den SHA256-Hash einer angegebenen Zeichenfolge zurück.</p> <h4 id="syntax-47"><a href="#syntax-47" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Sha256(val string) string
</code></pre></div><ul><li><p><strong>val</strong></p> <p>Eine Zeichenfolge erfordert die Sha256-Hash-Operation.</p></li></ul> <h4 id="beispiel-40"><a href="#beispiel-40" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var sha string
sha = Sha256(&quot;Test message&quot;)
</code></pre></div><h3 id="str"><a href="#str" class="header-anchor">#</a> Str</h3> <p>Wandelt eine Integer-Int- oder Float-Float-Zahl in einen String um.</p> <h4 id="syntax-48"><a href="#syntax-48" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Str(val int|float) string
</code></pre></div><ul><li><p><strong>val</strong></p> <p>Eine Integer- oder Gleitkommazahl.</p></li></ul> <h4 id="beispiel-41"><a href="#beispiel-41" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>myfloat = 5.678
val = Str(myfloat)
</code></pre></div><h3 id="jsonencode"><a href="#jsonencode" class="header-anchor">#</a> JSONEncode</h3> <p>Konvertiert eine Zahl, einen String oder ein Array in einen String im JSON-Format.</p> <h4 id="syntax-49"><a href="#syntax-49" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>JSONEncode(src int|float|string|map|array) string

</code></pre></div><ul><li><p><strong>src</strong></p> <p>Zu konvertierende Daten.</p></li></ul> <h4 id="beispiel-42"><a href="#beispiel-42" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var mydata map
mydata[&quot;key&quot;] = 1
var json string
json = JSONEncode(mydata)
</code></pre></div><h3 id="jsonencodeindent"><a href="#jsonencodeindent" class="header-anchor">#</a> JSONEncodeIndent</h3> <p>Uses the specified indentation to convert a number, string, or array to a string in JSON format.</p> <h4 id="syntax-50"><a href="#syntax-50" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>JSONEncodeIndent(src int|float|string|map|array, indent string) string

</code></pre></div><ul><li><p><strong>Src</strong></p> <p>Zu konvertierende Daten.</p></li> <li><p><strong>Indent</strong></p> <p>Die Zeichenfolge wird als Einrückung verwendet.</p></li></ul> <h4 id="beispiel-43"><a href="#beispiel-43" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var mydata map
mydata[&quot;key&quot;] = 1
var json string
json = JSONEncodeIndent(mydata, &quot;\t&quot;)
</code></pre></div><h3 id="jsondecode"><a href="#jsondecode" class="header-anchor">#</a> JSONDecode</h3> <p>Konvertiert einen String im JSON-Format in eine Zahl, einen String oder ein Array.</p> <h4 id="syntax-51"><a href="#syntax-51" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>JSONDecode(src string) int|float|string|map|array

</code></pre></div><ul><li><p><strong>src</strong></p> <p>Eine Zeichenfolge, die Daten im JSON-Format enthält.</p></li></ul> <h4 id="beispiel-44"><a href="#beispiel-44" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var mydata map
mydata = JSONDecode(`{&quot;name&quot;: &quot;John Smith&quot;, &quot;company&quot;: &quot;Smith's company&quot;}`)
</code></pre></div><h3 id="hasprefix"><a href="#hasprefix" class="header-anchor">#</a> HasPrefix</h3> <p>Überprüft, ob die Zeichenfolge mit einer angegebenen Zeichenfolge beginnt.</p> <h4 id="syntax-52"><a href="#syntax-52" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>HasPrefix(s string, prefix string) bool
</code></pre></div><ul><li><p><strong>s</strong></p> <p>Ein Faden.</p></li> <li><p><strong>prefix</strong></p> <p>Das zu überprüfende Präfix.</p></li></ul> <blockquote><p><strong>Return value</strong></p></blockquote> <p>Wenn die Zeichenfolge mit einer angegebenen Zeichenfolge beginnt, wird <code>true</code> zurückgegeben.</p> <h4 id="beispiel-45"><a href="#beispiel-45" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>if HasPrefix($Name, `my`) {
  ...
}
</code></pre></div><h3 id="enthalt"><a href="#enthalt" class="header-anchor">#</a> Enthält</h3> <p>Überprüft, ob die Zeichenfolge eine angegebene Teilzeichenfolge enthält.</p> <h4 id="syntax-53"><a href="#syntax-53" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Contains(s string, substr string) bool
</code></pre></div><ul><li><p><strong>s</strong></p> <p>Ein Faden.</p></li> <li><p><strong>substr</strong></p> <p>Eine Teilzeichenfolge.</p></li></ul> <blockquote><p><strong>Return value</strong></p></blockquote> <p>Wenn der String den Teilstring enthält, gibt er <code>true</code> zurück.</p> <h4 id="beispiel-46"><a href="#beispiel-46" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>if Contains($Name, `my`) {
  ...
}
</code></pre></div><h3 id="ersetzen"><a href="#ersetzen" class="header-anchor">#</a> Ersetzen</h3> <p>Ersetzt alt (die alte Zeichenfolge) durch neu (die neue Zeichenfolge) in der Zeichenfolge.</p> <h4 id="syntax-54"><a href="#syntax-54" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Replace(s string, old string, new string) string

</code></pre></div><ul><li><p><strong>s</strong></p> <p>Die ursprüngliche Zeichenfolge.</p></li> <li><p><strong>Old</strong></p> <p>Die zu ersetzende Teilzeichenfolge.</p></li> <li><p><strong>New</strong></p> <p>Die neue Saite.</p></li></ul> <h4 id="beispiel-47"><a href="#beispiel-47" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>s = Replace($Name, `me`, `you`)
</code></pre></div><h3 id="große"><a href="#große" class="header-anchor">#</a> Größe</h3> <p>Gibt die Anzahl der Bytes in einer angegebenen Zeichenfolge zurück.</p> <h4 id="syntax-55"><a href="#syntax-55" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Size(val string) int

</code></pre></div><ul><li><p><strong>val</strong></p> <p>Ein Faden.</p></li></ul> <h4 id="beispiel-48"><a href="#beispiel-48" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var len int
len = Size($Name)
</code></pre></div><h3 id="sprintf"><a href="#sprintf" class="header-anchor">#</a> Sprintf</h3> <p>Diese Funktion erstellt eine Zeichenfolge unter Verwendung der angegebenen Vorlage und Parameter.</p> <p>Verfügbare Platzhalter:</p> <ul><li><code>%d</code> (integer)</li> <li><code>%s</code> (string)</li> <li><code>%f</code> (float)</li> <li><code>%v</code> (any type)</li></ul> <h4 id="syntax-56"><a href="#syntax-56" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Sprintf(pattern string, val ...) string

</code></pre></div><ul><li><p><strong>pattern</strong></p> <p>Eine Zeichenfolgenvorlage.</p></li></ul> <h4 id="beispiel-49"><a href="#beispiel-49" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>out = Sprintf(&quot;%s=%d&quot;, mypar, 6448)
</code></pre></div><h3 id="substr"><a href="#substr" class="header-anchor">#</a> Substr</h3> <p>Gibt die Teilzeichenfolge zurück, die aus einer angegebenen Zeichenfolge erhalten wird, beginnend mit dem Offset offset (standardmäßig von 0 berechnet), und die maximale Länge ist auf length beschränkt.</p> <p>Wenn der Offset oder die Länge kleiner als Null oder der Offset größer als die Länge ist, wird eine leere Zeichenfolge zurückgegeben.</p> <p>Wenn die Summe aus Offset und Länge größer als die Stringgröße ist, wird der Teilstring ab dem Offset bis zum Ende des Strings zurückgegeben.</p> <h4 id="syntax-57"><a href="#syntax-57" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Substr(s string, offset int, length int) string

</code></pre></div><ul><li><p><strong>val</strong></p> <p>Ein Faden.</p></li> <li><p><strong>Offset</strong></p> <p>Offset.</p></li> <li><p><strong>length</strong></p> <p>Länge des Teilstrings.</p></li></ul> <h4 id="beispiel-50"><a href="#beispiel-50" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var s string
s = Substr($Name, 1, 10)
</code></pre></div><h3 id="tolower"><a href="#tolower" class="header-anchor">#</a> ToLower</h3> <p>Gibt eine angegebene Zeichenfolge in Kleinbuchstaben zurück.</p> <h4 id="syntax-58"><a href="#syntax-58" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>ToLower(val string) string

</code></pre></div><ul><li><p><strong>val</strong></p> <p>Ein Faden.</p></li></ul> <h4 id="beispiel-51"><a href="#beispiel-51" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = ToLower(val)
</code></pre></div><h3 id="toupper"><a href="#toupper" class="header-anchor">#</a> ToUpper</h3> <p>Gibt eine angegebene Zeichenfolge in Großbuchstaben zurück.</p> <h4 id="syntax-59"><a href="#syntax-59" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>ToUpper(val string) string

</code></pre></div><ul><li><p><strong>val</strong></p> <p>Ein Faden.</p></li></ul> <h4 id="beispiel-52"><a href="#beispiel-52" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = ToUpper(val)
</code></pre></div><h3 id="trimspace"><a href="#trimspace" class="header-anchor">#</a> TrimSpace</h3> <p>Löscht die führenden und nachfolgenden Leerzeichen, Tabulatoren und Zeilenumbrüche einer angegebenen Zeichenfolge.</p> <h4 id="syntax-60"><a href="#syntax-60" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>TrimSpace(val string) string

</code></pre></div><ul><li><p><strong>val</strong></p> <p>Ein Faden.</p></li></ul> <h4 id="beispiel-53"><a href="#beispiel-53" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var val string
val = TrimSpace(&quot; mystr &quot;)
</code></pre></div><h3 id="boden"><a href="#boden" class="header-anchor">#</a> Boden</h3> <p>Gibt den größten ganzzahligen Wert zurück, der kleiner oder gleich einer angegebenen Zahl, Gleitkommazahl und Zeichenfolge ist.</p> <h4 id="syntax-61"><a href="#syntax-61" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Floor(x float|int|string) int
</code></pre></div><ul><li><p><strong>x</strong></p> <p>Eine Zahl, eine Gleitkommazahl und eine Zeichenfolge.</p></li></ul> <h4 id="beispiel-54"><a href="#beispiel-54" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = Floor(5.6) // returns 5
</code></pre></div><h3 id="protokoll"><a href="#protokoll" class="header-anchor">#</a> Protokoll</h3> <p>Gibt den natürlichen Logarithmus einer angegebenen Zahl, Gleitkommazahl und Zeichenfolge zurück.</p> <h4 id="syntax-62"><a href="#syntax-62" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Log(x float|int|string) float

</code></pre></div><ul><li><p><strong>x</strong></p> <p>Eine Zahl, eine Gleitkommazahl und eine Zeichenfolge.</p></li></ul> <h4 id="beispiel-55"><a href="#beispiel-55" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = Log(10)
</code></pre></div><h3 id="protokoll10"><a href="#protokoll10" class="header-anchor">#</a> Protokoll10</h3> <p>Gibt den Basis-10-Logarithmus einer angegebenen Zahl, Gleitkommazahl und Zeichenfolge zurück.</p> <h4 id="syntax-63"><a href="#syntax-63" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Log10(x float|int|string) float

</code></pre></div><ul><li><p><strong>x</strong></p> <p>A number, float number, and string.</p></li></ul> <h4 id="beispiel-56"><a href="#beispiel-56" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = Log10(100)
</code></pre></div><h3 id="puh"><a href="#puh" class="header-anchor">#</a> Puh</h3> <p>Gibt die angegebene Basis zur angegebenen Potenz (xy) zurück.</p> <h4 id="syntax-64"><a href="#syntax-64" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Pow(x float|int|string, y float|int|string) float

</code></pre></div><ul><li><p><strong>x</strong></p> <p>Basisnummer.</p></li> <li><p><strong>y</strong></p> <p>Exponent.</p></li></ul> <h4 id="beispiel-57"><a href="#beispiel-57" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = Pow(2, 3)

</code></pre></div><h3 id="runde"><a href="#runde" class="header-anchor">#</a> Runde</h3> <p>Gibt den Wert einer angegebenen Zahl gerundet auf die nächste ganze Zahl zurück.</p> <h4 id="syntax-65"><a href="#syntax-65" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>Round(x float|int|string) int

</code></pre></div><ul><li><p><strong>x</strong></p> <p>Eine Zahl.</p></li></ul> <h4 id="beispiel-58"><a href="#beispiel-58" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = Round(5.6)
</code></pre></div><h3 id="quadrat"><a href="#quadrat" class="header-anchor">#</a> Quadrat</h3> <p>Gibt die Quadratwurzel einer angegebenen Zahl zurück.</p> <div class="language- extra-class"><pre class="language-text"><code>Sqrt(x float|int|string) float

</code></pre></div><ul><li><p><strong>x</strong></p> <p>Eine Zahl.</p></li></ul> <h4 id="beispiel-59"><a href="#beispiel-59" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>val = Sqrt(225)
</code></pre></div><h3 id="stringtobytes"><a href="#stringtobytes" class="header-anchor">#</a> StringToBytes</h3> <p>Konvertiert einen String in Bytes.</p> <h4 id="syntax-66"><a href="#syntax-66" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>StringToBytes(src string) bytes

</code></pre></div><ul><li><p><strong>src</strong></p> <p>Ein Faden.</p></li></ul> <h4 id="beispiel-60"><a href="#beispiel-60" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var b bytes
b = StringToBytes(&quot;my string&quot;)
</code></pre></div><h3 id="bytestostring"><a href="#bytestostring" class="header-anchor">#</a> BytesToString</h3> <p>Konvertiert Bytes in Strings.</p> <h4 id="syntax-67"><a href="#syntax-67" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>BytesToString(src bytes) string

</code></pre></div><ul><li><p><strong>src</strong></p> <p>Byte.</p></li></ul> <h4 id="biespiel"><a href="#biespiel" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var s string
s = BytesToString($Bytes)
</code></pre></div><h3 id="sysparamstring"><a href="#sysparamstring" class="header-anchor">#</a> SysParamString</h3> <p>Gibt den Wert eines angegebenen Plattformparameters zurück.</p> <h4 id="syntax-68"><a href="#syntax-68" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>SysParamString(name string) string

</code></pre></div><ul><li><p><strong>name</strong></p> <p>Parametername.</p></li></ul> <h4 id="biespiel-2"><a href="#biespiel-2" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>url = SysParamString(`blockchain_url`)
</code></pre></div><h3 id="sysparamint"><a href="#sysparamint" class="header-anchor">#</a> SysParamInt</h3> <p>Gibt den Wert eines angegebenen Plattformparameters in Form einer Zahl zurück.</p> <h4 id="syntax-69"><a href="#syntax-69" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>SysParamInt(name string) int

</code></pre></div><ul><li><p><strong>name</strong></p> <p>Parametername.</p></li></ul> <h4 id="biespiel-3"><a href="#biespiel-3" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>maxcol = SysParam(`max_columns`)
</code></pre></div><h3 id="dbupdatesysparam"><a href="#dbupdatesysparam" class="header-anchor">#</a> DBUpdateSysParam</h3> <p>Aktualisiert den Wert und die Bedingungen eines Plattformparameters. Wenn Sie den Wert oder die Bedingungen nicht ändern müssen, geben Sie im entsprechenden Parameter bitte eine leere Zeichenfolge an.</p> <h4 id="syntax-70"><a href="#syntax-70" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DBUpdateSysParam(name, value, conditions string)

</code></pre></div><ul><li><p><strong>Name</strong></p> <p>Parametername.</p></li> <li><p><strong>value</strong></p> <p>Neuer Wert eines Parameters.</p></li> <li><p><strong>conditions</strong></p> <p>Neue Bedingungen für die Aktualisierung eines Parameters.</p></li></ul> <h4 id="beispiel-61"><a href="#beispiel-61" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>DBUpdateSysParam(`fuel_rate`, `400000000000`, ``)

</code></pre></div><h3 id="updatenotifications"><a href="#updatenotifications" class="header-anchor">#</a> UpdateNotifications</h3> <p>Ruft die Benachrichtigungsliste eines angegebenen Schlüssels aus der Datenbank ab und sendet die erhaltene Benachrichtigung an Centrifugo.</p> <h4 id="syntax-71"><a href="#syntax-71" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>UpdateNotifications(ecosystemID int, keys int...)

</code></pre></div><ul><li><p><strong>EcosystemID</strong></p> <p>Ecosystem ID.</p></li> <li><p><strong>key</strong></p> <p>Eine durch Kommas getrennte Liste von Kontoadressen. Oder Sie können ein Array verwenden, um eine Liste mit Kontoadressen anzugeben.</p></li></ul> <h4 id="beispiel-62"><a href="#beispiel-62" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>UpdateNotifications($ecosystem_id, $key_id, 23345355454, 35545454554)
UpdateNotifications(1, [$key_id, 23345355454, 35545454554])
</code></pre></div><h3 id="updaterolesnotifications"><a href="#updaterolesnotifications" class="header-anchor">#</a> UpdateRolesNotifications</h3> <p>Ruft die Benachrichtigungsliste aller Kontoadressen einer angegebenen Rollen-ID in der Datenbank ab und sendet die erhaltene Benachrichtigung an Centrifugo.</p> <h4 id="syntax-72"><a href="#syntax-72" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>UpdateRolesNotifications(ecosystemID int, roles int ...)

</code></pre></div><ul><li><p><strong>EcosystemID</strong></p> <p>Ökosystem-ID.</p></li> <li><p><strong>roles</strong></p> <p>Eine durch Kommas getrennte Liste von Rollen-IDs. Oder Sie können ein Array verwenden, um eine Liste von Rollen-IDs anzugeben.</p></li></ul> <h4 id="beispiel-63"><a href="#beispiel-63" class="header-anchor">#</a> Beispiel</h4> <div class="language- extra-class"><pre class="language-text"><code>UpdateRolesNotifications(1, 1, 2)

</code></pre></div><h3 id="httprequest"><a href="#httprequest" class="header-anchor">#</a> HTTPRequest</h3> <p>Sendet HTTP-Anforderungen an die angegebene Adresse.</p> <blockquote><p>Hinweis</p></blockquote> <blockquote><p>Diese Funktion ist nur in CLB-Verträgen nutzbar.</p></blockquote> <h4 id="syntax-73"><a href="#syntax-73" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>HTTPRequest(url string, method string, heads map, pars map) string

</code></pre></div><ul><li><p><strong>Url</strong></p> <p>Adresse, an die die Anfrage gesendet wird.</p></li> <li><p><strong>method</strong></p> <p>Request type (GET or POST).</p></li> <li><p><strong>heads</strong></p> <p>Ein Array von Anforderungsheadern, Objekten.</p></li> <li><p><strong>pars</strong></p> <p>Parameter anfordern.</p></li></ul> <h4 id="biespiel-4"><a href="#biespiel-4" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var ret string
var ret string
var ret string
var pars, heads, json map
heads[&quot;Authorization&quot;] = &quot;Bearer &quot;+ $auth_token
pars[&quot;obs&quot;] = &quot;true&quot;
ret = HTTPRequest(&quot;http://localhost:7079/api/v2/content/page/default_page&quot;,&quot;POST&quot;, heads, pars)
json = JSONToMap(ret)
</code></pre></div><h3 id="httppostjson"><a href="#httppostjson" class="header-anchor">#</a> HTTPPostJSON</h3> <p>Diese Funktion ähnelt der HTTPRequest-Funktion, sendet jedoch eine POST-Anforderung und die Anforderungsparameter sind Zeichenfolgen.</p> <blockquote><p>Hinweis</p></blockquote> <blockquote><p>Diese Funktion ist nur in CLB-Verträgen nutzbar</p></blockquote> <h4 id="syntax-74"><a href="#syntax-74" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>HTTPPostJSON(url string, heads map, pars string) string

</code></pre></div><ul><li><p><strong>Url</strong></p> <p>Adresse, an die die Anfrage gesendet wird.</p></li> <li><p><strong>heads</strong></p> <p>Ein Array von Anforderungsheadern, Objekten.</p></li> <li><p><strong>pars</strong></p> <p>Fordern Sie Parameter als JSON-String an.</p></li></ul> <h4 id="biespiel-5"><a href="#biespiel-5" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var ret string
var ret string
var ret string
var heads, json map
heads[&quot;Authorization&quot;] = &quot;Bearer &quot;+ $auth_token
ret = HTTPPostJSON(&quot;http://localhost:7079/api/v2/content/page/default_page&quot;, heads, `{&quot;obs&quot;:&quot;true&quot;}`)
json = JSONToMap(ret)
</code></pre></div><h3 id="blocktime"><a href="#blocktime" class="header-anchor">#</a> BlockTime</h3> <p>Gibt die Generierungszeit des Blocks im SQL-Format zurück.</p> <h4 id="syntax-75"><a href="#syntax-75" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>BlockTime()
</code></pre></div><h4 id="biespiel-6"><a href="#biespiel-6" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>var mytime string
mytime = BlockTime()
DBInsert(&quot;mytable&quot;, myid, {time: mytime})
</code></pre></div><h3 id="terminzeit"><a href="#terminzeit" class="header-anchor">#</a> Terminzeit</h3> <p>Konvertiert den Zeitstempel unixtime in einen String im Format YYYY-MM-DD HH:MI:SS.</p> <h4 id="syntax-76"><a href="#syntax-76" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>DateTime(unixtime int) string
</code></pre></div><h4 id="biespiel-7"><a href="#biespiel-7" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>DateTime(1532325250)

</code></pre></div><h3 id="unixdatetime"><a href="#unixdatetime" class="header-anchor">#</a> UnixDateTime</h3> <p>Konvertiert einen String im Format JJJJ-MM-TT HH:MI:SS in einen Zeitstempel unixtime</p> <h4 id="syntax-77"><a href="#syntax-77" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>UnixDateTime(datetime string) int
</code></pre></div><h4 id="biespiel-8"><a href="#biespiel-8" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>UnixDateTime(&quot;2018-07-20 14:23:10&quot;)
</code></pre></div><h3 id="obs-erstellen"><a href="#obs-erstellen" class="header-anchor">#</a> OBS erstellen</h3> <p>Erstellt einen untergeordneten CLB.</p> <p>Diese Funktion kann nur im Master-CLB-Modus verwendet werden.</p> <h4 id="syntax-78"><a href="#syntax-78" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>CreateOBS(OBSName string, DBUser string, DBPassword string, OBSAPIPort int)

</code></pre></div><ul><li><p><strong>OBSName</strong></p> <p>CLB-Name.</p></li> <li><p><strong>DBUser</strong></p> <p>Der Rollenname der Datenbank.</p></li> <li><p><strong>DBPassword</strong></p> <p>Das Passwort der Rolle.</p></li> <li><p><strong>OBSAPIPort</strong></p> <p>Der Port der API-Anforderung.</p></li></ul> <h4 id="biespiel-9"><a href="#biespiel-9" class="header-anchor">#</a> Biespiel</h4> <div class="language- extra-class"><pre class="language-text"><code>CreateOBS(&quot;obsname&quot;, &quot;obsuser&quot;, &quot;obspwd&quot;, 8095)

</code></pre></div><h3 id="getobslist"><a href="#getobslist" class="header-anchor">#</a> GetOBSList</h3> <p>Gibt die Liste der untergeordneten CLBs zurück.</p> <p>Diese Funktion kann nur im Master-CLB-Modus verwendet werden.</p> <h4 id="syntax-79"><a href="#syntax-79" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>GetOBSList()

</code></pre></div><blockquote><p><strong>Rückgabewert</strong></p></blockquote> <p>Ein Array von Objekten, wobei der Schlüssel der CLB-Name und der Wert der Prozessstatus ist.</p> <h3 id="laufobs"><a href="#laufobs" class="header-anchor">#</a> LaufOBS</h3> <p>Ein Prozess, der den CLB ausführt.</p> <p>Diese Funktion kann nur im Master-CLB-Modus verwendet werden.</p> <h4 id="syntax-80"><a href="#syntax-80" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>RunOBS(OBSName string)

</code></pre></div><ul><li><p><strong>OBSName</strong></p> <p>CLB-Name.</p> <p>Es darf nur Buchstaben und Zahlen enthalten, das Leerzeichen darf nicht verwendet werden.</p></li></ul> <h3 id="stoppenobs"><a href="#stoppenobs" class="header-anchor">#</a> StoppenOBS</h3> <p>Stoppt den Prozess eines angegebenen CLB.</p> <p>Diese Funktion kann nur im Master-CLB-Modus verwendet werden.</p> <h4 id="syntax-81"><a href="#syntax-81" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>StopOBS(OBSName string)

</code></pre></div><ul><li><p><strong>OBSName</strong></p> <p>CLB-Name.</p> <p>Es darf nur Buchstaben und Zahlen enthalten, das Leerzeichen darf nicht verwendet werden.</p></li></ul> <h3 id="loschenobs"><a href="#loschenobs" class="header-anchor">#</a> LöschenOBS</h3> <p>Löscht den Prozess eines angegebenen CLB.</p> <p>Diese Funktion kann nur im Master-CLB-Modus verwendet werden.</p> <h4 id="syntax-82"><a href="#syntax-82" class="header-anchor">#</a> Syntax</h4> <div class="language- extra-class"><pre class="language-text"><code>RemoveOBS(OBSName string)

</code></pre></div><ul><li><strong>OBSName</strong></li></ul> <p>CLB-Name.</p> <p>Es darf nur Buchstaben und Zahlen enthalten, das Leerzeichen darf nicht verwendet werden.</p> <h2 id="systemvertrage"><a href="#systemvertrage" class="header-anchor">#</a> Systemverträge</h2> <p>Systemverträge werden standardmäßig erstellt, wenn die IBax-Blockchain-Plattform gestartet wird. Alle diese Verträge wurden im ersten Ökosystem erstellt. Aus diesem Grund müssen Sie ihre vollständigen Namen angeben, wenn Sie sie aus anderen Ökosystemen aufrufen, z. B. <code>@1NewContract</code>.</p> <h3 id="neues-okosystem"><a href="#neues-okosystem" class="header-anchor">#</a> Neues Ökosystem</h3> <p>Dieser Vertrag schafft ein neues Ökosystem. Um die ID des erstellten Ökosystems zu erhalten, müssen Sie das in <a href="/de/reference/api2.html#txstatus">txstatus</a> zurückgegebene Ergebnisfeld zitieren.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Name</strong> - Name des Ökosystems. Es kann später geändert werden.</li></ul> <h3 id="okosystemname-bearbeiten"><a href="#okosystemname-bearbeiten" class="header-anchor">#</a> Ökosystemname-bearbeiten</h3> <p>Ändert den Namen des Ökosystems in der Tabelle 1_ecosystems, das nur im ersten Ökosystem existiert.</p> <p>Parameters:</p> <ul><li><strong>EcosystemID</strong> int - changes the name of the ecosystem ID;</li> <li><strong>NewName</strong> string - new name of the ecosystem.</li></ul> <h3 id="neuer-vertrag"><a href="#neuer-vertrag" class="header-anchor">#</a> Neuer Vertrag</h3> <p>Erstellt einen neuen Vertrag im aktuellen Ökosystem.</p> <p>Parameters:</p> <ul><li><strong>ApplicationId</strong> int - die Anwendung, zu der ein neuer Vertrag gehört;</li> <li><strong>Value</strong> string - Vertrag Quellcode. Die obere Schicht darf nur einen Vertrag haben;</li> <li><strong>Conditions</strong> string - die Vertragsbedingungen ändert;</li> <li><strong>TokenEcosystem</strong> int &quot;optional&quot; - Ökosystem-ID. Es bestimmt, welches Token für Transaktionen verwendet wird, wenn der Vertrag aktiviert wird.</li></ul> <h3 id="vertrag-bearbeiten"><a href="#vertrag-bearbeiten" class="header-anchor">#</a> Vertrag bearbeiten</h3> <p>Bearbeitet den Vertrag im aktuellen Ökosystem.</p> <p>Parameters:</p> <ul><li><strong>Id</strong> int - die Vertrags-ID hat sich geändert;</li> <li><strong>Value</strong> Zeichenfolge &quot;optional&quot; - Quellcode des Vertrags;</li> <li><strong>Conditions</strong> string &quot;optional&quot; - ändert die Vertragsbedingungen.</li></ul> <h3 id="geldborse-binden"><a href="#geldborse-binden" class="header-anchor">#</a> Geldbörse binden</h3> <p>Binden des Vertrags an die Wallet-Adresse im aktuellen Ökosystem. Nach Zustandekommen des Vertrages wird die Vertragsabwicklungsgebühr unter dieser Adresse bezahlt.</p> <p>Parameters:</p> <ul><li><strong>Id</strong> int - die zu bindende Vertrags-ID.</li> <li><strong>WalletId</strong> string &quot;optional&quot; - die an den Vertrag gebundene Wallet-Adresse.</li></ul> <h3 id="wallet-entbinden"><a href="#wallet-entbinden" class="header-anchor">#</a> Wallet entbinden</h3> <p>Lösen des Vertrags von der Wallet-Adresse im aktuellen Ökosystem. Nur vertragsgebundene Adressen können entbunden werden. Nach dem Entbinden des Vertrages zahlen Benutzer, die den Vertrag ausführen, die Ausführungsgebühr.</p> <p>Parameters:</p> <ul><li><strong>Id</strong> int - die ID des zu bindenden Vertrags.</li></ul> <h3 id="neuerparameter"><a href="#neuerparameter" class="header-anchor">#</a> NeuerParameter</h3> <p>A new ecosystem parameter has been added to the current ecosystem.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Name</strong> - Parametername;</li> <li>Zeichenfolge <strong>Value</strong> - Parameterwert;</li> <li>Zeichenfolge <strong>Conditions</strong> - Bedingungen zum Ändern des Parameters.</li></ul> <h3 id="parameter-bearbeiten"><a href="#parameter-bearbeiten" class="header-anchor">#</a> Parameter bearbeiten</h3> <p>Chängt bestehende Ökosystemparameter in das aktuelle Ökosystem ein.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Name</strong> - Name des zu ändernden Parameters;</li> <li>Zeichenfolge <strong>Value</strong> - neuer Parameterwert;</li> <li>Zeichenfolge <strong>Conditions</strong> - neue Bedingungen zum Ändern des Parameters.</li></ul> <h3 id="neuesmenu"><a href="#neuesmenu" class="header-anchor">#</a> NeuesMenü</h3> <p>Fügt ein neues Menü im aktuellen Ökosystem hinzu.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Name</strong> - Name des Menüs;</li> <li>Zeichenfolge <strong>Value</strong> - Quellcode des Menüs;</li> <li><strong>Title</strong> Zeichenfolge &quot;optional&quot; - Menütitel;</li> <li>Zeichenfolge <strong>Conditions</strong> - Bedingungen zum Wechseln des Menüs.</li></ul> <h3 id="menu-bearbeiten"><a href="#menu-bearbeiten" class="header-anchor">#</a> Menü bearbeiten</h3> <p>Chängt das vorhandene Menü in das aktuelle Ökosystem ein.</p> <p>Parameter:</p> <ul><li><strong>Id</strong> int - zu ändernde Menü-ID;</li> <li><strong>Value</strong> string &quot;optional&quot; - Quellcode des neuen Menüs;</li> <li><strong>Title</strong> string &quot;optional&quot; - Titel des neuen Menüs;</li> <li><strong>Conditions</strong> Zeichenfolge &quot;optional&quot; - neue Bedingungen zum Ändern des Menüs.</li></ul> <h3 id="menu-anhangen"><a href="#menu-anhangen" class="header-anchor">#</a> Menü anhängen</h3> <p>Afügt den Quellcodeinhalt zu bestehenden Menüs im aktuellen Ökosystem hinzu</p> <p>Parameter:</p> <ul><li><strong>Id</strong> int - Menü-ID;</li> <li>Zeichenfolge <strong>Value</strong> - hinzuzufügender Quellcode.</li></ul> <h3 id="neue-seite"><a href="#neue-seite" class="header-anchor">#</a> Neue Seite</h3> <p>Fügt eine neue Seite im aktuellen Ökosystem hinzu.</p> <p>Parameter:</p> <ul><li><p>Zeichenfolge <strong>Name</strong> - Name der Seite;</p></li> <li><p>Zeichenfolge <strong>Value</strong> - Quellcode der Seite;</p></li> <li><p>Zeichenfolge <strong>Menü</strong> - Name des mit der Seite verknüpften Menüs;</p></li> <li><p>Zeichenfolge <strong>Conditions</strong> - Bedingungen zum Wechseln der Seite;</p></li> <li><p><strong>ValidateCount</strong> int &quot;optional&quot; - Anzahl der Knoten, die für die Seitenvalidierung erforderlich sind. Wenn dieser Parameter nicht angegeben ist, wird der Wert des Ökosystemparameters min_page_validate_count verwendet. Der Wert dieses Parameters darf nicht kleiner als min_page_validate_count und größer als max_page_validate_count sein;</p></li> <li><p><strong>ValidateMode</strong> int &quot;optional&quot; - Modus der Seitengültigkeitsprüfung. Die Seite wird beim Laden überprüft, wenn der Wert dieses Parameters 0 ist; oder überprüft, wenn es geladen wird, oder verlassen Sie die Seite, wenn der Wert dieses Parameters 1 ist.</p></li></ul> <h3 id="seite-bearbeiten"><a href="#seite-bearbeiten" class="header-anchor">#</a> Seite bearbeiten</h3> <p>Ändert vorhandene Seiten im aktuellen Ökosystem.</p> <p>Parameter:</p> <ul><li><strong>Id</strong> int - ID der zu ändernden Seite;</li> <li><strong>Value</strong> string &quot;optional&quot; - Quellcode der neuen Seite;</li> <li>Zeichenfolge <strong>Menü</strong> &quot;optional&quot; - Name des neuen Menüs, das der Seite zugeordnet ist;</li> <li><strong>Conditions</strong> string &quot;optional&quot; - neue Bedingungen zum Wechseln der Seite;</li> <li><strong>ValidateCount</strong> int &quot;optional&quot; - Anzahl der Knoten, die für die Seitenvalidierung erforderlich sind. Wenn dieser Parameter nicht angegeben ist, wird der Wert des Ökosystemparameters min_page_validate_count verwendet. Der Wert dieses Parameters darf nicht kleiner als min_page_validate_count und größer als max_page_validate_count sein;</li> <li><strong>ValidateMode</strong> int &quot;optional&quot; - Modus der Seitengültigkeitsprüfung. Die Seite wird beim Laden überprüft, wenn der Wert dieses Parameters 0 ist; oder überprüft, wenn es geladen wird, oder verlassen Sie die Seite, wenn der Wert dieses Parameters 1 ist.</li></ul> <h3 id="seite-anhangen"><a href="#seite-anhangen" class="header-anchor">#</a> Seite anhängen</h3> <p>Fügt den Quellinhalt zu vorhandenen Seiten im aktuellen Ökosystem hinzu.</p> <p>Parameter:</p> <ul><li><strong>Id</strong> int - ID der zu ändernden Seite;</li> <li>Zeichenfolge <strong>Value</strong> - der hinzuzufügende Quellcode.</li></ul> <h3 id="neuer-block"><a href="#neuer-block" class="header-anchor">#</a> Neuer Block</h3> <p>Fügt dem aktuellen Ökosystem ein Seitenmodul hinzu.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Name</strong> - Name des Moduls;</li> <li>String <strong>Value</strong> - Quellcode des Moduls;</li> <li>Zeichenfolge <strong>Conditions</strong> - Bedingungen zum Wechseln des Moduls.</li></ul> <h3 id="block-bearbeiten"><a href="#block-bearbeiten" class="header-anchor">#</a> Block bearbeiten</h3> <p>Changes existing page modules in the current ecosystem.</p> <p>Parameter:</p> <ul><li>Id int - zu ändernde Modul-ID;</li> <li>Value string - Quellcode des neuen Moduls;</li> <li>Bedingungszeichenfolge - neue Bedingungen zum Wechseln des Moduls.</li></ul> <h3 id="neuetabelle"><a href="#neuetabelle" class="header-anchor">#</a> NeueTabelle</h3> <p>Fügt dem aktuellen Ökosystem eine neue Tabelle hinzu.</p> <p>Parameter:</p> <ul><li><strong>ApplicationId</strong> int - Anwendungs-ID der zugeordneten Tabelle;</li> <li>Zeichenfolge <strong>Name</strong> - Name der neuen Tabelle;</li> <li><strong>Columns</strong> string - Feldarray im JSON-Format <code>[{&quot;name&quot;:&quot;...&quot;, &quot;type&quot;:&quot;...&quot;,&quot;index&quot;: &quot;0&quot;, &quot;conditions&quot;:&quot;. . .&quot;},...]</code>, wobei
<ul><li><strong>name</strong> - Feldname, nur lateinische Zeichen;</li> <li><strong>Typ</strong> - Datentyp <code>varchar,bytea,number,datetime,money,text,double,character</code>;</li> <li><strong>index</strong> - Nicht-Primärschlüsselfeld <code>0</code>, Primärschlüssel <code>1</code>;</li> <li><strong>Conditions</strong> - Bedingungen zum Ändern der Felddaten und die Zugriffsberechtigungen müssen im JSON-Format &quot;<code>{&quot;update&quot;:&quot;ContractConditions(MainCondition)&quot;, &quot;read&quot;:&quot;ContractConditions(MainCondition)&quot;}</code> angegeben werden ;</li></ul></li> <li>Zeichenfolge <strong>Berechtigungen</strong> - Zugriffsberechtigungen im JSON-Format <code>{&quot;insert&quot;: &quot;...&quot;, &quot;new_column&quot;: &quot;...&quot;, &quot;update&quot;: &quot;...&quot;, &quot;read&quot;: &quot; .. .&quot;}</code>.
<ul><li><strong>insert</strong> - Erlaubnis zum Einfügen von Einträgen;</li> <li><strong>new_column</strong> - Berechtigung zum Hinzufügen einer neuen Spalte;</li> <li><strong>update</strong> - Erlaubnis, Eingabedaten zu ändern;</li> <li><strong>read</strong> - Erlaubnis, Eintragsdaten zu lesen.</li></ul></li></ul> <h3 id="tabelle-bearbeiten"><a href="#tabelle-bearbeiten" class="header-anchor">#</a> Tabelle bearbeiten</h3> <p>Ändert die Zugriffsberechtigungen einer Tabelle im aktuellen Ökosystem.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Name</strong> - Name der Tabelle;</li> <li>String <strong>InsertPerm</strong> - Berechtigung zum Einfügen von Einträgen in die Tabelle;</li> <li>Zeichenfolge <strong>UpdatePerm</strong> - Berechtigung zum Aktualisieren von Einträgen in der Tabelle;</li> <li>Zeichenfolge <strong>ReadPerm</strong> - Berechtigung zum Lesen von Einträgen in der Tabelle;</li> <li>String <strong>NewColumnPerm</strong> - Berechtigung zum Erstellen einer neuen Spalte;</li></ul> <h3 id="neuespalte"><a href="#neuespalte" class="header-anchor">#</a> NeueSpalte</h3> <p>Fügt der Tabelle des aktuellen Ökosystems ein neues Feld hinzu.</p> <p>Parameter:</p> <ul><li><strong>TableName</strong> Zeichenfolge - Tabellenname;</li> <li>Zeichenfolge <strong>Name</strong> - Feldname in lateinischen Buchstaben;</li> <li><strong>Type</strong> string - Datentyp <code>varchar,bytea,number,money,datetime,text,double,character</code>;</li> <li>Zeichenfolge <strong>UpdatePerm</strong> - Berechtigung zum Ändern des Werts in der Spalte;</li> <li>Zeichenfolge <strong>ReadPerm</strong> - Berechtigung zum Lesen des Werts in der Spalte.</li></ul> <h3 id="spalte-bearbeiten"><a href="#spalte-bearbeiten" class="header-anchor">#</a> Spalte bearbeiten</h3> <p>Chängt die Berechtigung eines bestimmten Tabellenfelds im aktuellen Ökosystem.</p> <p>Parameter:</p> <ul><li><strong>TableName</strong> Zeichenfolge - Tabellenname;</li> <li>String <strong>Name</strong> - zu ändernder Feldname in lateinischen Buchstaben;</li> <li>Zeichenfolge <strong>UpdatePerm</strong> - neue Berechtigung zum Ändern des Werts in der Spalte;</li> <li>Zeichenfolge <strong>ReadPerm</strong> - neue Berechtigung zum Lesen des Werts in der Spalte.</li></ul> <h3 id="neusprache"><a href="#neusprache" class="header-anchor">#</a> NeuSprache</h3> <p>Fügt dem aktuellen Ökosystem Sprachressourcen hinzu, und die Berechtigung dazu wird im Changing_language-Parameter der Ökosystemparameter festgelegt.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Name</strong> - Name der Sprachressourcen in lateinischen Buchstaben;</li> <li><strong>Trans</strong> String - String im JSON-Format, mit einem zweistelligen Langcode als Schlüssel und dem übersetzten String als Wert. Beispiel: <code>{&quot;en&quot;: &quot;englischer Text&quot;, &quot;zh&quot;: &quot;chinesischer Text&quot;}</code>.</li></ul> <h3 id="bearbeitensprache"><a href="#bearbeitensprache" class="header-anchor">#</a> BearbeitenSprache</h3> <p>Ändert die Sprachressourcen im aktuellen Ökosystem, und die Berechtigung dazu wird im Parameter „changing_language“ des Parameters „Ökosystem“ festgelegt.</p> <p>Parameter:</p> <ul><li><strong>Id</strong> int - Sprachressourcen-ID.</li> <li><strong>Trans</strong> - Zeichenfolge im JSON-Format mit einem zweistelligen Langcode als Schlüssel und der übersetzten Zeichenfolge als Wert. Beispiel: <code>{&quot;en&quot;: &quot;englischer Text&quot;, &quot;zh&quot;: &quot;chinesischer Text&quot;}</code>.</li></ul> <h3 id="importieren"><a href="#importieren" class="header-anchor">#</a> Importieren</h3> <p>Importiert eine Anwendung in das aktuelle Ökosystem und importiert die aus dem <a href="#importupload">ImportUpload</a>-Vertrag geladenen Daten.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Data</strong> - im Textformat importierte Daten, die aus einer vom Ökosystem exportierten Datei stammen.</li></ul> <h3 id="importhochladen"><a href="#importhochladen" class="header-anchor">#</a> ImportHochladen</h3> <p>Lädt eine externe Anwendungsdatei in die Tabelle buffer_data des aktuellen Ökosystems für den anschließenden Import.</p> <p>Parameter:</p> <ul><li>Datei <strong>InputFile</strong> - eine Datei, die in die Tabelle buffer_data des aktuellen Ökosystems geschrieben wird.</li></ul> <h3 id="newappparam"><a href="#newappparam" class="header-anchor">#</a> NewAppParam</h3> <p>Fügt dem aktuellen Ökosystem neue Anwendungsparameter hinzu.</p> <p>Parameter:</p> <ul><li><strong>ApplicationId</strong> int - Anwendungs-ID;</li> <li>Zeichenfolge <strong>Name</strong> - Parametername;</li> <li>Zeichenfolge <strong>Value</strong> - Parameterwert;</li> <li>Zeichenfolge <strong>Conditions</strong> - Berechtigung zum Ändern des Parameters.</li></ul> <h3 id="app-param-bearbeiten"><a href="#app-param-bearbeiten" class="header-anchor">#</a> App-Param bearbeiten</h3> <p>Ändert bestehende Anwendungsparameter im aktuellen Ökosystem.</p> <p>Parameter:</p> <ul><li><strong>Id</strong> int - Anwendungsparameter-ID;</li> <li><strong>Value</strong> string &quot;optional&quot; - neuer Parameterwert;</li> <li><strong>Conditions</strong> Zeichenfolge &quot;optional&quot; - neue Berechtigungen zum Ändern des Parameters.</li></ul> <h3 id="neuer-verzogerter-vertrag"><a href="#neuer-verzogerter-vertrag" class="header-anchor">#</a> Neuer verzögerter Vertrag</h3> <p>Fügt dem Scheduler-Daemon für verzögerte Verträge eine neue Aufgabe hinzu.</p> <p>Der Scheduler für verzögerte Verträge führt Verträge aus, die von dem aktuell erzeugten Block benötigt werden.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Contract</strong> - Vertragsname;</li> <li><strong>EveryBlock</strong> int - der Kontrakt wird für jede solche Anzahl von Blöcken ausgeführt;</li> <li>Bedingungszeichenfolge - Erlaubnis, die Aufgabe zu ändern;</li> <li><strong>BlockID</strong> int &quot;optional&quot; - die Block-ID, wo der Vertrag ausgeführt werden muss. Wenn nicht angegeben, wird sie automatisch berechnet, indem die &quot;aktuelle Block-ID&quot; + EveryBlock addiert wird;</li> <li><strong>Limit</strong> int &quot;optional&quot; - die maximale Anzahl der Aufgabenausführungen. Wenn nicht angegeben, wird die Aufgabe unbegrenzt oft ausgeführt.</li></ul> <h3 id="verspateten-vertrag-bearbeiten"><a href="#verspateten-vertrag-bearbeiten" class="header-anchor">#</a> Verspäteten Vertrag bearbeiten</h3> <p>Ändert eine Aufgabe im Scheduler-Daemon für verzögerte Verträge.</p> <p>Parameter:</p> <ul><li><strong>Id</strong> int - Task-ID;</li> <li>Zeichenfolge <strong>Contract</strong> - Vertragsname;</li> <li><strong>EveryBlock</strong> int - der Kontrakt wird für jede solche Anzahl von Blöcken ausgeführt;</li> <li>Zeichenfolge <strong>Bedingungen</strong> - Erlaubnis, die Aufgabe zu ändern;</li> <li><strong>BlockID</strong> int &quot;optional&quot; - die Block-ID, wo der Vertrag ausgeführt werden muss. Wenn nicht angegeben, wird sie automatisch berechnet, indem die &quot;aktuelle Block-ID&quot; + EveryBlock addiert wird;</li> <li><strong>Limit</strong> int &quot;optional&quot; - die maximale Anzahl der Aufgabenausführungen. Wenn nicht angegeben, wird die Aufgabe unbegrenzt oft ausgeführt.</li> <li><strong>Deleted</strong> int &quot;optional&quot; - Taskwechsel. Ein Wert von &quot;1&quot; deaktiviert die Aufgabe. Ein Wert von &quot;0&quot; aktiviert die Aufgabe.</li></ul> <h3 id="binar-hochladen"><a href="#binar-hochladen" class="header-anchor">#</a> Binär hochladen</h3> <p>Fügt eine statische Datei in der X_binaries-Tabelle hinzu oder überschreibt sie. Beim Aufruf eines Vertrags über die HTTP-API muss die Anfrage im Format „multipart/form-data“ vorliegen; Der DataMimeType-Parameter wird in Verbindung mit den Formulardaten verwendet.</p> <p>Parameter:</p> <ul><li>Zeichenfolge <strong>Name</strong> - Name der statischen Datei;</li> <li><strong>Data</strong> Bytes - Inhalt der statischen Datei;</li> <li><strong>DataMimeType</strong> string &quot;optional&quot; - eine statische Datei im Mime-Type-Format;</li> <li><strong>ApplicationId</strong> int – die der X_binaries-Tabelle zugeordnete Anwendungs-ID.</li></ul> <p>Wenn der DataMimeType-Parameter nicht übergeben wird, wird standardmäßig das <code>application/octet-stream</code>-Format verwendet.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/IBAX-io/documentation/edit/master/docs/de/topics/script.md" target="_blank" rel="noopener noreferrer">Bearbeiten Sie diese Seite auf GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Letzte Aktualisierung:</span> <span class="time">20.4.2022, 05:12:55</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/de/topics/vm.html" class="prev">
        Compiler und virtuelle Maschine
      </a></span> <span class="next"><a href="/de/topics/daemons.html">
        Dämon
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ed2354d3.js" defer></script><script src="/assets/js/2.14a295a1.js" defer></script><script src="/assets/js/26.57296ca7.js" defer></script>
  </body>
</html>
